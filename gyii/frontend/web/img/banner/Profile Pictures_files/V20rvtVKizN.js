if (self.CavalryLogger) { CavalryLogger.start_js(["RvZqA"]); }

__d("URLMatcherConfig",[],(function(a,b,c,d,e,f){e.exports={tlds:"(?:\\.(com|\ud55c\uad6d|\uc0bc\uc131|\ub2f7\ucef4|\ub2f7\ub137|\u9999\u6e2f|\u9999\u683c\u91cc\u62c9|\u9910\u5385|\u98df\u54c1|\u98de\u5229\u6d66|\u96fb\u8a0a\u76c8\u79d1|\u96c6\u56e2|\u901a\u8ca9|\u8d2d\u7269|\u8c37\u6b4c|\u8bfa\u57fa\u4e9a|\u8054\u901a|\u7f51\u7edc|\u7f51\u7ad9|\u7f51\u5e97|\u7f51\u5740|\u7ec4\u7ec7\u673a\u6784|\u79fb\u52a8|\u73e0\u5b9d|\u70b9\u770b|\u6fb3\u9580|\u6e38\u620f|\u6de1\u9a6c\u9521|\u673a\u6784|\u66f8\u7c4d|\u65f6\u5c1a|\u65b0\u95fb|\u65b0\u52a0\u5761|\u653f\u5e9c|\u653f\u52a1|\u624b\u8868|\u624b\u673a|\u6211\u7231\u4f60|\u6148\u5584|\u5fae\u535a|\u5e7f\u4e1c|\u5de5\u884c|\u5bb6\u96fb|\u5a31\u4e50|\u5929\u4e3b\u6559|\u5927\u62ff|\u5927\u4f17\u6c7d\u8f66|\u5728\u7ebf|\u5609\u91cc\u5927\u9152\u5e97|\u5609\u91cc|\u5546\u6807|\u5546\u5e97|\u5546\u57ce|\u53f0\u7063|\u53f0\u6e7e|\u516c\u76ca|\u516c\u53f8|\u516b\u5366|\u5065\u5eb7|\u4fe1\u606f|\u4f5b\u5c71|\u4f01\u4e1a|\u4e2d\u6587\u7f51|\u4e2d\u570b|\u4e2d\u56fd|\u4e2d\u4fe1|\u4e16\u754c|\u30dd\u30a4\u30f3\u30c8|\u30d5\u30a1\u30c3\u30b7\u30e7\u30f3|\u30bb\u30fc\u30eb|\u30b9\u30c8\u30a2|\u30b3\u30e0|\u30b0\u30fc\u30b0\u30eb|\u30af\u30e9\u30a6\u30c9|\u307f\u3093\u306a|\u10d2\u10d4|\u0e44\u0e17\u0e22|\u0e04\u0e2d\u0e21|\u0dbd\u0d82\u0d9a\u0dcf|\u0d2d\u0d3e\u0d30\u0d24\u0d02|\u0cad\u0cbe\u0cb0\u0ca4|\u0c2d\u0c3e\u0c30\u0c24\u0c4d|\u0b9a\u0bbf\u0b99\u0bcd\u0b95\u0baa\u0bcd\u0baa\u0bc2\u0bb0\u0bcd|\u0b87\u0bb2\u0b99\u0bcd\u0b95\u0bc8|\u0b87\u0ba8\u0bcd\u0ba4\u0bbf\u0baf\u0bbe|\u0b2d\u0b3e\u0b30\u0b24|\u0aad\u0abe\u0ab0\u0aa4|\u0a2d\u0a3e\u0a30\u0a24|\u09ad\u09be\u09f0\u09a4|\u09ad\u09be\u09b0\u09a4|\u09ac\u09be\u0982\u09b2\u09be|\u0938\u0902\u0917\u0920\u0928|\u092d\u093e\u0930\u094b\u0924|\u092d\u093e\u0930\u0924\u092e\u094d|\u092d\u093e\u0930\u0924|\u0928\u0947\u091f|\u0915\u0949\u092e|\u0680\u0627\u0631\u062a|\u067e\u0627\u06a9\u0633\u062a\u0627\u0646|\u0647\u0645\u0631\u0627\u0647|\u0645\u0648\u0642\u0639|\u0645\u0648\u0628\u0627\u064a\u0644\u064a|\u0645\u0644\u064a\u0633\u064a\u0627|\u0645\u0635\u0631|\u0643\u0648\u0645|\u0643\u0627\u062b\u0648\u0644\u064a\u0643|\u0642\u0637\u0631|\u0641\u0644\u0633\u0637\u064a\u0646|\u0639\u0645\u0627\u0646|\u0639\u0631\u0628|\u0639\u0631\u0627\u0642|\u0634\u0628\u0643\u0629|\u0633\u0648\u0631\u064a\u0629|\u0633\u0648\u062f\u0627\u0646|\u062a\u0648\u0646\u0633|\u0628\u06be\u0627\u0631\u062a|\u0628\u064a\u062a\u0643|\u0628\u0627\u0632\u0627\u0631|\u0628\u0627\u0631\u062a|\u0627\u06cc\u0631\u0627\u0646|\u0627\u0645\u0627\u0631\u0627\u062a|\u0627\u0644\u0645\u063a\u0631\u0628|\u0627\u0644\u0639\u0644\u064a\u0627\u0646|\u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629|\u0627\u0644\u062c\u0632\u0627\u0626\u0631|\u0627\u0644\u0627\u0631\u062f\u0646|\u0627\u0631\u0627\u0645\u0643\u0648|\u0627\u062a\u0635\u0627\u0644\u0627\u062a|\u0627\u0628\u0648\u0638\u0628\u064a|\u05e7\u05d5\u05dd|\u0570\u0561\u0575|\u049b\u0430\u0437|\u0443\u043a\u0440|\u0441\u0440\u0431|\u0441\u0430\u0439\u0442|\u0440\u0444|\u0440\u0443\u0441|\u043e\u0440\u0433|\u043e\u043d\u043b\u0430\u0439\u043d|\u043c\u043e\u0441\u043a\u0432\u0430|\u043c\u043e\u043d|\u043c\u043a\u0434|\u043a\u043e\u043c|\u043a\u0430\u0442\u043e\u043b\u0438\u043a|\u0435\u044e|\u0434\u0435\u0442\u0438|\u0431\u0435\u043b|\u0431\u0433|\u03b5\u03bb|zw|zuerich|zone|zm|zippo|zip|zero|zara|zappos|za|yun|yt|youtube|you|yokohama|yoga|yodobashi|ye|yandex|yamaxun|yahoo|yachts|xyz|xxx|xperia|xn--zfr164b|xn--ygbi2ammx|xn--yfro4i67o|xn--y9a3aq|xn--xkc2dl3a5ee0h|xn--xkc2al3hye2a|xn--xhq521b|xn--wgbl6a|xn--wgbh1c|xn--w4rs40l|xn--w4r85el8fhu5dnra|xn--vuq861b|xn--vhquv|xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--unup4y|xn--tiq49xqyj|xn--tckwe|xn--t60b56a|xn--ses554g|xn--s9brj9c|xn--rvc1e0am3e|xn--rovu88b|xn--rhqv96g|xn--qxam|xn--qcka1pmc|xn--q9jyb4c|xn--pssy2u|xn--pgbs0dh|xn--pbt977c|xn--p1ai|xn--p1acf|xn--ogbpf8fl|xn--o3cw4h|xn--nyqy26a|xn--nqv7fs00ema|xn--nqv7f|xn--node|xn--ngbrx|xn--ngbe9e0a|xn--ngbc5azd|xn--mxtq1m|xn--mk1bu44c|xn--mix891f|xn--mgbx4cd0ab|xn--mgbtx2b|xn--mgbt3dhd|xn--mgbpl2fh|xn--mgbi4ecexp|xn--mgbgu82a|xn--mgberp4a5d4ar|xn--mgbca7dzdo|xn--mgbc0a9azcg|xn--mgbbh1a71e|xn--mgbbh1a|xn--mgbb9fbpob|xn--mgbayh7gpa|xn--mgbai9azgqp6j|xn--mgbab2bd|xn--mgbaam7a8h|xn--mgbaakc7dvf|xn--mgba7c0bbn0a|xn--mgba3a4f16a|xn--mgba3a3ejt|xn--mgb9awbf|xn--lgbbat1ad8j|xn--l1acc|xn--kput3i|xn--kpu716f|xn--kpry57d|xn--kprw13d|xn--kcrx77d1x4a|xn--jvr189m|xn--jlq61u9w7b|xn--j6w193g|xn--j1amh|xn--j1aef|xn--io0a7i|xn--imr513n|xn--i1b6b1a6a2e|xn--hxt814e|xn--h2brj9c8c|xn--h2brj9c|xn--h2breg3eve|xn--gk3at1e|xn--gecrj9c|xn--gckr3f0f|xn--g2xx48c|xn--fzys8d69uvgm|xn--fzc2c9e2c|xn--fpcrj9c3d|xn--flw351e|xn--fjq720a|xn--fiqz9s|xn--fiqs8s|xn--fiq64b|xn--fiq228c5hs|xn--fhbei|xn--fct429k|xn--estv75g|xn--efvy88h|xn--eckvdtc9d|xn--e1a4c|xn--d1alf|xn--d1acj3b|xn--czru2d|xn--czrs0t|xn--czr694b|xn--clchc0ea0b2g2a9gcd|xn--cg4bki|xn--cck2b3b|xn--c2br7g|xn--c1avg|xn--bck1b9a5dre4c|xn--b4w605ferd|xn--9krt00a|xn--9et52u|xn--9dbq2a|xn--90ais|xn--90ae|xn--90a3ac|xn--8y0a063a|xn--80aswg|xn--80asehdb|xn--80aqecdr1a|xn--80ao21a|xn--80adxhks|xn--6qq986b3xl|xn--6frz82g|xn--5tzm5g|xn--5su34j936bgsg|xn--55qx5d|xn--55qw42g|xn--54b7fta0cc|xn--4gbrim|xn--45q11c|xn--45brj9c|xn--45br5cyl|xn--42c2d9a|xn--3pxu8k|xn--3oq18vl8pn36a|xn--3hcrj9c|xn--3e0b707e|xn--3ds443g|xn--3bst00m|xn--30rr7y|xn--2scrj9c|xn--1qqw23a|xn--1ck2e1b|xn--11b4c3d|xin|xihuan|xfinity|xerox|xbox|wtf|wtc|ws|wow|world|works|work|woodside|wolterskluwer|wme|winners|wine|windows|win|williamhill|wiki|wien|whoswho|wf|weir|weibo|wedding|wed|website|weber|webcam|weatherchannel|weather|watches|watch|warman|wanggou|wang|walter|walmart|wales|vuelos|vu|voyage|voto|voting|vote|volvo|volkswagen|vodka|vn|vlaanderen|vivo|viva|vistaprint|vista|vision|visa|virgin|vip|vin|villas|viking|vig|video|viajes|vi|vg|vet|versicherung|verm\xf6gensberatung|verm\xf6gensberater|verisign|ventures|vegas|ve|vc|vanguard|vana|vacations|va|uz|uy|us|ups|uol|uno|university|unicom|uk|ug|uconnect|ubs|ubank|ua|tz|tw|tvs|tv|tushu|tunes|tui|tube|tt|trv|trust|travelersinsurance|travelers|travelchannel|travel|training|trading|trade|tr|toys|toyota|town|tours|total|toshiba|toray|top|tools|tokyo|today|to|tn|tmall|tm|tl|tkmaxx|tk|tjx|tjmaxx|tj|tirol|tires|tips|tiffany|tienda|tickets|tiaa|theatre|theater|thd|th|tg|tf|teva|tennis|temasek|telefonica|telecity|tel|technology|tech|team|tdk|td|tci|tc|taxi|tax|tattoo|tatar|tatamotors|target|taobao|talk|taipei|tab|sz|systems|symantec|sydney|sy|sx|swiss|swiftcover|swatch|sv|suzuki|surgery|surf|support|supply|supplies|sucks|su|style|study|studio|stream|store|storage|stockholm|stcgroup|stc|statoil|statefarm|statebank|starhub|star|staples|stada|st|srt|srl|sr|spreadbetting|spot|sport|spiegel|space|soy|sony|song|solutions|solar|sohu|software|softbank|social|soccer|so|sncf|sn|smile|smart|sm|sling|sl|skype|sky|skin|ski|sk|sj|site|singles|sina|silk|si|shriram|showtime|show|shouji|shopping|shop|shoes|shiksha|shia|shell|shaw|sharp|shangrila|sh|sg|sfr|sexy|sex|sew|seven|ses|services|sener|select|seek|security|secure|seat|search|se|sd|scot|scor|scjohnson|science|schwarz|schule|school|scholarships|schmidt|schaeffler|scb|sca|sc|sbs|sbi|sb|saxo|save|sas|sarl|sapo|sap|sanofi|sandvikcoromant|sandvik|samsung|samsclub|salon|sale|sakura|safety|safe|saarland|sa|ryukyu|rwe|rw|run|ruhr|rugby|ru|rsvp|rs|room|rogers|rodeo|rocks|rocher|ro|rmit|rip|rio|ril|rightathome|ricoh|richardli|rich|rexroth|reviews|review|restaurant|rest|republican|report|repair|rentals|rent|ren|reliance|reit|reisen|reise|rehab|redumbrella|redstone|red|recipes|realty|realtor|realestate|read|re|raid|radio|racing|qvc|quest|quebec|qpon|qa|py|pwc|pw|pub|pt|ps|prudential|pru|protection|property|properties|promo|progressive|prof|productions|prod|pro|prime|press|praxi|pramerica|pr|post|porn|politie|poker|pohl|pnc|pn|pm|plus|plumbing|playstation|play|place|pl|pk|pizza|pioneer|pink|ping|pin|pid|pictures|pictet|pics|piaget|physio|photos|photography|photo|phone|philips|phd|pharmacy|ph|pg|pfizer|pf|pet|pe|pccw|pay|passagens|party|parts|partners|pars|paris|panerai|panasonic|page|pa|ovh|ott|otsuka|osaka|origins|organic|org|orange|oracle|open|ooo|onyourside|online|onl|onion|ong|one|omega|om|ollo|oldnavy|olayangroup|olayan|okinawa|office|off|observer|obi|nz|nyc|nu|ntt|nrw|nra|nr|np|nowtv|nowruz|now|norton|northwesternmutual|nokia|no|nl|nissay|nissan|ninja|nikon|nike|nico|ni|nhk|ngo|ng|nfl|nf|nexus|nextdirect|next|news|newholland|new|neustar|network|netflix|netbank|net|nec|ne|nc|nba|navy|natura|nationwide|name|nagoya|nadex|nab|na|mz|my|mx|mw|mv|mutual|museum|mu|mtr|mtn|mt|msd|ms|mr|mq|mp|movistar|movie|mov|motorcycles|moto|moscow|mortgage|mormon|mopar|monster|money|monash|mom|moi|moe|moda|mobily|mobile|mobi|mo|mn|mma|mm|mls|mlb|ml|mk|mitsubishi|mit|mint|mini|mil|microsoft|miami|mh|mg|metlife|merckmsd|meo|menu|men|memorial|meme|melbourne|meet|media|med|me|md|mckinsey|mc|mba|mattel|maserati|marshalls|marriott|markets|marketing|market|map|mango|management|man|makeup|maison|maif|madrid|macys|ma|ly|lv|luxury|luxe|lupin|lundbeck|lu|ltda|ltd|lt|ls|lr|lplfinancial|lpl|love|lotto|lotte|london|lol|loft|locus|locker|loans|loan|lk|lixil|living|live|lipsy|link|linde|lincoln|limo|limited|lilly|like|lighting|lifestyle|lifeinsurance|life|lidl|liaison|li|lgbt|lexus|lego|legal|lefrak|leclerc|lease|lds|lc|lb|lawyer|law|latrobe|latino|lat|lasalle|lanxess|landrover|land|lancome|lancia|lancaster|lamer|lamborghini|ladbrokes|lacaixa|la|kz|kyoto|ky|kw|kuokgroup|kred|krd|kr|kpn|kpmg|kp|kosher|komatsu|koeln|kn|km|kiwi|kitchen|kindle|kinder|kim|kia|ki|kh|kg|kfh|kerryproperties|kerrylogistics|kerryhotels|ke|kddi|kaufen|juniper|juegos|jprs|jpmorgan|jp|joy|jot|joburg|jobs|jo|jnj|jmp|jm|jll|jlc|jio|jewelry|jetzt|jeep|je|jcp|jcb|java|jaguar|iwc|iveco|itv|itau|it|istanbul|ist|ismaili|iselect|is|irish|ir|iq|ipiranga|io|investments|intuit|international|intel|int|insure|insurance|institute|ink|ing|info|infiniti|industries|in|immobilien|immo|imdb|imamat|im|il|ikano|ifm|ieee|ie|id|icu|ice|icbc|ibm|hyundai|hyatt|hughes|hu|ht|hsbc|hr|how|house|hotmail|hotels|hoteles|hot|hosting|host|hospital|horse|honeywell|honda|homesense|homes|homegoods|homedepot|holiday|holdings|hockey|hn|hm|hkt|hk|hiv|hitachi|hisamitsu|hiphop|hgtv|hermes|here|helsinki|help|healthcare|health|hdfcbank|hdfc|hbo|haus|hangout|hamburg|hair|gy|gw|guru|guitars|guide|guge|gucci|guardian|gu|gt|gs|group|grocery|gripe|green|gratis|graphics|grainger|gr|gq|gp|gov|got|gop|google|goog|goodyear|goodhands|goo|golf|goldpoint|gold|godaddy|gn|gmx|gmo|gmbh|gmail|gm|globo|global|gle|glass|glade|gl|giving|gives|gifts|gift|gi|gh|ggee|gg|gf|george|genting|gent|gea|ge|gdn|gd|gbiz|gb|garden|gap|games|game|gallup|gallo|gallery|gal|ga|fyi|futbol|furniture|fund|fun|fujixerox|fujitsu|ftr|frontier|frontdoor|frogans|frl|fresenius|free|fr|fox|foundation|forum|forsale|forex|ford|football|foodnetwork|food|foo|fo|fm|fly|flowers|florist|flir|flights|flickr|fk|fj|fitness|fit|fishing|fish|firmdale|firestone|fire|financial|finance|final|film|fido|fidelity|fiat|fi|ferrero|ferrari|feedback|fedex|fast|fashion|farmers|farm|fans|fan|family|faith|fairwinds|fail|fage|extraspace|express|exposed|expert|exchange|everbank|events|eus|eurovision|eu|etisalat|et|esurance|estate|esq|es|erni|ericsson|er|equipment|epson|epost|enterprises|engineering|engineer|energy|emerck|email|eg|ee|education|edu|edeka|eco|ec|eat|earth|dz|dvr|dvag|durban|dupont|duns|dunlop|duck|dubai|dtv|drive|download|dot|domains|doha|dog|dodge|doctor|docs|do|dnp|dm|dk|dj|diy|dish|discover|discount|directory|direct|digital|diet|diamonds|dhl|dev|design|desi|dentist|dental|democrat|delta|deloitte|dell|delivery|degree|deals|dealer|deal|de|dds|dclk|day|datsun|dating|date|data|dance|dad|dabur|cz|cyou|cymru|cy|cx|cw|cv|cuisinella|cu|csc|cruises|cruise|crs|crown|cricket|creditunion|creditcard|credit|cr|courses|coupons|coupon|country|corsica|coop|cool|cookingchannel|cooking|contractors|contact|consulting|construction|condos|comsec|computer|compare|company|community|commbank|comcast|com|cologne|college|coffee|codes|coach|co|cn|cm|clubmed|club|cloud|clothing|clinique|clinic|click|cleaning|claims|cl|ck|cityeats|city|citic|citi|citadel|cisco|circle|cipriani|ci|church|chrysler|chrome|christmas|chintai|cheap|chat|chase|channel|chanel|ch|cg|cfd|cfa|cf|cern|ceo|center|ceb|cd|cc|cbs|cbre|cbn|cba|catholic|catering|cat|casino|cash|caseih|case|casa|cartier|cars|careers|career|care|cards|caravan|car|capitalone|capital|capetown|canon|cancerresearch|camp|camera|cam|calvinklein|call|cal|cafe|cab|ca|bzh|bz|by|bw|bv|buzz|buy|business|builders|build|bugatti|budapest|bt|bs|brussels|brother|broker|broadway|bridgestone|bradesco|br|box|boutique|bot|boston|bostik|bosch|boots|booking|book|boo|bond|bom|bofa|boehringer|boats|bo|bnpparibas|bnl|bn|bmw|bms|bm|blue|bloomberg|blog|blockbuster|blanco|blackfriday|black|bj|biz|bio|bingo|bing|bike|bid|bible|bi|bharti|bh|bg|bf|bet|bestbuy|best|berlin|bentley|beer|beauty|beats|be|bd|bcn|bcg|bbva|bbt|bbc|bb|bayern|bauhaus|basketball|baseball|bargains|barefoot|barclays|barclaycard|barcelona|bar|bank|band|bananarepublic|banamex|baidu|baby|ba|azure|az|axa|ax|aws|aw|avianca|autos|auto|author|auspost|audio|audible|audi|auction|au|attorney|athleta|at|associates|asia|asda|as|arte|art|arpa|army|archi|aramco|arab|ar|aquarelle|aq|apple|app|apartments|aol|ao|anz|anquan|android|analytics|amsterdam|amica|amfam|amex|americanfamily|americanexpress|am|alstom|alsace|ally|allstate|allfinanz|alipay|alibaba|alfaromeo|al|akdn|airtel|airforce|airbus|aigo|aig|ai|agency|agakhan|ag|africa|afl|afamilycompany|af|aetna|aero|aeg|ae|adult|ads|adac|ad|actor|active|aco|accountants|accountant|accenture|academy|ac|abudhabi|abogado|able|abc|abbvie|abbott|abb|abarth|aarp|aaa))"}}),null);
__d("MCommentStatusLogger",["BanzaiLogger","ex","uuid"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=Object.freeze({INIT:"init",SUBMIT:"submit",RESPOND:"respond",RENDER:"render"});function a(a,b,c){this.prevEventType=a||null,this.perfLoggable=!!b,this.isEndStep=!!c}var k={};k[j.INIT]=new a();k[j.SUBMIT]=new a(j.INIT,!0);k[j.RESPOND]=new a(j.SUBMIT,!0);k[j.RENDER]=new a(j.RESPOND,!0,!0);function l(a){this.$1=a,this.$2={},this.$3=0,this.$4=0,this.$5=null}l.prototype.$6=function(a){return a in this.$2};l.prototype.logEvent=function(a,b){__p&&__p();if(this.$6(a)||!(a in k))return!1;var c=k[a],d=c.prevEventType;if(d&&!this.$6(d))return!1;this.$3=b&&Object.prototype.hasOwnProperty.call(b,"text")?b.text:this.$3;this.$4=b&&Object.prototype.hasOwnProperty.call(b,"photo")?b.photo:this.$4;this.$5=(b&&Object.prototype.hasOwnProperty.call(b,"stickerID")?b.stickerID:this.$5)||null;b=Date.now();var e=Math.round(b/1e3);this.$2[a]=b;b={event:a,text_length:this.$3,num_photos:this.$4,sticker_id:this.$5,interaction_key:this.$1,client_time:e};if(d&&c.perfLoggable){e=this.$7(d,a);b=babelHelpers["extends"]({duration:e},b)}g.create({retry:!0}).log("MCommentWriteWaterfallLoggerConfig",b);return!0};l.prototype.$7=function(a,b){var c=this.$2;if(!this.$6(a)||!this.$6(b))return null;a=c[a];c=c[b];return a>c?null:c-a};var m={};b={newInteractionKey:function(){return i()},_logCommentStatus:function(a,b,c){__p&&__p();if(!(b in k))return;var d=m[a];if(b===j.INIT)if(d)return;else d=new l(a),m[a]=d;if(!d)return;d=d.logEvent(b,c);d&&k[b].isEndStep&&this.clear(a)},logInitText:function(a){this._logCommentStatus(a,j.INIT,{text:1})},logInitPhoto:function(a){this._logCommentStatus(a,j.INIT,{photo:1})},logSubmit:function(a,b){this._logCommentStatus(a,j.SUBMIT,{text:b.text,photo:b.photo,stickerID:null})},logReceiveResponse:function(a,b){this._logCommentStatus(a,j.RESPOND,{text:b.text,photo:b.photo,stickerID:b.stickerID})},logRender:function(a){this._logCommentStatus(a,j.RENDER)},logInitAndSubmitSticker:function(a,b){this._logCommentStatus(a,j.INIT,{text:0,photo:0,stickerID:b}),this._logCommentStatus(a,j.SUBMIT,{text:0,photo:0,stickerID:b})},clear:function(a){a in m&&delete m[a]}};e.exports=b}),null);
__d("MLoadingIndicator.react",["IndicatorType","MJSAnimator","MJSEnvironment","React","ReactDOM","cx"],(function(a,b,c,d,e,f,g,h,i,j,k,l){__p&&__p();var m;b=j.PropTypes;var n=i.IS_APPLE_WEBKIT_IOS,o=i.IS_ANDROID&&i.OS_VERSION<4;c=babelHelpers.inherits(a,j.Component);m=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=m.constructor).call.apply(a,[this].concat(d)),this.getClassName=function(){return(this.props.className||"")+" "+((o?"":"_55on")+" _2so"+(this.props.background==="dark"?" _2st":"")+(this.props.background==="light"?" _2ss":"")+(this.props.size==="large"?" _2sq":"")+(this.props.size==="small"?" _2sp":"")+(!o&&!n?" _50cg":"")+(n?" _50ch":"")+(o?" _2su":""))}.bind(this),this.renderGradientIfNeeded=function(){return o||!n?null:j.createElement("div",{className:"_2sr _55on"})},b}a.prototype.componentDidMount=function(){"use strict";o&&(this.$1=new h(k.findDOMNode(this.refs.spinner),g.ANDROID_NONROTATING,!1),this.$1.start())};a.prototype.componentWillUnmount=function(){"use strict";this.$1&&(this.$1.cleanup(),this.$1=null)};a.prototype.render=function(){"use strict";return j.createElement("div",{ref:"spinner",className:this.getClassName()},this.renderGradientIfNeeded())};a.propTypes={background:b.oneOf(["light","dark"]),size:b.oneOf(["small","large"])};a.defaultProps={background:"light",size:"large"};e.exports=a}),null);
__d("MXUILayout.react",["MXUIDiv.react","React","cx","joinClasses"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k;function l(a){return(a==="start"?"_52wc":"")+(a==="end"?" _52wd":"")+(a==="center"?" _52we":"")+(a==="stretch"?" _52wf":"")}b=babelHelpers.inherits(a,h.Component);k=b&&b.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=k.constructor).call.apply(a,[this].concat(d)),this.state={align:this.props.align},b}a.prototype.hasAlignSelfChildren=function(){"use strict";var a=h.Children.toArray(this.props.children);for(var b=0;b<a.length;b++){var c=a[b];if(Object.prototype.hasOwnProperty.call(c.props,"alignself"))return!0}return!1};a.prototype.render=function(){"use strict";var a=this.props,b=a.align,c=a.className,d=a.children;a=babelHelpers.objectWithoutProperties(a,["align","className","children"]);var e="_4g33",f;this.hasAlignSelfChildren()?f=h.Children.toArray(d).map(function(a){return Object.prototype.hasOwnProperty.call(a.props,"alignself")?a:h.cloneElement(a,{alignself:this.state.align})}.bind(this)):(f=d,e=j(l(b),e));return h.createElement(g,babelHelpers["extends"]({},a,{className:j(c,e)}),f)};a.defaultProps={align:"stretch"};e.exports=a}),null);
__d("MXUILayoutColumn.react",["MJSEnvironment","MXUIDiv.react","React","cx","joinClasses"],(function(a,b,c,d,e,f,g,h,i,j,k){__p&&__p();var l;function m(a){return(a==="start"?"_52wc":"")+(a==="end"?" _52wd":"")+(a==="center"?" _52we":"")+(a==="stretch"?" _52wf":"")}l=babelHelpers.inherits(a,i.Component);l&&l.prototype;a.prototype.render=function(){"use strict";var a=this.props,b=a.className,c=a.alignself,d=a.children;a=babelHelpers.objectWithoutProperties(a,["className","alignself","children"]);if(Object.prototype.hasOwnProperty.call(this.props,"alignself")){b=k(b,"_5i2i",m(c));if(g.IS_FIREFOX)return i.createElement(h,babelHelpers["extends"]({},a,{className:b}),i.createElement(h,{className:"_5xu4"},d))}return i.createElement(h,babelHelpers["extends"]({},a,{className:b}),d)};function a(){"use strict";l.apply(this,arguments)}e.exports=a}),null);
__d("MXUILayoutFillColumn.react",["MXUILayoutColumn.react","React","cx","joinClasses"],(function(a,b,c,d,e,f,g,h,i,j){function a(a){var b="_4g34";return h.createElement(g,babelHelpers["extends"]({},a,{className:j(a.className,b)}),a.children)}e.exports=a}),null);
__d("SelfRemediationActionsDialogTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){h.log("logger:SelfRemediationActionsDialogLoggerConfig",this.$1,g.BASIC)};a.prototype.logVital=function(){h.log("logger:SelfRemediationActionsDialogLoggerConfig",this.$1,g.VITAL)};a.prototype.logImmediately=function(){h.log("logger:SelfRemediationActionsDialogLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setActionNames=function(a){this.$1.action_names=h.serializeVector(a);return this};a.prototype.setContentID=function(a){this.$1.content_id=a;return this};a.prototype.setEntryPoint=function(a){this.$1.entry_point=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setIsReportable=function(a){this.$1.is_reportable=a;return this};a.prototype.setStoryLocation=function(a){this.$1.story_location=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};b={action_names:!0,content_id:!0,entry_point:!0,event:!0,is_reportable:!0,story_location:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("GridItem.react",["React","cx","joinClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";function a(a){var b=a.alignv,c=a.alignh,d=a.className;a=babelHelpers.objectWithoutProperties(a,["alignv","alignh","className"]);return g.createElement("td",babelHelpers["extends"]({},a,{className:i(d,"_51m-"+(b==="top"?" vTop":"")+(b==="middle"?" vMid":"")+(b==="bottom"?" vBot":"")+(c==="left"?" hLeft":"")+(c==="center"?" hCent":"")+(c==="right"?" hRght":""))}))}e.exports=a}),null);
__d("Grid.react",["GridItem.react","React","cx","joinClasses"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k;k=babelHelpers.inherits(l,h.Component);k&&k.prototype;l.prototype.render=function(){__p&&__p();var a=this.props,b=a.alignh,c=a.alignv,d=a.children,e=a.cols,f=a.fixed,i=a.spacing,k=h.Children.count(d),m=[],n=[],o=0;h.Children.forEach(d,function(a,d){__p&&__p();if(a===null||a===void 0)return;var p=a.type===l.GridItem;o+=p?Math.max(a.props.colSpan||0,1):1;var q=o===e?"_51mw":"";p=p?h.cloneElement(a,{key:a.key||d,alignh:a.props.alignh||b,alignv:a.props.alignv||c,className:j(a.props.className,i,q)}):h.createElement(g,{alignh:b,alignv:c,className:j(i,q),key:a.key||d},a);n.push(p);if(o%e===0||d+1===k){if(f===!0&&o<e){for(var q=o;q<e;q++)n.push(h.createElement(g,{key:d+q}));o=e}m.push(h.createElement("tr",{className:"_51mx",key:d},n));n=[];o=0}});return h.createElement("table",babelHelpers["extends"]({},this.props,{className:j(this.props.className,"uiGrid _51mz"+(f===!0?" _5f0n":"")),cellSpacing:"0",cellPadding:"0"}),h.createElement("tbody",null,m))};function l(){k.apply(this,arguments)}l.GridItem=g;e.exports=l}),null);
__d("MStickersWebDriverIDs",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({STICKER_BUTTON:"MStickersWebDriverIDsStickerButton",STICKER_SELECTOR_CONTENT:"MStickersWebDriverIDsStickerSelectorContent",STICKER_NONSEARCH_PACK_BUTTON:"MStickersWebDriverIDsStickerNonsearchPackButton",STICKER_PACK_ITEM:"MStickersWebDriverIDsStickerPackItem"})}),null);
__d("shallowEqual",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=Object.prototype.hasOwnProperty;function h(a,b){if(a===b)return a!==0||b!==0||1/a===1/b;else return a!==a&&b!==b}function a(a,b){__p&&__p();if(h(a,b))return!0;if(typeof a!=="object"||a===null||typeof b!=="object"||b===null)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(var d=0;d<c.length;d++)if(!g.call(b,c[d])||!h(a[c[d]],b[c[d]]))return!1;return!0}e.exports=a}),null);
__d("fbjs/lib/shallowEqual",["shallowEqual"],(function(a,b,c,d,e,f){"use strict";e.exports=b("shallowEqual")}),null);
__d("shallowCompare",["fbjs/lib/shallowEqual"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){return!g(a.props,b)||!g(a.state,c)}e.exports=a}),null);
__d("ReactComponentWithPureRenderMixin",["shallowCompare"],(function(a,b,c,d,e,f,g){"use strict";a={shouldComponentUpdate:function(a,b){return g(this,a,b)}};e.exports=a}),null);
__d("isKeyActivation",["Keys"],(function(a,b,c,d,e,f,g){"use strict";function a(event){var a=0,b=event.charCode,c=event.keyCode;b!=null&&b!==0?a=b:c!=null&&c!==0&&(a=c);return[g.RETURN,g.SPACE].includes(a)}e.exports=a}),null);
__d("KeyActivationToClickHOC.react",["React","isKeyActivation"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();var b,c;return c=b=function(){__p&&__p();var b,c;b=babelHelpers.inherits(d,g.Component);c=b&&b.prototype;function d(){var a;for(var b=arguments.length,d=new Array(b),e=0;e<b;e++)d[e]=arguments[e];(a=c.constructor).call.apply(a,[this].concat(d));this.$2=function(event){h(event)&&(event.preventDefault(),event.stopPropagation(),this.$1&&this.$1.click())}.bind(this);this.$3=function(a){this.$1=a}.bind(this);this.$1=null}d.prototype.render=function(){"use strict";return g.createElement(a,babelHelpers["extends"]({},this.props,{keyActivationToClickEvent:this.$2,keyActivationToClickRef:this.$3}))};return d}(),b.displayName="KeyActivationToClickHOC",c}.bind(this);e.exports=a}),null);
__d("ShimButton.react",["KeyActivationToClickHOC.react","React","emptyFunction"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j;b=h.PropTypes;c=babelHelpers.inherits(a,h.Component);j=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.$1=function(event){this.props.keyActivationToClickEvent(event),this.props.onKeyPress(event)}.bind(this),this.$2=function(a){this.props.keyActivationToClickRef(a),this.props.onRef(a)}.bind(this),b}a.prototype.render=function(){"use strict";__p&&__p();var a=this.props,b=a.children,c=a.form,d=a.inline;a.keyActivationToClickEvent;a.keyActivationToClickRef;a.onRef;var e=a.pressed;a=babelHelpers.objectWithoutProperties(a,["children","form","inline","keyActivationToClickEvent","keyActivationToClickRef","onRef","pressed"]);d=d?"span":"div";c==="link"&&(d="a");return h.createElement(d,babelHelpers["extends"]({},a,{"aria-pressed":e,ref:this.$2,role:"button",onKeyPress:this.$1}),b)};a.defaultProps={form:"none",inline:!1,keyActivationToClickRef:i,tabIndex:"0",onClick:i,onKeyPress:i,onRef:i};a.propTypes={children:b.any,form:b.oneOf(["none","link"]),inline:b.bool,tabIndex:b.oneOf(["-1","0",-1,0]),onClick:b.func,onKeyPress:b.func,onRef:b.func};e.exports=g(a)}),null);
__d("StickerInterfaces",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({MESSAGES:"messages",NEO:"neo",COMMENTS:"comments",STICKERED:"stickered",COMPOSER:"composer",POSTS:"posts",FRAMES:"frames",SMS:"sms",MONTAGE:"montage"})}),null);
__d("XStickerPackImagesController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/stickers/{pack_id}/images/",{pack_id:{type:"Int",required:!0},sticker_size:{type:"Int",defaultValue:50}})}),null);
__d("XStickerQueryImagesController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/stickers/query/images/",{query:{type:"String",required:!0},sticker_interface:{type:"String"}})}),null);
__d("MStickerPack.react",["Grid.react","MRequest","MStickersInitialData","MStickersWebDriverIDs","MURI","React","Image.react","ReactComponentWithPureRenderMixin","ShimButton.react","StickerInterfaces","XStickerPackImagesController","XStickerQueryImagesController","cx","ix","fbt","debounceCore"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){"use strict";__p&&__p();var w=g.GridItem,x=i.MRU_STICKER_PACK,y=14,z={};a=l.createClass({displayName:"MStickerPack",mixins:[n],getInitialState:function(){return{input:"",loading:!1,searching:!1,stickers:[]}},getDefaultProps:function(){return{isComments:!1}},UNSAFE_componentWillMount:function(){this._debouncedGetStickersForQuery=v(this.getStickersForQuery,500),this.getStickers(this.props.pack.id)},UNSAFE_componentWillReceiveProps:function(a){this.getStickers(a.pack.id)},componentWillUnmount:function(){this._debouncedGetStickersForQuery.reset()},updateRecentlyUsed:function(a){var b=z[x]||[];for(var c=0;c<b.length;++c)if(b[c].id===a.id){b.splice(c,1);break}b.unshift(a);z[x]||(z[x]=b,i.packs.unshift(i.mru))},getStickers:function(a){__p&&__p();if(!a||a==i.SEARCH_PACK)return;if(a in z){this.setState({input:"",loading:!1,stickers:z[a],searching:!1});return}var b=q.getURIBuilder().setInt("pack_id",a).getURI();b=new h(new k(b));b.listen("done",function(b){z[a]=b.payload,this.isMounted()&&this.setState({input:"",loading:!1,stickers:b.payload,searching:!1})}.bind(this));this.setState({loading:!0});b.send()},getStickersForQuery:function(a,b){__p&&__p();if(a.length===0){this.setState({loading:!1,searching:!1});return}if(a!=this.state.input&&!b)return;b=r.getURIBuilder().setString("query",a).setString("sticker_interface",this.props.isComments?p.COMMENTS:p.MESSAGES).getURI();b=new h(new k(b));b.listen("done",function(b){b=b.payload||[];this.isMounted()&&a==this.state.input&&this.setState({loading:!1,stickers:b,searching:!0})}.bind(this));this.setState({loading:!0});b.send()},selectSticker:function(a){this.updateRecentlyUsed(a),this.props.onSelect&&this.props.onSelect(a.id)},renderSticker:function(a,b){__p&&__p();var c=null;if(this.props.isComments&&!a.isCommentsCapable){if(this.props.pack.id==i.MRU_STICKER_PACK)return}else if(!this.props.isComments&&!a.isMessengerCapable){if(this.props.pack.id==i.MRU_STICKER_PACK)return}else c=this.selectSticker.bind(this,a);var d=null;this.props.isFlyout&&(d="composer-submit");return l.createElement("button",{className:"_5asg","data-testid":j.STICKER_PACK_ITEM,"data-sigil":d,key:"sticker-"+b,onClick:c,role:"button"},l.createElement(m,{src:a.uri,alt:u._("{pack name} {sticker name} sticker",[u._param("pack name",a.packName),u._param("sticker name",a.accessibilityLabel)])}))},_getRenderedFakeStickers:function(){return Array.from(new Array(y),function(a,b){return l.createElement("div",{key:"fake-"+b,className:"_u2_"})})},_getRenderedStickerGridItems:function(){return this.state.stickers.map(this.renderSticker).concat(this._getRenderedFakeStickers())},render:function(){if(this.props.pack.id==i.SEARCH_PACK)return l.createElement("div",{className:"_5ash"},l.createElement("div",{className:"_5ef_"},this._renderSearch(),this._renderTags(),this._renderStickerSearchResults()),this._renderLoading());return this.state.loading?l.createElement("div",{className:"_5ash"},this._renderLoading()):l.createElement("div",{className:"_5ash"+(this.props.isComments&&!this.props.pack.isCommentsCapable?" _5jkg":""),onScroll:this.props.onScroll},l.createElement("div",{className:"_5ef_",onScroll:this._onScroll},this._getRenderedStickerGridItems()),this.renderMask())},_renderLoading:function(){return!this.state.loading?null:l.createElement("span",{className:"_5asi"},u._("Loading..."))},_renderStickerSearchResults:function(){if(!this.state.searching||this.state.loading)return null;return this.state.stickers.length===0?l.createElement("div",{className:"_4op9"},l.createElement(m,{src:t("87146")}),l.createElement("p",null,u._("No Stickers to Show"))):l.createElement("div",{className:"_5ash"+(this.props.isComments&&!this.props.pack.isCommentsCapable?" _5jkg":""),onScroll:this.props.onScroll},l.createElement("div",{className:"_5ef_"},this._getRenderedStickerGridItems()),this.renderMask())},renderMask:function(){return!(this.props.isComments&&!this.props.pack.isCommentsCapable)?null:l.createElement("div",{className:"_5jkh"},l.createElement("div",{className:"_5jki"},u._("This pack is only available in messages")))},_renderSearch:function(){return l.createElement("div",{className:"_2j-l"},l.createElement("span",{className:"_2j-m"}),this._renderCloseButton(),l.createElement("div",{className:"_4opa"},l.createElement("input",{className:"_2j-n",onChange:this._inputChanged,onFocus:this.props.onInputFocus,onBlur:this.props.onInputBlur,ref:"stickerQuery",value:this.state.input,placeholder:u._("Search stickers"),type:"text"})))},_renderCloseButton:function(){if(this.state.input.length>0)return l.createElement(o,{className:"_4opb",inline:!0,onClick:this._clearInput})},_renderTags:function(){if(this.state.searching||this.state.loading)return null;var a=i.tags.filter(function(a){return a.sourceURI!==null}).sort(function(a,b){return a.order-b.order}).map(function(a,b){return l.createElement(w,{className:"_2j-o",key:b},l.createElement("div",{className:"_2j-p"},l.createElement(o,{className:"_2j-q",onClick:this._selectTag.bind(this,a),style:{background:"#"+a.color_code}},l.createElement(m,{src:a.sourceURI}),l.createElement("span",null,a.name))))}.bind(this));return l.createElement(g,{className:"_2j-r",cols:2,fixed:!0,ref:"grid"},a)},_inputChanged:function(event){this.setState({input:event.target.value}),this._debouncedGetStickersForQuery(event.target.value,!1)},_clearInput:function(){this.setState({input:"",loading:!1,searching:!1})},_selectTag:function(a){this.setState({input:a.name}),this.getStickersForQuery(a.name,!0)}});e.exports=a}),null);
__d("MStickerPackButton.react",["Image.react","MStickersInitialData","MStickersWebDriverIDs","React","ShimButton.react","cx"],(function(a,b,c,d,e,f,g,h,i,j,k,l){__p&&__p();var m;b=babelHelpers.inherits(a,j.PureComponent);m=b&&b.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=m.constructor).call.apply(a,[this].concat(d)),this.onClick=function(){this.props.onclick&&this.props.onclick(this.props.pack)}.bind(this),b}a.prototype.render=function(){"use strict";var a="_5arz _5cni"+(this.props.selected?" _5ar-":"")+(this.props.disabled?" _4f39":""),b=this.props.pack,c;b.id==h.MRU_STICKER_PACK?c=j.createElement("span",{className:"_3rsg"}):b.id==h.SEARCH_PACK?c=j.createElement("span",{className:"_cmr"}):c=j.createElement(g,{src:b.icon,alt:b.name});b=b.id==h.SEARCH_PACK?null:i.STICKER_NONSEARCH_PACK_BUTTON;return j.createElement(k,{className:a,"data-testid":b,form:"link",onClick:this.onClick,rel:"ignore"},j.createElement("div",{className:"_3pcz"},c))};e.exports=a}),null);
__d("XStickerStorePermalinkController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/stickers/",{tab:{type:"String"},redirect_uri:{type:"String"},is_comments:{type:"Bool",defaultValue:!1}})}),null);
__d("MStickerSelector.react",["BanzaiLogger","DOM","MPageController","MParent","MStickerPack.react","MStickerPackButton.react","MStickersInitialData","MStickersWebDriverIDs","MViewport","React","ReactDOM","Stratcom","SubscriptionsHandler","UserAgent","XStickerStorePermalinkController","cx","fbt","getActiveElement"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){__p&&__p();var y;b=p.PropTypes;var z="feed-ufi-comments",A="scroll-area";c=48;var B=5*c;d=babelHelpers.inherits(a,p.Component);y=d&&d.prototype;function a(a){"use strict";__p&&__p();y.constructor.call(this,a);this.$1=null;this.onPackSelect=function(a){g.log("MTouchStickersLoggerConfig",{event:"select_pack",packid:a.id}),this.setState({selectedPack:a})}.bind(this);this.onPackScroll=function(){this.state.selectedPack&&this.state.selectedPack.id!=this.$2&&(this.$2=this.state.selectedPack.id,g.log("MTouchStickersLoggerConfig",{event:"scroll_pack",packid:this.state.selectedPack.id}))}.bind(this);this.onInputFocus=function(){this.setState({inputFocused:!0})}.bind(this);this.onInputBlur=function(){this.setState({inputFocused:!1})}.bind(this);this.scrollPrev=function(){if(!this.state.prevDisabled){var a=Math.max(this.state.scrollLeft-B,0);this.setState({scrollLeft:a,prevDisabled:a===0,nextDisabled:!1})}}.bind(this);this.scrollNext=function(){if(!this.state.nextDisabled){var a=q.findDOMNode(this.refs.selectorRow);a=a.scrollWidth-a.parentNode.clientWidth;a=Math.min(this.state.scrollLeft+B,a);this.setState({scrollLeft:a,prevDisabled:!1,nextDisabled:this.$3(a)})}}.bind(this);this.$3=function(a){var b=q.findDOMNode(this.refs.selectorRow);b=b.scrollWidth-b.parentNode.clientWidth;return a>=b}.bind(this);this.renderPack=function(a,b){return p.createElement(l,{disabled:this.props.isComments&&!a.isCommentsCapable||!this.props.isComments&&!a.isMessengerCapable,key:"pack-"+b,onclick:this.onPackSelect,pack:a,selected:a.id==this.state.selectedPack.id})}.bind(this);this.renderIndicator=function(){return!m.storeIndicator?null:p.createElement("div",{className:"_5e-s"})};this.$5=function(){return p.createElement("a",{"aria-label":w._("Previous Sticker Packs"),className:"_5cni _5abu",disabled:this.state.prevDisabled,href:"#",onClick:this.scrollPrev,ref:"prevButton",rel:"ignore",role:"button"},p.createElement("span",{className:"_5abw"}))}.bind(this);this.$6=function(){return p.createElement("a",{"aria-label":w._("Next Sticker Packs"),className:"_5cni _5abx",disabled:this.state.nextDisabled,href:"#",onClick:this.scrollNext,ref:"nextButton",rel:"ignore",role:"button"},p.createElement("span",{className:"_5aby"}))}.bind(this);this.$7=function(){this.setState({nextDisabled:this.$3(this.state.scrollLeft)})}.bind(this);this.$4=function(event){var a=x();a&&a.blur()};this.$8=function(){__p&&__p();if(this.$1)return;var a=q.findDOMNode(this.refs.root);if(!a)return;if(j.bySigil(a,A)){var b=new s();b.addSubscriptions(h.listen(a,"touchmove",null,function(event){event.stop()}),r.listen("m:page:unload",null,function(){this.$9()}.bind(this)));j.bySigil(a,z)&&b.addSubscriptions(r.listen("m:feed-ufi-flyout:reset",null,function(){this.$9()}.bind(this)));this.$1=b}}.bind(this);this.$9=function(){this.$1&&this.$1.release(),this.$1=null}.bind(this);var b=null;if(m.packs&&m.packs.length)for(var c=0;c<m.packs.length;c++)if(!a.isComments&&m.packs[c].isMessengerCapable||a.isComments&&m.packs[c].isCommentsCapable){b=m.packs[c];break}this.state={selectedPack:b,prevDisabled:!0,nextDisabled:!1,scrollLeft:0}}a.prototype.render=function(){"use strict";__p&&__p();if(!this.props.isOpen)return null;var a=m.packs.length===0?p.createElement("div",{className:"_5ar_"},w._("No stickers available")):p.createElement(k,{pack:this.state.selectedPack,onSelect:this.props.callback,onScroll:this.onPackScroll,onInputFocus:this.onInputFocus,onInputBlur:this.onInputBlur,isComments:this.props.isComments,isFlyout:this.props.isFlyout}),b=m.packs,c=[];for(var d=0;d<b.length;d++)b[d]&&(this.props.isComments&&b[d].isCommentsCapable?c.push(b[d]):b[d].isMessengerCapable&&c.push(b[d]));b=c;b=b.map(this.renderPack,this);d=u.getURIBuilder().setString("redirect_uri",i.getRenderedPath()).setBool("is_comments",this.props.isComments).getURI();c=null;this.props.showStore&&(c=p.createElement("a",{className:"_5cni _5b3_",href:d.toString()},p.createElement("span",{className:"_5b40"}),this.renderIndicator()));d=t.isPlatform("Android <2.4");return p.createElement("div",{className:this.props.className,"data-testid":n.STICKER_SELECTOR_CONTENT,ref:"root"},p.createElement("div",{className:"_5as0"+(d?" _2-n8":""),ref:"selector"},p.createElement("div",{className:"_5as1",onScroll:this.state.inputFocused?this.$4:null},a),p.createElement("div",{className:"_5as2",ref:"selectorRow",style:{marginLeft:-this.state.scrollLeft}},p.createElement("div",{className:"_5as5"},b)),this.$5(),this.$6(),c))};a.prototype.componentDidMount=function(){"use strict";this.props.isOpen&&(this.$8(),this.$7())};a.prototype.componentWillUnmount=function(){"use strict";this.$9()};a.prototype.componentDidUpdate=function(a,b){"use strict";__p&&__p();if(this.props.isOpen){a.isOpen||this.$8();if(this.state.selectedPack!=b.selectedPack||this.props.isOpen!=a.isOpen){b=q.findDOMNode(this.refs.selector);j.bySigil(b,z)?r.invoke("MStickerSelector:show-sticker-selector",null,{selectorNode:b}):o.scrollToNodeIfNecessary(q.findDOMNode(this.refs.selector))}this.props.isOpen!=a.isOpen&&(this.$7(),g.log("MTouchStickersLoggerConfig",{event:"open_tray"}))}else a.isOpen&&this.$9()};a.propTypes={callback:b.func.isRequired,isComments:b.bool.isRequired,isOpen:b.bool,onClose:b.func,showStore:b.bool.isRequired,isFlyout:b.bool};a.defaultProps={isComments:!0,showStore:!0};e.exports=a}),null);
__d("MStickerSelectorButton.react",["Image.react","React","asset","cx","fbt","ix"],(function(a,b,c,d,e,f,g,h,i,j,k,l){__p&&__p();var m;b=h.PropTypes;c=babelHelpers.inherits(a,h.Component);m=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=m.constructor).call.apply(a,[this].concat(d)),this.state={isSelected:this.props.isSelected},this.onClick=function(event){this.setState({isSelected:!this.state.isSelected}),this.props.onClick&&this.props.onClick(event)}.bind(this),b}a.prototype.UNSAFE_componentWillUpdate=function(a,b){"use strict";a!==this.props&&this.setState({isSelected:a.isSelected}),this.props.onToggle&&b!==this.state&&this.props.onToggle(b.isSelected)};a.prototype.render=function(){"use strict";var a;!this.state.isSelected?a=l("90727"):a=l("90728");return h.createElement("button",{"aria-label":k._("Add Sticker"),type:"button",className:"_5ecn _1n29 _2fv6","data-sigil":"touchable",onClick:this.onClick},h.createElement(g,{src:a,className:"_2fv7"}),h.createElement(g,{src:this.state.isSelected?l("432358"):l("432368"),className:"_2fv8"}))};a.propTypes={onToggle:b.func,isSelected:b.bool};a.defaultProps={isSelected:!1};e.exports=a}),null);
__d("MStickerMount",["BanzaiLogger","ClientIDs","CommentPrivacyValue","DOM","MAjaxify","MCommentStatusLogger","MRequest","MStickerSelector.react","MStickerSelectorButton.react","ReactComponentRenderer","Run","Stratcom","SubscriptionsHandler","requireWeak","$"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){"use strict";__p&&__p();var v={logPost:function(a,b){return void 0}};t("MPrivateCommentsLogger",function(a){v=a});var w="m-textarea-input",x=function(a,b,c,d){__p&&__p();var e=new m(a.action);e.setMethod("POST");e.addData({client_id:h.getNewClientID(),sticker_id:b});var f=j.convertFormToDictionary(a);f.privacy_value&&e.addData({privacy_value:f.privacy_value});v.logPost(parseInt(f.privacy_value,10)===i.OWNER_OR_COMMENTER,a.id);if(c){f=l.newInteractionKey();l.logInitAndSubmitSticker(f,b);e.addData({logging_interaction_key:f});z(f)}k.ajaxify(null,a,e,"async_composer");r.invoke("m:ufi:sticker-comment",null,{textInput:d})},y=function(a,b,c,d,e,f,g){__p&&__p();g===void 0&&(g=!1);var h,i=new p(n,b);i.setProps({callback:d,isComments:e,onClose:function(){i&&i.setProps({isOpen:!1}),h&&h.setProps({isSelected:!1})},showStore:f,isFlyout:g});h=new p(o,a);h.setProps({onToggle:function(a){i.setProps({isOpen:a})}});var k=new s();k.addSubscriptions(j.listen(c,"focus",null,function(){h.setProps({isSelected:!1})}),r.listen("m:ufi:sticker-comment",null,function(){h.setProps({isSelected:!1})}));q.onLeave(function(){k.release(),h.unmount(),i.unmount()})};function z(a){__p&&__p();var b=new s();b.addSubscriptions(r.listen("m:ufi:live-comments:render",null,function(event){var c=event.getData()||{};c=c.logKeys;c&&c.forEach(function(c){c===a&&(l.logRender(a),b.release())})}),r.listen("m:ufi:iui:comment-added",null,function(event){var c=event.getData().loggingInteractionKey;c===a&&(l.logRender(a),b.release())}),r.listen("m:page:unload",null,function(){b.release()}));return b}a={initMessages:function(a,b,c,d){var e=u(c);c=function(a){var b=e.form,c=j.convertFormToDictionary(b);c.sticker_id=a;d.sendRequest(b.action,c)};y(a,b,e,c,!1,!0)},initCommentsFlyout:function(a,b,c,d,e){e===void 0&&(e=!1);var f=null;d&&(r.hasSigil(d,w)?f=d:f=j.scry(d,"*",w)[0]);f||(f=u(c));var h=f.form;b.onclick=function(){x(h,a,e,f),g.log("NullStateCommentsLoggerConfig",{event:"sticker_selection",sticker_id:a.toString()})}},initComments:function(a,b,c,d,e,f){e===void 0&&(e=!1);f===void 0&&(f=!1);var g=null;d&&(r.hasSigil(d,w)?g=d:g=j.scry(d,"*",w)[0]);g||(g=u(c));var h=g.form;d=function(a){x(h,a,e,g)};y(a,b,g,d,!0,!0,f)},initNewMessage:function(a,b,c,d){var e=function(a){d.sendSticker(a)};y(a,b,c,e,!1,!1)}};e.exports=a}),null);
__d("MFullSizeLink",["EventListener","gkx","goURI"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j="data-full-size-href";a={registerFullSizePhotoLink:function(a){a=a.querySelector("["+j+"]");if(a){var b=a.getAttribute(j);b&&g.listen(a,"click",function(){h("676816")&&i(b)})}}};e.exports=a}),null);
__d("MInputFocus",["DOM","MViewport","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i){a={scrollTo:function(a,b){i(function(){g.hide(a),h.scrollTo(0,b),g.show(a),a.setSelectionRange(a.selectionEnd,a.selectionEnd)},0)}};e.exports=a}),null);
__d("prefetchImage",[],(function(a,b,c,d,e,f){__p&&__p();function a(a,b){__p&&__p();var c=!0,d=new Image();d.onload=function(){c=!1,b&&b()};d.src=a;return{cancel:function(){if(!c)return;c=!1;d.onload=null;d.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}}}e.exports=a}),null);
__d("MPhotoStage",["CSS","DOM","MInputFocus","MJSEnvironment","MLegacyDataStore","MRequest","MURI","MViewport","Stratcom","Vector","cx","prefetchImage","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){__p&&__p();var t=!1,u="photo-stage",v="photo-image",w="facebox",x="new-tag-placeholder",y="photos-input-tag-notice",z="photos-input-tag",A="photo-tag-loading",B="popup-nub",C="tokenizer-input",D="transfer-focus-container",E=2e3,F=200,G=null,H=null,I=null,J=null;function K(a,b,c){var d=0,e=n.getUseableWidth();c>e?d=c-e:b<0&&(d=b);return d===0?a:new p(a.x-d,a.y)}function L(a){if(!a)return;g.conditionClass(a,"_57-n",!!I);I?(clearTimeout(I),I=null):I=s(function(){L(a)},E)}function M(){G=null;while(J.length)J.pop().remove();t=!1;I&&(clearTimeout(I),I=null)}function N(a){var b=p.getPos(a);a=p.getDim(a);var c=p.getPos(G);b=new p(b.x+a.x/2,b.y+a.x-c.y);a=h.find(G,"*",A);b.setPos(a);h.show(a)}function O(a,b,c){__p&&__p();var d=new m(a.write_tag_uri);d.addQueryData("id",a.owner_id);d.addQueryData("facebox_id",b.facebox_id);d.addQueryData("replace_id",x);d.addQueryData("sd_source",a.source);d.addQueryData("sd_set",a.set);a={};a["ids["+c+"]"]=c;a["x["+c+"]"]=b.facebox_center.x;a["y["+c+"]"]=b.facebox_center.y;c=new l(d.normalize().toString()).addData(a);return c}function P(a,b){__p&&__p();H=a;var c=h.find(G,"*",z),d=h.find(G,"*",y),e=p.getPos(G),f=p.getPos(a);a=p.getDim(a);a=new p(f.x+a.x/2,f.y+a.y-e.y);e=K(a,a.x-F/2,a.x+F/2);var g=h.find(c,"*",B);g.style.left=a.x-e.x+"px";g=k.get(H);g.suggestions&&b.tokenizer.updateSuggestionsIds(g.suggestions);e.setPos(c);h.show(c);h.show(d);a=h.find(c,"*",C);a.focus();i.scrollTo(a,f.y);I&&(clearTimeout(I),I=null)}function Q(a){__p&&__p();var b=h.find(G,"*",z),c=h.find(G,"*",y);if(H){var d=k.get(H),e=k.get(G);e=O(e,d,a);N(H);e.listen("finally",function(){var a=h.find(G,"*",A);h.hide(a);L(G)});e.send();h.hide(H);h.hide(b);h.hide(c);h.find(b,"*",C).blur();H=null}I=s(function(){L(G)},E)}a=function(a,b){__p&&__p();if(t)return;G=a;t=!0;a="touchend";j.IS_ANDROID&&(a="click");b&&b.use_faceboxes?J=[o.listen(a,u,function(event){if(H){var a=h.find(G,"*",z),b=h.find(G,"*",y);h.find(a,"*",C).blur();h.hide(a);h.hide(b);H=null;event.kill()}else L(event.getNode(u))}),o.listen(a,w,function(event){var a=h.find(G,"*",D),b=event.getNode(w);P(b,a);event.kill()}),o.listen(a,D,function(event){var a=event.getNode(D);a=h.find(a,"*",C);a.focus();H&&i.scrollTo(a,p.getPos(H).y);event.kill()}),o.listen("Tokenizer-addedtoken",null,function(event){Q(event.getData().rel)})]:J=[o.listen("touchend",u,function(event){L(event.getNode(u))})];J.push(o.listen("m:page:unload",null,M));b=h.scry(G,"*",v);b.length>0&&k.get(b[0]).imgsrc?r(k.get(b[0]).imgsrc,function(){return L(G)}):L(G)};f.main=a}),null);
__d("MTouchAfro",["CSS","DOM","MLegacyDataStore","MModalDialog","MRequest","MXUIDiv.react","Parent","React","ReactDOM","Stratcom","$","csx","cx","fbt","ge","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){__p&&__p();var w=null,x=null,y=null,z={renderNFXReport:function(a,b){v(function(){g.hide(a),z.openDialog(b)},500)},initUndoHide:function(){if(w!==null)return;w=p.listen("click","afro-undo-hide",function(a){a=a.getNode("undo-content");var b=i.get(a).storyDomID;h.hide(a);h.show(q(b))});p.listen("m:page:unload",null,function(){w.remove(),p.removeCurrentListener()})},hideOriginalContent:function(a){h.hide(q(a))},initDoneListener:function(a,b){__p&&__p();if(x!==null)return;x=p.listen("click","nfx-dialog-done",function(c){__p&&__p();if(a){c=q(a);if(c){var d=i.get(c).enhancedAfro;d&&g.addClass(c,"_2gft")}o.render(n.createElement(l,{padding:"large",fontshade:"medium",fontweight:"bold"},t._("Thanks for letting us know.")),q(a));if(b){d=u(b);d&&(h.remove(d),g.removeClass(m.bySelector(q(a),"._2b01"),"_2b01"))}}j.close()});p.listen("m:page:unload",null,function(){x.remove(),p.removeCurrentListener()})},showConfirmationPopup:function(a,b){a=confirm(a);if(a){a=new k(b);a.send()}},showInlineConfirmation:function(a,b){a=q(a);h.hide(a);h.insertAfter(a,b);a=h.scry(b,"a","touchable");a[0]&&a[0].focus()},redirect:function(a,b){if(!b)window.location=a;else{b=new k(a);b.send()}},redirectOnClick:function(a,b){p.listen("click",b,function(b){window.location=a})},openDialog:function(a){j.open(a)},openDialogOnClick:function(a,b){var c=p.listen("click",b,function(b){j.open(a)});p.listen("m:page:unload",null,function(){c.remove(),p.removeCurrentListener()})},initActionsTakenStore:function(){if(y!==null)return;y=new Set();var a=p.listen("m-nfx-action-taken",null,function(a){return y.add(a.getData())});p.listen("m:page:unload",null,function(){a.remove(),p.removeCurrentListener()})},clearActionsTakenStore:function(){y=new Set()},invokeActionTaken:function(a){p.invoke("m-nfx-action-taken",null,a)},checkActionAgainstStore:function(a){var b=i.get(a);a=!1;y.forEach(function(c){c.action===b.action&&c.label===b.label&&(a=!0)});return a},addCancelButtonListener:function(){var a=q("modalDialog");h.listen(a,"click","dialog-cancel-button-alt",function(a){a.kill();j.close();return})},dialogLoadConfirmationScreenOnClick:function(a){h.listen(a,"click",null,function(a){a.kill();j.close();return})},logReportAdLinkClick:function(a,b){var c=h.listen(a,"click",null,function(){new k(b).send()});p.listen("m:page:unload",null,function(){c.remove(),p.removeCurrentListener()})},setupWildeDoneButton:function(){window.addEventListener("fbActionButtonClick",function(){return window.__fbNative.close()})}};e.exports=z}),null);
__d("MRapidReportingHelper",["DOM","MModalDialog","Stratcom"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();a={initDoneButtonDialog:function(){i.listen("click","rr_done_sigil",function(){h.close({canceled:!0,goBack:!1})})},initMoreLink:function(){i.listen("click","more-link-photo-viewer",function(){i.removeCurrentListener()})},initDoneButtonMLite:function(){var a=document.getElementById("rapid_report_confirm_done_button");a!==null&&g.show(a);i.listen("click","rr_done_sigil_mlite",function(){window.mliteFrxJSInterface!=null&&window.mliteFrxJSInterface.onMLiteFRXFlowNav!=null?window.mliteFrxJSInterface.onMLiteFRXFlowNav("frx_flow_close"):window.webkit!=null&&window.webkit.messageHandlers!=null&&window.webkit.messageHandlers.mliteFrxMessageHandler!=null&&window.webkit.messageHandlers.mliteFrxMessageHandler.postMessage("frx_flow_close")})}};e.exports=a}),null);
__d("MTouchTransferFocus",["CSS","DOM","MLegacyDataStore","MViewport","Stratcom"],(function(a,b,c,d,e,f,g,h,i,j,k){__p&&__p();var l="transfer-focus-container",m="focus-provider",n="focus-receiver",o="focused";k.listen(["click","touchend"],[l,m],function(a){__p&&__p();var b=a.getNode(m),c=i.get(b);if(c.onclickIsSet)return;var d=a.getNode(l);b.onclick=function(){g.conditionClass(d,o,!0);var a=h.scry(d,"input",n)[0];if(a){a.focus();a=i.get(d);a.hideaddressbar&&setTimeout(function(){j.getScrollTop()<1&&j.scrollTo(0,1)},0)}};c.onclickIsSet=!0});k.listen("blur",[l,n],function(a){g.conditionClass(a.getNode(l),o,!1)})}),null);
__d("AbstractCommentLiveTypingXHRController",["destroyOnUnload","ex"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i={START:"start",STOP:"stop"},j=10*1e3;function a(a,b,c,d){d===void 0&&(d=null),this.$5=a,this.$6=b,this.$7=c,this.$1=d,this.$2=!1,this.$3=0,this.$4=null,g(this.destroy.bind(this))}a.prototype.destroy=function(){this.$1&&this.$1.destroy(),this.$1=null,this.$2=!1,this.$3=0,this.$4=null};a.prototype.bootloadPublisherModule=function(a){throw new Error(h("bootloadPublisherModule not implemented, should be overridden by subclass"))};a.prototype.$8=function(a){a=new a(this.$5,this.$6,this.$7);var b=Date.now(),c=this.$3;if(c&&c+j>=b){c=this.$4;c===i.START?a.handleStartEvent():c===i.STOP&&a.handleStopEvent()}this.$1=a};a.prototype.$9=function(){if(this.$2||!this.$5)return;this.$2=!0;this.bootloadPublisherModule(this.$8.bind(this))};a.prototype.attemptPublishStartEvent=function(){this.$4=i.START,this.$3=Date.now(),this.$1?this.$1.handleStartEvent():this.$2||this.$9()};a.prototype.attemptPublishStopEvent=function(){this.$4=i.STOP,this.$3=Date.now(),this.$1?this.$1.handleStopEvent():this.$2||this.$9()};e.exports=a}),null);
__d("MComposerLiveTypingController",["AbstractCommentLiveTypingXHRController","Bootloader"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;b=babelHelpers.inherits(a,g);i=b&&b.prototype;function a(a,b,c){i.constructor.call(this,a,b,c)}a.prototype.bootloadPublisherModule=function(a){h.loadModules(["MComposerLiveTypingPublisher"],a,"MComposerLiveTypingController")};a.prototype.attemptPublishStartEvent=function(){i.attemptPublishStartEvent.call(this)};a.prototype.attemptPublishStopEvent=function(){i.attemptPublishStopEvent.call(this)};e.exports=a}),null);
__d("MCommentComposer",["ChannelClientID","ClientIDs","CommentPrivacyValue","CSS","DOM","MComposerConfig","MComposerLiveTypingController","MLegacyDataStore","MMultiPhotoUploaderAttachmentState","MParent","MUFIInlineRepliesFunnelLogConfig","MViewport","Stratcom","StratcomManager","SubscriptionsHandler","TouchEventType","cancelAnimationFrame","cx","debounceCore","ge","getActiveElement","requestAnimationFrame","requireWeak","setTimeout","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E){__p&&__p();var F=q.MUFIInlineReplyComposerFunnelLogger,G={logViewerInteracted:function(a){return void 0},logPost:function(a,b){return void 0}};C("MPrivateCommentsLogger",function(a){G=a});var H="m-ufi",I="feed-ufi",J="scroll-area",K="m-composer",L="m-photo-composer",M="m-inline-reply-composer",N="m-noninline-composer",O="textarea",P="privacy-selector",Q="composer-submit",R="inline-reply",S="comment",T=100,U=l.MComposerLoggingController,V=!1;function W(){return!!l.PUBLISH_LIVE}function X(a){if(a.tagName==="FORM")return a;else return k.find(a,"form")}function a(a,b){"use strict";this.$1=a,this.$2=b||{},this.$3=null,this.$4=null,this.$5=!!this.$2.toggle_submit,this.$10=this.$17(),this.$12=o.getDefaultState(),this.$13=!!p.bySigil(a,I),this.$14=!!(this.$2.is_inline_reply&&p.bySigil(this.$1,M)),this.$15=null,this.$2.log_comment&&U&&(this.$15=new U()),this.$8=null,this.$9=!1,this.$7=new u(),this.$18(),s.invoke("marauder-fb-composer-init",null,{parent_fbid:"target_id"in this.$2?this.$2.target_id:-1})}a.prototype.$19=function(){"use strict";this.$8&&this.$8.release(),this.$8=null};a.prototype.destroy=function(){"use strict";this.$7.release(),this.$19(),this.$15&&this.$15.destroy(),this.$15=null,this.$3&&this.$3.destroy(),this.$3=null};a.prototype.$20=function(a){"use strict";__p&&__p();if(!this.$5||!a)return;this.$6&&w(this.$6);this.$6=B(function(){this.$6=null;var b=k.find(a,"*",Q),c=this.$12[o.SENDING]===0&&(!/^\s*$/.test(k.find(a,"*",O).value)||this.$12[o.UPLOADED]>0);!c?b.setAttribute("disabled",!0):b.removeAttribute("disabled");j.conditionClass(b,"_56bt",!c);j.conditionClass(b,"_56bv",c);j.conditionClass(b,"_653w",c)}.bind(this))};a.prototype.$21=function(a){"use strict";a===this.$2.composer_id&&(this.$11=!0,D(function(){this.$11=!1}.bind(this),T))};a.prototype.$22=function(a){"use strict";if(!a||!n.get(a).auto_collapse||!n.get(X(a)).expand_composer)return;var b=k.find(a,"*",O);b=A()===b||!/^\s*$/.test(b.value)||this.$12[o.UPLOADED]>0;if(!b&&this.$11)return;j.conditionClass(a,"composerClosed",!b)};a.prototype.$18=function(){"use strict";__p&&__p();var a=W()?this.$23.bind(this):this.$10.bind(this);this.$16=s.listen(["m:page:render:complete","m:schedulable:loaded"],null,this.$24.bind(this));this.$7.addSubscriptions(s.listen("MCommentComposer:replyButtonClick",null,function(a){return this.$21(a.getData().composerID)}.bind(this)),s.listen("focus",[K,O],this.$25.bind(this)),s.listen("focus",[K,P],this.$26.bind(this)),s.listen("keyup",[K,O],a),s.listen("keydown",[K,O],this.$27.bind(this)),s.listen("input",[K,O],a),s.listen("paste",[K,O],a),s.listen("MMultiPhotoUploader:attachments:change",null,this.$28.bind(this)),s.listen("blur",[K,O],this.$29.bind(this)),s.listen("reset",[K],this.$30.bind(this)),s.listen("touchend",[K,Q],this.$31.bind(this)),s.listen("click",Q,this.$32.bind(this)),s.listen("m:page:unload",null,this.destroy.bind(this)),s.listen("m:feed-ufi-flyout:reset",null,this.$33.bind(this)),this.$10,this.$16);l.CAN_TOUCH_PHOTO_INPUT_WHILE_EXPANDED&&this.$7.addSubscriptions(s.listen("MMultiPhotoUploader:input:click",null,this.$34.bind(this)));this.$14||this.$7.addSubscriptions(s.listen("click","m-add-comment",this.$35.bind(this)));this.$13&&p.bySigil(this.$1,J)&&this.$7.addSubscriptions(s.listen("MScrollArea:scrollstart",null,this.$36.bind(this)));V||(V=!0,t.enableDispatch(window,"reset"));this.$7.addSubscriptions(s.listen("submit",K,this.$37.bind(this)));W()&&this.$7.addSubscriptions(s.listen("m:feed-ufi:hide",null,this.$38.bind(this)));this.$15&&(this.$7.addSubscriptions(s.listen("MMultiPhotoUploader:input:change",null,this.$39.bind(this)),s.listen("m:ufi:iui:comment-added",null,this.$40.bind(this))),this.$14||this.$7.addSubscriptions(s.listen("m:ufi:live-comments:render",null,this.$41.bind(this))));this.$2.is_inline_reply&&F&&this.$7.addSubscriptions(s.listen("m:ufi:sticker-comment",null,this.$42.bind(this)))};a.prototype.$43=function(a){"use strict";return!!a&&k.contains(this.$1,a)};a.prototype.$25=function(event){"use strict";var a=event.getNode(K);if(!this.$43(a))return;var b=k.find(a,"*",O);this.$22(a);n.get(a).disable_auto_scroll||r.scrollToNode(b)};a.prototype.$26=function(event){"use strict";var a=event.getNode(K);if(!a||!this.$43(a))return;j.removeClass(a,"composerClosed")};a.prototype.$17=function(){"use strict";return y(function(event){var a=event.getNode(O);if(!(a instanceof HTMLInputElement||a instanceof HTMLTextAreaElement)||!this.$43(a))return;s.invoke("marauder-feedback-input",null,{draft:a.value});a.form&&G.logViewerInteracted(a.form.id);this.$15&&this.$15.logInitText();this.$20(event.getNode(K))}.bind(this),250)};a.prototype.$23=function(event){"use strict";var a=event.getNode(O);if(!(a instanceof HTMLInputElement||a instanceof HTMLTextAreaElement)||!this.$43(a))return;a=a.value;var b=this.$4;a!==b&&(a&&a.trim().length?this.$44():this.$38());this.$10(event);this.$4=a};a.prototype.$28=function(event){"use strict";__p&&__p();var a=event.getData(),b=z(a.input_id);if(!b)return;b=p.bySigil(b,L);if(!b)return;b=k.find(b,"*",K);if(!this.$43(b))return;this.$12=a;this.$20(b);this.$22(b)};a.prototype.$29=function(event){"use strict";var a=event.getNode(K);if(!this.$43(a))return;this.$9||this.$22(a);this.$9=!1};a.prototype.$30=function(event){"use strict";var a=event.getNode(K);if(!this.$43(a))return;this.$20(a);this.$22(a);this.$38()};a.prototype.$45=function(){"use strict";this.$2.is_inline_reply&&F&&F.logReplySubmitted(this.$2.target_id)};a.prototype.$37=function(event){"use strict";__p&&__p();var a=event.getTarget();if(!a||!this.$43(a))return;var b=k.scry(a,"input","mcomposer-client-id");b.length?b[0].setAttribute("value",h.getNewClientID()):(b=k.create("input",{name:"client_id",sigil:"mcomposer-client-id",type:"hidden",value:h.getNewClientID()}),a.appendChild(b));b=k.scry(a,"input","mcomposer-session-id");b.length||(b=k.create("input",{name:"session_id",sigil:"mcomposer-session-id",type:"hidden",value:g.getID()}),a.appendChild(b));W()&&this.$38();this.$45()};a.prototype.$42=function(event){"use strict";var a=event.getData().textInput;if(!this.$43(a))return;this.$45()};a.prototype.$31=function(event){"use strict";__p&&__p();var a=event.getNode(Q),b=n.get(a);if(a instanceof HTMLElement&&!b.onclickIsSet){var c=event.getNode(K);if(!c||!this.$43(c))return;var d=k.find(c,"*",O);a.onclick=function(){d.blur()};b.onclickIsSet=!0}};a.prototype.$36=function(event){"use strict";__p&&__p();var a=event.getData().element;if(!a||!k.contains(a,this.$1))return;a=k.find(this.$1,"*",K);var b=k.find(a,"*",O);a=k.scry(a,"*","m-mentions-root")[0];a=a&&n.get(a);a=a||{};a=a.mentionsInstance;var c=a&&a.getIgnoreFocusChange();a&&a.setIgnoreFocusChange(!0);b.blur();a&&a.setIgnoreFocusChange(c)};a.prototype.$32=function(event){"use strict";var a=event.getNode(K);if(!this.$43(a))return;a=k.find(a,"*",O);this.$15&&this.$15.logSubmit(a.value.length,this.$12[o.UPLOADED],a.form);G.logPost(parseInt(k.find(a.form,"input","m-comment-privacy").value,10)===i.OWNER_OR_COMMENTER,a.form.id);s.invoke("marauder-feedback-posted",null,{});this.$38()};a.prototype.$35=function(event){"use strict";var a=event.getNode(H);if(!a||!k.contains(a,this.$1))return;a=k.find(this.$1,"*",K);a=k.find(a,"*",O);a.focus()};a.prototype.$33=function(event){"use strict";var a=event.getData();a=a.target_id;this.$13&&a!==this.$2.target_id&&this.destroy()};a.prototype.$46=function(a){"use strict";if(!a)return null;a=p.bySigil(a,L);a=a&&k.scry(a,"*",K)[0];return a&&this.$43(a)?a:null};a.prototype.$34=function(event){"use strict";__p&&__p();var a=A();if(a&&s.hasSigil(a,"textarea")&&this.$43(a)&&p.bySigil(a,L)){this.$9=!0;a.blur();this.$9=!1;this.$19();var b=function(){this.$19();a.blur();var b=k.scry(this.$1,"*",K)[0];b&&this.$22(b)}.bind(this),c=new u();c.addSubscriptions(s.listen("focus",null,b.bind(this)),s.listen(v.START,null,b.bind(this)));this.$8=c}};a.prototype.$39=function(event){"use strict";var a=event.getData();a=a.input;a=this.$46(a);if(!a)return;this.$15&&this.$15.logInitPhoto()};a.prototype.$41=function(event){"use strict";var a=event.getData(),b=a.ufi;a=a.logKeys;if(!b||!a||!k.contains(b,this.$1))return;a.forEach(function(a){return this.$15&&this.$15.logRender(a)}.bind(this))};a.prototype.$40=function(event){"use strict";__p&&__p();var a=event.getData(),b=a.commentNode;a=a.loggingInteractionKey;if(!b||!a)return;var c=s.hasSigil(b,R);if(this.$14&&c){var d=p.bySigil(b.parentNode,S);d=d&&k.scry(d,"*",M)[0]}else if(!c&&!this.$14){d=p.bySigil(b,L);if(!d&&this.$13){c=p.bySigil(b,I);d=k.scry(c,"*",N)[0]}}else return;b=d&&k.scry(d,"*",K)[0];if(!this.$43(b))return;this.$15&&this.$15.logRender(a)};a.prototype.$47=function(){"use strict";this.$2&&this.$2.target_id&&!this.$3&&W()&&(this.$3=new m(this.$2.target_id,this.$2.parent_comment_id,this.$2.actor_id))};a.prototype.$44=function(){"use strict";if(!W())return;this.$47();this.$3&&this.$3.attemptPublishStartEvent()};a.prototype.$38=function(){"use strict";if(!W())return;this.$47();this.$3&&this.$3.attemptPublishStopEvent()};a.prototype.$24=function(){"use strict";this.$2.should_focus&&this.$2.input_id?E(function(){z(this.$2.input_id).focus(),this.$2.is_comments_permalink?r.scrollToTop():z(this.$2.composer_id).scrollIntoView()}.bind(this),0):this.$2.should_anchor&&this.$2.composer_id?z(this.$2.composer_id).scrollIntoView():this.$2.should_anchor_reactions||r.scrollToTop(),this.$16.remove()};a.prototype.$27=function(event){"use strict";if(this.$2.send_with_softkey&&event.getSpecialKey()==="return"){var a=event.getNode(K),b=A();b&&b.blur();k.find(a,"*",Q).click()}};e.exports=a}),null);
__d("MImagePreloader",[],(function(a,b,c,d,e,f){function a(a){for(var b=0;b<a.length;b++){var c=new Image();c.src=a[b]}}f.init=a}),null);
__d("MJSPlaceholder",["DOM","Parent","Stratcom","StratcomManager"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();a={init:function(a,b){__p&&__p();var c=a.getElementsByTagName("textarea")[0];function d(event){!c.value?g.show(b):g.hide(b)}var e=i.listen("MJSPlaceholder",null,d);a="oninput"in c;var f=g.listen(c,a?"input":"change",null,d),k=h.byTag(c,"form");if(k){j.enableDispatch(k,"reset");var l=g.listen(k,"reset",null,d)}var m=a?null:g.listen(c,"keyup",null,d);i.listen("m:page:unload",null,function(){i.removeCurrentListener(),f.remove(),l&&l.remove(),m&&m.remove(),e.remove()})}};e.exports=a}),null);
__d("URLMatcher",["URLMatcherConfig"],(function(a,b,c,d,e,f,g){__p&&__p();a="!\"#%&'()*,-./:;<>?@[\\]^_`{|}";b="\u2000-\u206f\xab\xbb\uff08\uff09";c="(?:25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])";d="(?:(?:ht|f)tps?)://";f="(?:(?:"+c+"[.]){3}"+c+")";c="\\[(?:(?:[A-Fa-f0-9]{1,4}::?){1,7}[A-Fa-f0-9]{1,4})\\]";var h="(?:\\b)www\\d{0,3}[.]";a="[^\\s"+a+b+"]";b="(?:(?:(?:[.:\\-_%@]|"+a+")*"+a+")|"+c+")";a="(?::\\d+){0,1}";var i="(?=[/?#])";g=g.tlds;i="(?:(?:"+d+b+a+")|(?:"+f+a+")|(?:"+c+a+")|(?:"+h+b+g+a+")|(?:"+b+g+a+i+"))";f="(?:(?:"+d+b+a+")|(?:"+f+a+")|(?:"+c+a+")|(?:"+h+b+g+a+")|(?:"+b+g+a+"))";c="[/#?]";var j="\\([^\\s()<>]+\\)",k="[^\\s()<>?#]+",l=new RegExp(i,"im"),m="^\\[[0-9]{1,4}:[0-9]{1,4}:[A-Fa-f0-9]{1,4}\\]",n=new RegExp(m,"im");m="(?:(?:"+c+")(?:(?:"+j+"|"+k+")*)*)*";var o=new RegExp("((?:"+i+")(?:"+m+"))","im"),p=new RegExp("((?:"+f+")(?:"+m+"))","im"),q=new RegExp("((?:"+d+b+a+")|(?:"+h+b+g+a+"))"),r=/[\s\'\";]/,s=new RegExp(c,"im"),t=new RegExp("[\\s!\"#%&'()*,./:;<>?@[\\]^`{|}\xab\xbb\u2000-\u206f\uff08\uff09]","im"),u=new RegExp("[\\s()<>?#]","im"),v=new RegExp("\\s()<>"),w=function(a){if(a&&a.indexOf("@")!=-1)return q.exec(a)?a:null;else return a};j=function(a){return x(a,o)};k=function(a){return x(a,p)};var x=function(a,b){b=(b.exec(a)||[])[1]||null;return w(b)};i=function(a){return l.exec(a)};f=function(a){return!r.test(a.charAt(a.length-1))};m=function(a){__p&&__p();do{var b=l.exec(a);if(!b)return null;var c=!1;if(b[0][0]==="["&&b.index>0&&a[b.index-1]==="@"){var d=n.exec(b[0]);d&&(c=!0,a=a.substr(b.index+d[0].length))}}while(c);d=a.substr(b.index+b[0].length);if(d.length===0||!s.test(d[0]))return w(b[0]);c=0;a=0;var e=1,f=0,g=a;for(var h=1;h<d.length;h++){var i=d[h];if(g===a){if(i==="(")f=f+1,g=e;else if(s.test(i)||!t.test(i))c=h;else if(u.test(i))break}else if(i==="(")f=f+1;else if(i===")")f=f-1,f===0&&(g=a,c=h);else if(v.test(i))break}return w(b[0]+d.substring(0,c+1))};d={};d.permissiveHostPathMatch=k;d.permissiveMatch=j;d.matchToPattern=x;d.matchHost=i;d.trigger=f;d.match=m;e.exports=d}),null);
__d("getHashtagRegexString",[],(function(a,b,c,d,e,f){__p&&__p();function a(){__p&&__p();var a="\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u024f\u0253-\u0254\u0256-\u0257\u0259\u025b\u0263\u0268\u026f\u0272\u0289\u028b\u02bb\u0300-\u036f\u1e00-\u1eff",b="\u0400-\u04ff\u0500-\u0527\u2de0-\u2dff\ua640-\ua69f\u0591-\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u05d0-\u05ea\u05f0-\u05f4\ufb12-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4f\u0610-\u061a\u0620-\u065f\u066e-\u06d3\u06d5-\u06dc\u06de-\u06e8\u06ea-\u06ef\u06fa-\u06fc\u06ff\u0750-\u077f\u08a0\u08a2-\u08ac\u08e4-\u08fe\ufb50-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\u200c-\u200c\u0e01-\u0e3a\u0e40-\u0e4e\u1100-\u11ff\u3130-\u3185\ua960-\ua97f\uac00-\ud7af\ud7b0-\ud7ff\uffa1-\uffdc",c=String.fromCharCode;c="\u30a1-\u30fa\u30fc-\u30fe\uff66-\uff9f\uff10-\uff19\uff21-\uff3a\uff41-\uff5a\u3041-\u3096\u3099-\u309e\u3400-\u4dbf\u4e00-\u9fff"+c(173824)+"-"+c(177983)+c(177984)+"-"+c(178207)+c(194560)+"-"+c(195103)+"\u3003\u3005\u303b";a=a+b+c;b="A-Za-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u0241\u0250-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ee\u037a\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03ce\u03d0-\u03f5\u03f7-\u0481\u048a-\u04ce\u04d0-\u04f9\u0500-\u050f\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0621-\u063a\u0640-\u064a\u066e-\u066f\u0671-\u06d3\u06d5\u06e5-\u06e6\u06ee-\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u076d\u0780-\u07a5\u07b1\u0904-\u0939\u093d\u0950\u0958-\u0961\u097d\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc-\u09dd\u09df-\u09e1\u09f0-\u09f1\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0-\u0ae1\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d\u0b5c-\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c60-\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0-\u0ce1\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d28\u0d2a-\u0d39\u0d60-\u0d61\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32-\u0e33\u0e40-\u0e46\u0e81-\u0e82\u0e84\u0e87-\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa-\u0eab\u0ead-\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edd\u0f00\u0f40-\u0f47\u0f49-\u0f6a\u0f88-\u0f8b\u1000-\u1021\u1023-\u1027\u1029-\u102a\u1050-\u1055\u10a0-\u10c5\u10d0-\u10fa\u10fc\u1100-\u1159\u115f-\u11a2\u11a8-\u11f9\u1200-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u1676\u1681-\u169a\u16a0-\u16ea\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19a9\u19c1-\u19c7\u1a00-\u1a16\u1d00-\u1dbf\u1e00-\u1e9b\u1ea0-\u1ef9\u1f00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u2094\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2131\u2133-\u2139\u213c-\u213f\u2145-\u2149\u2c00-\u2c2e\u2c30-\u2c5e\u2c80-\u2ce4\u2d00-\u2d25\u2d30-\u2d65\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3006\u3031-\u3035\u303b-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312c\u3131-\u318e\u31a0-\u31b7\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fbb\ua000-\ua48c\ua800-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\uac00-\ud7a3\uf900-\ufa2d\ufa30-\ufa6a\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc";c="\u0300-\u036f\u0483-\u0486\u0591-\u05b9\u05bb-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u0615\u064b-\u065e\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u0901-\u0903\u093c\u093e-\u094d\u0951-\u0954\u0962-\u0963\u0981-\u0983\u09bc\u09be-\u09c4\u09c7-\u09c8\u09cb-\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a70-\u0a71\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2-\u0ae3\u0b01-\u0b03\u0b3c\u0b3e-\u0b43\u0b47-\u0b48\u0b4b-\u0b4d\u0b56-\u0b57\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c82-\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5-\u0cd6\u0d02-\u0d03\u0d3e-\u0d43\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d82-\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2-\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f3e-\u0f3f\u0f71-\u0f84\u0f86-\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102c-\u1032\u1036-\u1039\u1056-\u1059\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b6-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u192b\u1930-\u193b\u19b0-\u19c0\u19c8-\u19c9\u1a17-\u1a1b\u1dc0-\u1dc3\u20d0-\u20dc\u20e1\u20e5-\u20eb\u302a-\u302f\u3099-\u309a\ua802\ua806\ua80b\ua823-\ua827\ufb1e\ufe00-\ufe0f\ufe20-\ufe23";var d="0-9\u0660-\u0669\u06f0-\u06f9\u0966-\u096f\u09e6-\u09ef\u0a66-\u0a6f\u0ae6-\u0aef\u0b66-\u0b6f\u0be6-\u0bef\u0c66-\u0c6f\u0ce6-\u0cef\u0d66-\u0d6f\u0e50-\u0e59\u0ed0-\u0ed9\u0f20-\u0f29\u1040-\u1049\u17e0-\u17e9\u1810-\u1819\u1946-\u194f\u19d0-\u19d9\uff10-\uff19";b=b+c+a;c=d+"_";a=b+c;d="["+b+"]";c="["+a+"]";b="^|$|[^&/"+a+"]";a="[#\\uFF03]";b="("+b+")("+a+")("+c+"*"+d+c+"*)";return b}e.exports=a}),null);
__d("getHashtagRegex",["getHashtagRegexString"],(function(a,b,c,d,e,f,g){function a(){return new RegExp(g(),"ig")}e.exports=a}),null);
__d("HashtagParser",["URLMatcher","getHashtagRegex"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=100,j=30,k=/@\[([0-9]+):([0-9]+):((?:[^\\\]]*(?:\\.)*)*)\]/g;function a(a){var b=w(a),c=0,d=0;return l(a).map(function(a){while(c<b.length){var e=b[c],f=e.offset-d;if(f<a.offset)d+=e.token.length-e.name.length,c++;else break}return{marker:a.marker,tag:a.hashtag,rawOffset:a.offset+d,offset:a.offset}})}function b(a){return m(a,r(a))}function l(a){var b=y(a);return m(b,n(a,b))}function m(a,b){return p(a).slice(0,j).filter(function(a){var c=t(a.offset,a.hashtag.length,b);return!c&&a.hashtag.length<=i})}function n(a,b){return s(q(a),r(b))}var o=h();function p(a){var b=[];a.replace(o,function(a,c,d,e,f){b.push({marker:d,hashtag:e,offset:f+c.length})});return b}function q(a){return z(a).map(function(a){return[a.offset,a.name.length]})}function r(a){var b=[],c,d=0;while(c=g.permissiveMatch(a)){var e=a.indexOf(c);b.push([d+e,c.length]);a=a.substring(e+c.length);d+=e+c.length}return b}function s(a,b){var c=[],d=0,e=0,f=0;while(d<a.length&&e<b.length)a[d][0]>b[e][0]?c[f++]=b[e++]:c[f++]=a[d++];return c.concat(a.slice(d),b.slice(e))}function t(a,b,c){if(!c)return!1;var d=v(c,a);return u(a,b,c,d)||u(a,b,c,d+1)}function u(a,b,c,d){if(!c[d])return!1;var e=c[d][0];c=c[d][1];return!(a+b-1<e||a>e+c-1)}function v(a,b){var c=0,d=a.length-1;while(c<=d){var e=Math.floor((c+d)/2),f=a[e][0];if(f==b)return e;else f<b?c=e+1:d=e-1}return d}function w(a){var b=[];a.replace(k,function(a,c,d,e,f){b.push({token:a,id:c,type:d,name:e,offset:f})});return b}function x(a){return a?a.replace(/\\([^\\])/g,"$1").replace(/\\\\/g,"\\"):null}function y(a){return a.replace(k,function(a,b,c,d,e){return x(d)})}function z(a){var b=0,c=0;return w(a).map(function(d){var e=a.indexOf(d.token,c);c=e+1;e-=b;var f=x(d.name);b+=d.token.length-f.length;if(e>=0)return{id:d.id,name:f,type:d.type,offset:e}})}c={};c.parse=a;c.parseWithoutMentions=b;e.exports=c}),null);
__d("MMentions",["CancelableEventListener","DOM","FBLogger","HashtagParser","HTML","MJSEnvironment","MLegacyDataStore","MParent","MViewport","Scroll","Stratcom","StratcomManager","Style","TouchEventType","Vector","clearInterval","clearTimeout","eventsMixinDeprecated","fbt","getActiveElement","setIntervalAcrossTransitions","setTimeout","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C){__p&&__p();var D={};function E(a){var b=D[a];b||(b="<br>\n".repeat(a.length),D[a]=b);return b}function F(a,b){a=Math.sqrt(Math.pow(a.x-b.x,2)+Math.pow(a.y-b.y,2));return a<=5}function G(a,b,c){"use strict";__p&&__p();this._onSubmit=function(){var a=this._input.value,b=A(function(){this._disposed?v(b):this._input.value!==a&&(this._sync(),v(b))}.bind(this),100);C(function(){v(b)},1e4)}.bind(this);this._onFocusChange=function(a){if(this._suggestionShown&&this._ignoreFocusChange)return;switch(a.getType()){case"focus":a.getTarget()===this._input?this._focus():this._blur();break;default:this._blur();break}}.bind(this);this._forceInputPosition=function(){var a=this._input.getBoundingClientRect(),b=o.getHeight();if(a.top<0||a.top>b){this._forceInputPositionTimer=C(this._forceInputPosition,16);return}if(z()!==this._input){this._blur();return}}.bind(this);this._onSuggestionTouch=function(event){__p&&__p();if(!this._suggestionShown){event.prevent();this._suggestionTouchStartData=null;return}var a=event.getType();if(a==="touchstart"){this._clearSuggestionTouchendSelectFallbackTimer();var b=event.getTouch(),c=b.clientX;b=b.clientY;this._suggestionTouchStartData={startItem:event.getNode(this._SUGGESTION_SIGIL),startLoc:{x:c,y:b}}}else if(a==="touchend"&&this._suggestionTouchStartData){c=this._suggestionTouchStartData;b=c.startItem;a=c.startLoc;var d=event.getNode(this._SUGGESTION_SIGIL);c=event.getTouch();var e=c.clientX;c=c.clientY;e={x:e,y:c};this._suggestionTouchStartData=null;if(b===d&&F(a,e)){this._clearSuggestionTouchendSelectFallbackTimer();this._suggestionTouchendSelectFallbackTimer=B(function(){this._onSuggestionItemClickedOrTapped(d)}.bind(this),350);return}}this.setIgnoreFocusChange(!0)}.bind(this);this._onSuggestionClick=function(event){if(!this._suggestionShown){event.prevent();return}this._onSuggestionItemClickedOrTapped(event.getNode(this._SUGGESTION_SIGIL));this._suggestionTouchStartData=null}.bind(this);this._onBodyTouchStart=function(event){var a=event.getTouch(),b=a.clientX;a=a.clientY;this._bodyTouchStartLocation={x:b,y:a}}.bind(this);this._onBodyTouchEndOrClick=function(event){__p&&__p();var a=event.getTarget();if(G._suggestion===a||this._element===a||this._element.contains(a)||G._suggestion.contains(a))return;a=this._bodyTouchStartLocation;if(event.getType()==="touchend"&&a){this._bodyTouchStartLocation=null;var b=event.getTouch(),c=b.clientX;b=b.clientY;c={x:c,y:b};if(!F(a,c))return}this._blur()}.bind(this);this._hideSuggestion=function(a){this._suggestionShown&&(delete this._suggestionShown,w(this._hideSuggestionTimer),a===!0?(delete this._hideSuggestionTimer,this._hideSuggestionInternal()):this._hideSuggestionTimer=C(this._hideSuggestionInternal,350))}.bind(this);this._hideSuggestionInternal=function(){delete this._hideSuggestionTimer,this._isInstanceSuggestion()&&(this._releaseSuggestion(),h.hide(G._suggestion),h.setContent(G._suggestion,"")),this._clearBottomMargin()}.bind(this);this._updatePosition=function(){__p&&__p();if(!this._suggestionShown)return;var a=G._suggestion,b=a.offsetHeight,c=this._input,d=c.offsetHeight,e=u.getElementPosition(c);c=c.getBoundingClientRect();var f=a.offsetParent,g;f===document.documentElement?g=new u(0,0):g=u.getElementPosition(f);f=c.left-g.x;e=e.y-g.y;g=o.getHeight()/2;f=f;d=e+d;g=c.bottom+b>g&&c.top-b>=0;g&&(d=e-b);s.apply(a,{left:f+"px",top:d+"px"})}.bind(this);this._onBeforeEdit=function(event){if(!this._focused)return;this._inputTimer&&w(this._inputTimer);switch(event.getRawEvent().keyCode){case 8:this._onBackSpaceKey(event);break}}.bind(this);this._onEdit=function(event){this._inputTimer&&w(this._inputTimer);switch(event.getRawEvent().keyCode){case 13:this._hideSuggestion();this._syncShadow();return;default:this._sync(),this._inputTimer=C(this._processInput,160)}}.bind(this);this._processInput=function(){__p&&__p();if(this._disabled)return;this._sync();this._onQueryResult(null,null);this._hideSuggestion();this._query=null;this._inputTimer=null;var a=this._input,b=a.value,c=a.selectionStart;if(c!==a.selectionEnd)return;b=b.charAt(c);if(b&&!/\s/.test(b))return;b=a.value.substr(0,c);a=b.match(this._queryStringMatcher);if(!a)return;a=a[0];var d;a.charAt(0)==="@"?(a=a.slice(1),d=a.length>0):d=a.length>2&&(G._EN_NAMES.test(a)||G._JP_SYLLABARY_CHARS.test(a)||G._CJK_CHARS.test(a));var e=b.lastIndexOf("@");e>-1&&(a=b.substr(e+1),d=!0);d=d&&!this._getTokenByCursorPosition(c);d&&(this._query=a,this._source.didChange(a),this._source.didStart())}.bind(this);this._onQueryResult=function(a){__p&&__p();var b=a&&a.length>0,c=this._query&&this._input.value.indexOf(this._query)>=0;if(!c||!b||this._disposed)return;this._hideSuggestion();this._queryResult=null;if(this._enforceStringMatch&&!this._createRegex(this._query,"ig").test(a[0].getAttribute("display")))return;var d=[],e=document.createDocumentFragment(),f=0,g={};for(var j in this._uids){c=this._uids[j];for(var b=0,k=c.length;b<k;b++)g[c[b]]=!0}b=function(a){__p&&__p();if(!g[a.getAttribute("uid")]){a.htmlFor=this._input.id;q.addSigil(a,this._SUGGESTION_SIGIL);q.addSigil(a,"touchable");m.set(a,{nativeClick:!0});a.queryIndex=f;e.appendChild(a);d[f]=a;f++;if(f>5)return!0}};if(this._typeObjects&&this._typeObjectsOrder){k={};for(var c=0;c<a.length;c++){var l=a[c].getAttribute("renderType");if(!l)continue;l in k||(k[l]=[]);k[l].push(a[c])}for(var c=0;c<this._typeObjectsOrder.length;c++){l=this._typeObjectsOrder[c];var n=this._typeObjects[l];n||i("MMentions").mustfix("Unknown renderType: %s",l);var o=k[l];o=o?o.filter(function(a){return!g[a.getAttribute("uid")]}):[];o.length>0?(e.appendChild(this._buildSectionHeader(n)),o.some(b,this)):n&&n.show_always&&(e.appendChild(this._buildSectionHeader(n)),e.appendChild(this._buildNoResultEntry()))}}else a.some(b,this);f&&(h.setContent(G._suggestion,""),this._queryResult=d,G._suggestion.appendChild(e),this._showSuggestion(),this._updatePosition())}.bind(this);this._syncAndParse=function(){!this._disposed&&!this._disabled&&(this._input&&this._input.value&&this._parse(this._input.value),this._sync())}.bind(this);this._sync=function(){!this._disposed&&!this._disabled&&(this._syncMentionedUIDs(),this._syncHashtags(),this._syncShadow(),this._syncMeasurer(),this._syncValue())}.bind(this);this._parse=function(a){__p&&__p();this._uids={};var b=/[0-9]+/,c=/^@\[(?:[0-9]+:){2}(.+)\]/,d=a.match(G._MENTIONS_REGEX);if(d){for(var e=0;e<d.length;e++){var f=d[e].match(b),g=d[e].match(c);g=g?g[1].replace(/\\([^\\])/g,"$1").replace(/\\\\/g,"\\"):null;if(!g)continue;this._uids[g]||(this._uids[g]=[]);this._uids[g].push(f);a=a.replace(d[e],g)}this._input.value=a}this._sync()}.bind(this);this._renderHashtags=function(a){if(!this._hasHashtags)return h.htmlize(a);var b=j.parseWithoutMentions(a),c=[],d=0;for(var e=0;e<b.length;e++)c.push(h.htmlize(a.substring(d,b[e].offset)),'<span class="mentions-highlight">',a.charAt(b[e].offset),b[e].hashtag,"</span>"),d=b[e].offset+b[e].hashtag.length+1;c.push(h.htmlize(a.substring(d)));return c.join("")}.bind(this);this._syncShadow=function(a){__p&&__p();var b=this._input,c=b.value,d=this._shadow;if(!c){h.setContent(d,"");return}if(a&&(a.getType()==="scroll"||a.getType()==="touchmove")){p.setTop(d,p.getTop(b));p.setLeft(d,p.getLeft(b));return}var e="\u200b{\u200b";a="\u200b}";var f="\u200b{\u200b\u200b}",g,i=function(a,b){a=this._uids[a][g];a=this._weakReferences[a]||this._initialWeakReferences[a];g++;return(a?f:e)+b+e};for(var j in this._uids){var k=this._createRegex(j,"g");g=0;c=c.replace(k,i.bind(this,j))}k=c.split(e);i=[];var l=!1;for(var m=0;m<k.length;m++)l?k[m].startsWith(a)?i.push('<span class="mentions-highlight-weak-reference">',h.htmlize(k[m].substr(a.length)),"</span>"):i.push('<span class="mentions-highlight">',h.htmlize(k[m]),"</span>"):i.push(this._renderHashtags(k[m])),l=!l;c=i.join("");c=c.replace(/\n+$/,E);this._shadowHTML!==c&&(this._shadowHTML=c,d.innerHTML=c);p.setTop(d,p.getTop(b));p.setLeft(d,p.getLeft(b))}.bind(this);this._mentionId=a.id;this._bottomMargin=null;var d=a.getElementsByTagName("textarea")[0];this.minDistance=G._MIN_DISTANCE;this._listeners=[];this._editListeners=[];this._query=null;this._queryResult=null;this._focused=!1;this._disabled=!1;this._hasHashtags=!1;this._ignoreFocusChange=!1;this._ignoreFocusChangeTimeout=null;this.shouldShowHashtags=!1;this._enforceStringMatch=!0;this._typeObjects=null;this._typeObjectsOrder=null;this._uids={};this._weakReferences={};this._source=b;this._element=a;this._input=d;this._queryStringMatcher=/[^\s]+$/;this._bodyTouchStartLocation=null;this._suggestionTouchStartData=null;this._suggestionTouchendSelectFallbackTimer=null;b=m.get(this._input);this._initialWeakReferences=b.initial_weak_references?b.initial_weak_references:{};this._eventData={input:this._input,hasTags:!1};this._shadow=h.create("div",{className:"mentions-shadow","aria-hidden":!0},"");this._measurer=h.create("div",{className:"mentions-measurer","aria-hidden":!0});G._suggestion=G._suggestion||h.create("div",{className:"mentions-suggest"});G._prevInsertParent=G._prevInsertParent||null;this._hiddenInput=h.create("input",{type:"hidden",name:d.name,sigil:"mentionsHiddenInput"});d.removeAttribute("name");h.uniqID(d);this._syncStyles(this._shadow);this._syncStyles(this._measurer);r.enableDispatch(d,"cut");r.enableDispatch(d,"paste");r.enableDispatch(d,"scroll");this._listeners.push(h.listen(d,"blur",null,this._onFocusChange),h.listen(d,"focus",null,this._onFocusChange),h.listen(this._input,"scroll",null,this._syncShadow));this._listeners.push(q.listen("MMentions:update",null,this._sync),q.listen("MMentions:reset",null,this._syncAndParse),q.listen("MMentions:clearHiddenInput",null,this._clearHiddenInput.bind(this)),q.listen("MMentions:disable",null,this._disable.bind(this)),q.listen("MMentions:enable",null,this._enable.bind(this)),q.listen("MStructuredComposerSATP:changed",null,this._syncStyles.bind(this,this._shadow)));this._input.form&&(r.enableDispatch(this._input.form,"reset"),this._listeners.push(h.listen(this._input.form,"submit",null,this._onSubmit),h.listen(this._input.form,"reset",null,this._onEdit)));this._listeners.push(q.listen("MMentions:decorations:hide",null,function(event){h.hide(this._shadow),h.hide(this._measurer)}.bind(this)));this._listeners.push(q.listen("MMentions:decorations:show",null,function(event){h.show(this._shadow),h.show(this._measurer)}.bind(this)));b=document.createDocumentFragment();b.appendChild(this._hiddenInput);b.appendChild(this._shadow);b.appendChild(this._measurer);a.appendChild(b);this._insertParent=c||n.bySigil(a,"m-mentions-insert-parent")||s.getScrollParent(a);this._input.value&&this._parse(this._input.value)}G.prototype._mountIntoInsertParent=function(){"use strict";var a=this._insertParent;a!==G._prevInsertParent&&h.remove(G._suggestion);a===window?o.appendNode(G._suggestion):h.appendContent(a,G._suggestion);G._prevInsertParent=a};G.prototype.dispose=function(){"use strict";__p&&__p();if(!this._disposed){while(this._listeners.length)this._listeners.pop().remove();while(this._editListeners.length)this._editListeners.pop().remove();w(this._inputTimer);w(this._hideSuggestionTimer);w(this._forceInputPositionTimer);this._clearSuggestionTouchendSelectFallbackTimer();this._releaseSuggestion();h.remove(this._hiddenInput);h.remove(this._shadow);h.remove(this._measurer);h.remove(G._suggestion);G._prevInsertParent=null;for(var a in this)delete this[a];this._disposed=!0}};G.prototype.setTypeObjects=function(a){"use strict";this._typeObjects=a};G.prototype.setTypeObjectsOrder=function(a){"use strict";this._typeObjectsOrder=a};G.prototype.disableStringMatch=function(){"use strict";this._enforceStringMatch=!1};G.prototype.insertMention=function(a){"use strict";__p&&__p();var b=a.name+this._NAME_SUFFIX,c=this._uids[b],d=this._input,e=d.value;c||(c=this._uids[b]=[]);if(c.indexOf(a.uid)===-1)c.push(a.uid);else{d.focus();return}c=d.selectionStart;a=d.selectionEnd;c=e.substring(0,c);e=e.substr(a+1);d.value=c+b+" "+e;a=d.value.length-e.length;l.IS_APPLE_WEBKIT_IOS&&(this.setIgnoreFocusChange(!0),d.blur(),d.focus(),this.setIgnoreFocusChange(!1));d.setSelectionRange(a,a);q.invoke("MJSPlaceholder");d.focus();this._tagsUpdated();this._sync()};G.prototype.insertText=function(a){"use strict";__p&&__p();var b=this._input,c=b.value,d=b.selectionStart,e=b.selectionEnd;d=c.substring(0,d);c=c.substr(e+1);b.value=d+a+" "+c;e=b.value.length-c.length;l.IS_APPLE_WEBKIT_IOS&&(this.setIgnoreFocusChange(!0),b.blur(),b.focus(),this.setIgnoreFocusChange(!1));b.setSelectionRange(e,e);q.invoke("MJSPlaceholder");b.focus();this._sync()};G.prototype._getExpandElement=function(){"use strict";return n.bySigil(this._element,"m-mentions-expand")||this._element};G.prototype._focus=function(){"use strict";__p&&__p();if(this._focused)return;this._focused=!0;if(!this._editListeners.length){var a=G._suggestion,b=this._SUGGESTION_SIGIL,c=this._updatePosition.bind(this);this._editListeners.push(q.listen("scroll",null,function(event){event.getTarget(),c(event),this.setIgnoreFocusChange(!1)}.bind(this)),this._source.listen("waiting",this._hideSuggestion),this._source.listen("resultsready",this._onQueryResult),h.listen(this._input,"touchmove",null,this._syncShadow),h.listen(this._input,"keydown",null,this._onBeforeEdit),h.listen(this._input,"keyup",null,this._onEdit),h.listen(this._input,"input",null,this._onEdit),h.listen(this._input,"cut",null,this._onEdit),h.listen(this._input,"paste",null,this._onEdit),h.listen(document.body,t.START,null,this._onBodyTouchStart),h.listen(document.body,t.END,null,this._onBodyTouchEndOrClick),h.listen(document.body,"click",null,this._onBodyTouchEndOrClick),h.listen(this._input,t.START,null,this._hideSuggestion),g.listen(a,t.END,b,this._onSuggestionTouch),h.listen(a,t.START,b,this._onSuggestionTouch),h.listen(a,"click",b,this._onSuggestionClick))}this._source._startedByMentions||(this._source._startedByMentions=!0,this._source.didChange(""),this._source.didStart());this._hideSuggestion();w(this._forceInputPositionTimer);this._forceInputPositionTimer=C(this._forceInputPosition,100);this._sync()};G.prototype._blur=function(){"use strict";__p&&__p();if(!this._focused||z()===this._input)return;delete this._focused;while(this._editListeners.length)this._editListeners.pop().remove();this._suggestionTouchStartData=null;this._bodyTouchStartLocation=null;w(this._forceInputPositionTimer);w(this._inputTimer);delete this._forceInputPositionTimer;this._clearBottomMargin();this._hideSuggestion(!0);this._sync()};G.prototype.getIgnoreFocusChange=function(){"use strict";return this._ignoreFocusChange};G.prototype.setIgnoreFocusChange=function(a){"use strict";this._ignoreFocusChange=a};G.prototype._clearSuggestionTouchendSelectFallbackTimer=function(){"use strict";this._suggestionTouchendSelectFallbackTimer&&(w(this._suggestionTouchendSelectFallbackTimer),this._suggestionTouchendSelectFallbackTimer=null)};G.prototype._onSuggestionItemClickedOrTapped=function(a){"use strict";this._clearSuggestionTouchendSelectFallbackTimer(),this.setIgnoreFocusChange(!1),this._onSuggestionSelect(this._queryResult[a.queryIndex]),this._hideSuggestion(!0),this._input.focus()};G.prototype._onSuggestionSelect=function(a){"use strict";__p&&__p();var b=this._input,c=b.selectionStart;if(c!==b.selectionEnd)return;var d=b.value,e=this._query,f=a.getAttribute("display"),g=this._createRegex(f,"i"),h=this._createRegex(e,"i"),i=f+this._NAME_SUFFIX,j=d.substring(c-e.length,c);if(!h.test(j))return;if(g.test(d.substring(c-f.length,c)))g=d.substring(0,c-f.length);else if(h.test(d)){f=j.substr(-e.length);if(f===e){g=d.substring(0,c-e.length);h="";for(var j=0,f=i.length;j<f;j++){h+=i.charAt(j);if(g.endsWith(h))break}(g.endsWith(" "+h)||g===h)&&(g=g.substr(0,g.lastIndexOf(h)))}else return}else return;g&&g.charAt(g.length-1)==="@"&&(g=g.slice(0,-1));e=g+i+d.substring(c);b.value=e;c+=e.length-d.length;l.IS_APPLE_WEBKIT_IOS&&(this.setIgnoreFocusChange(!0),b.blur(),b.focus(),this.setIgnoreFocusChange(!1));b.setSelectionRange(c,c);j=this._uids[i];j||(j=this._uids[i]=[]);j.indexOf(a.getAttribute("uid"))===-1&&(j.push(a.getAttribute("uid")),this._tagsUpdated());a.getAttribute("weak_reference")&&(this._weakReferences[a.getAttribute("uid")]=!0);this._sync()};G.prototype._clearBottomMargin=function(){"use strict";var a=this._getExpandElement();a.style.marginBottom=this._bottomMargin||""};G.prototype._assignSuggestion=function(){"use strict";m.get(G._suggestion).mentionId=this._mentionId};G.prototype._releaseSuggestion=function(){"use strict";m.get(G._suggestion).mentionId=null};G.prototype._isInstanceSuggestion=function(){"use strict";return m.get(G._suggestion).mentionId===this._mentionId};G.prototype._showSuggestion=function(){"use strict";__p&&__p();this._assignSuggestion();if(this._suggestionShown)return;this._suggestionShown=!0;this._mountIntoInsertParent();var a=this._input,b=G._suggestion;s.apply(b,{display:"block",width:a.offsetWidth+"px"});this._bottomMargin===void 0&&(this._bottomMargin=this._getExpandElement().style.marginBottom);b=this.minDistance;a=a.getBoundingClientRect();var c=document.elementFromPoint(1,a.bottom+b);if(!c){c=this._getExpandElement();c.style.marginBottom=b+"px";if(!n.bySigil(c,"scroll-area")){b=o.getScroll();o.scrollTo(b.x,Math.max(b.y,b.y+a.top-30))}}this._hideSuggestionTimer&&(w(this._hideSuggestionTimer),delete this._hideSuggestionTimer)};G.prototype._onBackSpaceKey=function(event){"use strict";__p&&__p();var a=this._input,b=a.selectionStart;if(b!==a.selectionEnd)return;var c=a.value,d=this._getTokenByCursorPosition(b-1);if(d){var e=c.substring(0,b),f=d.name;if(e.indexOf(f)===e.length-f.length){var g;if(G._CJK_ALTER_NAME.test(f))g=this._trim(f.replace(G._CJK_ALTER_NAME,""));else if(G._LATIN_ALTER_NAME.test(f))g=this._trim(f.replace(G._LATIN_ALTER_NAME,""));else{e=f.split(/\s+/g);e.length>1&&(e.pop(),g=e.join(" "))}if(g){g+=this._NAME_SUFFIX;this._uids[f].splice(this._uids[f].indexOf(d.uid),1);this._uids[g]=this._uids[g]||[];this._uids[g].push(d.uid);c=c.substr(0,b-f.length)+g+c.substr(b);b-=f.length-g.length;a.value=c;a.setSelectionRange(b,b);event.prevent();this._sync();return}}}var h;while(!0){e=c.charAt(b-1);if(e==="\u200b")c=c.substring(0,b-2)+c.substr(b),b-=1,h=!0;else break}h&&(event.prevent(),c=c.substring(0,b-2)+c.substr(b),a.value=c)};G.prototype._buildSectionHeader=function(a){"use strict";return a==null?null:new k(a.xhp).getFragment().firstChild};G.prototype._buildNoResultEntry=function(){"use strict";var a=h.create("i",{className:"mentions-suggest-item-img noResultsIcon"}),b=h.create("span",{className:"no-results"},y._("No Results")),c=h.create("label",{className:"mentions-suggest-item"},a,b);c.appendChild(a);c.appendChild(b);return c};G.prototype._disable=function(a){"use strict";this._disabled=!0};G.prototype._enable=function(){"use strict";this._disabled=!1};G.prototype._syncMentionedUIDs=function(){"use strict";__p&&__p();var a=this._input.value;if(!a){this._uids={};return}var b=!1;for(var c in this._uids){var d=this._createRegex(c,"g");d=a.match(d);if(!d||!d.length){delete this._uids[c];b=!0;continue}var e=this._uids[c];!e.length?delete this._uids[c]:e.length>d.length&&(e.length=d.length)}b&&this._tagsUpdated()};G.prototype._syncHashtags=function(){"use strict";var a=this._input.value;this.shouldShowHashtags&&(this._hasHashtags=G._HASHTAG_TRIGGER.test(a))};G.prototype._syncMeasurer=function(){"use strict";__p&&__p();var a=this._input,b=a.value;if(!b){h.setContent(this._measurer,"");return}b=a.selectionStart;var c=a.selectionEnd;if(b!==c)return;c=h.create("div",{},a.value.substr(0,b));this._measurer.innerHTML=c.innerHTML+"<br><div></div>"};G.prototype._syncValue=function(){"use strict";__p&&__p();var a=this._input.value;for(var b in this._uids){var c=this._createRegex(b,"g"),d=this._uids[b],e=0;a=a.replace(c,function(a){var b=parseInt(d[e++],10);if(b)return"@["+b+":"+a+"]";else return a})}a=a.replace(/\u200B/g,"");this._hiddenInput.value!==a&&this.invoke("change",a);this._hiddenInput.value=a};G.prototype._syncStyles=function(a){"use strict";var b=getComputedStyle(this._input,null);a=a.style;var c=["fontSize","fontFamily","letterSpacing","lineHeight","paddingTop","paddingLeft","paddingRight","paddingBottom","textIndent","wordSpacing","textAlign"];while(c.length){var d=c.pop();a[d]=b[d]}};G.prototype._getTokenByCursorPosition=function(a){"use strict";__p&&__p();var b=this._input.value,c=null,d=this._uids;for(var e in d){if(c)break;var f=b.indexOf(e);if(f<0)continue;f=this._createRegex(e,"g");var g=0;b.replace(f,function(b,f){!c&&a>f&&a<f+b.length&&(c={name:e,uid:d[e][g]}),g++})}return c};G.prototype._trim=function(a){"use strict";return a.trim?a.trim():a.replace(/(^\s*)|(\s*$)/g,"")};G.prototype._createRegex=function(a,b){"use strict";a=a.replace(G._REGEX_SPECIAL_CHARS,"\\$&");return new RegExp(a,b)};G.prototype._tagsUpdated=function(){"use strict";this._eventData.hasTags=Object.keys(this._uids).length>0,this._eventData.numTags=Object.keys(this._uids).length,q.invoke("MMentions:change",null,this._eventData)};G.prototype._clearHiddenInput=function(){"use strict";this._hiddenInput.value=""};Object.assign(G,{_MENTIONS_REGEX:/@\[([0-9]+)\:(([^\\\]]*(?:\\.)*)*)\]/g,_EN_NAMES:/^[A-Z][a-z]{1}/,_CJK_ALTER_NAME:/\uff08[^\uff09]+\uff09(\u200B\u200B)?$/g,_LATIN_ALTER_NAME:/\([^\)]+\)(\u200B\u200B)?$/g,_JP_SYLLABARY_CHARS:/(^[\u3040-\u309F]{3,3})|(^[\u30A0-\u30FF]{3,3})/g,_CJK_CHARS:/^[\u4E00-\u9FFF\uF900-\uFAFF\u3400-\u4DBF]{2,2}/g,_REGEX_SPECIAL_CHARS:/[\/\.\*\+\?\}\(\)\[\]\{\}\\]/g,_HASHTAG_TRIGGER:/[#\uFF03]/,_MIN_DISTANCE:130});Object.assign(G.prototype,{_NAME_SUFFIX:"\u200b\u200b",_SUGGESTION_SIGIL:"mentionsSuggestionItem",_COMPOSER_SIGIL:"composer-textarea"});x(G,["change"]);e.exports=G}),null);
__d("MMentionsRenderer",["DOM"],(function(a,b,c,d,e,f,g){__p&&__p();a={createSuggestionNode:function(a){__p&&__p();var b=g.create("img",{src:a.photo,className:"mentions-suggest-item-img"}),c=g.create("div",{className:"mentions-suggest-item-text"});c.appendChild(g.create("span",{className:"mentions-suggest-item-name"},a.display));if(a.subtext){var d=a.subtext;a.type&&a.type!="user"&&(d=d?a.type+" \xb7 "+d:a.type);c.appendChild(g.create("span",{className:"mentions-suggest-item-subtext"},d))}d=g.create("label",{className:"mentions-suggest-item",display:a.display,uid:a.id,rel:a.id,photo:a.photo,subtext:a.subtext},b,c);d.appendChild(b);d.appendChild(c);a.weak_reference&&d.setAttribute("weak_reference","y");a.renderType&&d.setAttribute("renderType",a.renderType);return d}};e.exports=a}),null);
__d("MTypeaheadTouchSourceShowOnFocus",["MRequest","MTypeaheadTouchSource","Stratcom"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j;b=babelHelpers.inherits(a,h);j=b&&b.prototype;function a(a,b,c){"use strict";__p&&__p();j.constructor.call(this,a,b);this.uri=a;this._bootstrapData=[];this._query=null;this._isFocused=!1;this.maximumResultCount=c||5;if(b==="work_position_inference"){var d=i.listen("MProfileEditWork:dataChanged",null,function(a){a=a.getData().existing_fields;a&&this.updateBootstrapData(a)}.bind(this));i.listen("m:page:unload",null,function(){d.remove(),i.removeCurrentListener()})}}a.prototype.updateBootstrapData=function(a){"use strict";var b=new g(this.uri);b.addData({existing_fields_json:JSON.stringify(a)});b.setMethod("POST");b.listen("done",function(a){this._bootstrapData=[],a.payload!==void 0&&this.ondata(a.payload)}.bind(this));b.send()};a.prototype.showOnFocus=function(){"use strict";if(this._isFocused&&this._query===""){var a=this.renderNodes(null,this._bootstrapData);this.invoke("resultsready",a);this.invoke("complete")}};a.prototype.ondata=function(a){"use strict";h.prototype.ondata.call(this,a);var b=Math.min(a.length,this.getMaximumResultCount());for(var c=0;c<b;++c)a[c].uid&&this._bootstrapData.push(a[c].uid);this.showOnFocus()};a.prototype.setQuery=function(a){"use strict";this._query=a};a.prototype.setIsFocused=function(a){"use strict";this._isFocused=a};a.prototype.didChange=function(a){"use strict";this._query=a};a.prototype.getMaximumResultCount=function(){"use strict";return this.maximumResultCount};e.exports=a}),null);
__d("MMentionsBootstrapDataSource",["MMentionsRenderer","MTypeaheadTouchSourceShowOnFocus"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;b=babelHelpers.inherits(a,h);i=b&&b.prototype;function a(a,b){"use strict";i.constructor.call(this,a,b)}a.prototype.createNode=function(a){"use strict";return g.createSuggestionNode(a)};e.exports=a}),null);
__d("MMentionsOnDemandDataSource",["MMentionsRenderer","MTypeaheadOnDemandSource"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;i=babelHelpers.inherits(a,h);i&&i.prototype;a.prototype.createNode=function(a){"use strict";return g.createSuggestionNode(a)};function a(){"use strict";i.apply(this,arguments)}e.exports=a}),null);
__d("InitMMentions",["MLegacyDataStore","MMentions","MMentionsBootstrapDataSource","MMentionsOnDemandDataSource","Stratcom","TypeaheadCompositeSource"],(function(a,b,c,d,e,f,g,h,i,j,k,l){__p&&__p();var m={},n={},o={};a={main:function(a){__p&&__p();var b=a.element;if(!b)return;if(!b.getBoundingClientRect)return;var c=[],d=a.sources.bootstrapped||[],e=a.sources.online||[],f=a.typeObjects,p=a.typeObjectsOrder,q="|",r=[];d.forEach(function(a){d=new i(a.src,a.source_key);a=a.source_key+q+a.src;m[a]||(m[a]=d);c.push(m[a]);r.push(a)});e.forEach(function(a){var b=q+a.src;n[b]||(n[b]=new j(a.src));c.push(n[b]);r.push(b)});if(!c.length)return;e=r.join(q);e in o||(o[e]=new l(c));var s=new h(b,o[e]);s.setTypeObjects(f);s.setTypeObjectsOrder(p);s.shouldShowHashtags=a.shouldShowHashtags;a.enforceStringMatch||s.disableStringMatch();g.set(b,{mentionsInstance:s});k.listen("m:page:unload-complete",null,function(event){document.documentElement.contains(b)||(k.removeCurrentListener(),s.dispose(),s=null,b=null)})}};e.exports=a}),null);
__d("FRXEntryPoint",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AGORA_GROUPS:"agora_groups",AGORA_RECENT_NEWS:"agora_recent_news",CHEVRON_BUTTON:"chevron_button",CHEVRON_TAGS:"chevron_tags",CONTENT_OVERLAY:"content_overlay",COMMENT:"comment",FEEDBACK_BUTTON:"feedback_button",FOX_CHEVRON_TAGS:"fox_chevron_tags",GEMSTONE_MEDIA:"gemstone_media",GEMSTONE_MESSAGING:"gemstone_messaging",GEMSTONE_PROFILE:"gemstone_profile",GROUPS_ADMIN_FEEDBACK:"groups_admin_feedback",GROUPS_DISCOVER:"groups_discover_page",GROUPS_DISCOVER_HIDE_BUTTON:"groups_discover_hide_button",GROUPS_JOIN_QUESTION:"groups_join_question",GROUPS_LEAVE:"groups_leave",GROUPS_LEAVE_BROWSE:"groups_leave_browse",GROUPS_LEAVE_SPECIAL:"groups_leave_special",GROUP_MALL_RELATED_GROUPS_CHAINING:"group_mall_related_groups_chaining",GROUP_MALL_RHC:"group_mall_rhc",GROUPS_POLL:"groups_poll",GROUPS_REPORT:"groups_report",GROUPS_REPORT_TO_ADMIN:"groups_report_to_admin",GROUPS_TAB_CHAT_ROW:"groups_tab_chat_row",GROUPS_TAB_DISCOVER_FIRST:"groups_tab_discover_first",HATE_CTA:"hate_cta",HIDE_AD_BUTTON:"hide_ad_button",MOBILE_GYSJ:"mobile_gysj",NFX:"nfx",PROFILE_REPORT_BUTTON:"profile_report_button",RELATED_SEARCHES:"related_searches",REPORT_AD_BUTTON:"report_ad_button",REPORT_BUTTON:"report_button",SCHOOL_COMMUNITY_TAGS:"school_community_tags",SEARCH_TYPEAHEAD:"search_typeahead",SNACKBAR:"snackbar",STRUCTURED_REPORT_BUTTON:"structured_report_button",TOMBSTONE:"tombstone",X_OUT:"x_out",UNKNOWN:"unknown",UNOWNED_PAGE_ACTION_MENU_REPORT_PAGE:"unowned_page_action_menu_report_page"})}),null);
__d("FRXFunnelEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CANCEL_GUIDED_ACTION:"cancel_guided_action",CONFIRM_GUIDED_ACTION:"confirm_guided_action",DESELECT_FRIEND:"deselect_friend",END_FRX_FLOW:"end_frx_flow",SELECT_FRIEND:"select_friend",SELECT_PAGE:"select_page",SELECT_GUIDED_ACTION:"select_guided_action",SHOW_FRX_CONFIRMATION_SCREEN:"show_frx_confirmation_screen",SHOW_FRX_POST_REPORT_CONFIRMATION_SCREEN:"show_frx_post_report_confirmation_screen",SHOW_FRX_PAGE_SELECTION_SCREEN:"show_frx_page_selection_screen",SHOW_FRX_TAG_SELECTION_SCREEN:"show_frx_tag_selection_screen",SHOW_FRX_FRIEND_SELECTION_SCREEN:"show_frx_friend_selection_screen",SHOW_METADATA_LOADING_SCREEN:"show_metadata_loading_screen",SHOW_REPORT_CONFIRMATION_LOADING_SCREEN:"show_report_confirmation_loading_screen",SHOW_REPORT_CONFIRMATION_SCREEN:"show_report_confirmation_screen",SHOW_SEND_TAGS_LOADING_SCREEN:"show_send_tags_loading_screen",SHOW_FRX_LOADING_ERROR_SCREEN:"show_frx_loading_error_screen",BEGIN_FRX_FLOW:"begin_frx_flow",TAP_COMMUNITY_STANDARDS_BUTTON:"tap_community_standards_button",TAP_CONFIRMATION_SCREEN_REPORT_BUTTON:"tap_confirmation_screen_report_button",TAP_PROCESS_EDUCATION_NEXT_BUTTON:"tap_process_education_next_button",TAP_BACK_BUTTON_POLICY_CHECKLIST:"tap_back_button_policy_checklist",TAP_BACK_BUTTON_POLICY_EDUCATION:"tap_back_button_policy_education",TAP_BACK_BUTTON_POLICY_EDUCATION_SELF_REMEDIATION:"tap_back_button_policy_education_self_remediation",TAP_SEND_REPORT_BUTTON:"tap_send_report_button",TAP_NEXT_BUTTON_WITH_REPORTING_OPTION:"tap_next_button_with_reporting_option",TAP_NEXT_BUTTON_WITH_SELF_REMEDIATION_OPTION:"tap_next_button_with_self_remediation_option",TAP_NEXT_BUTTON_PROCESS_EDUCATION:"tap_next_button_process_education",TOGGLE_CHECK_BOX:"toggle_check_box",TOGGLE_TAG:"toggle_tag",SHOW_POLICY_CHECKLIST_SCREEN:"show_policy_checklist_screen",SHOW_POLICY_EDUCATION_SCREEN:"show_policy_education_screen",SHOW_POLICY_EDUCATION_SELF_REMEDIATION_SCREEN:"show_policy_education_self_remediation_screen",SHOW_PROCESS_EDUCATION_SCREEN:"show_process_education_screen",SELECT_POLICY:"select_policy",SELECT_POLICY_EDUCATION_OPTION:"select_policy_education_option",SHOW_TAG_SEARCH_SCREEN:"show_tag_search_screen",SEARCHABLE_TAGS_FETCHED_ACTION:"searchable_tags_fetched_action",SEARCH_KEYWORD_TYPED_ACTION:"search_keyword_typed_action",TAG_SELECTED_ACTION:"tag_selected_action",TAG_SEARCH_CANCELED_ACTION:"tag_search_canceled_action",TAG_SEARCH_NOT_FOUND_ACTION:"tag_search_not_found_action",SHOW_FRX_ALREADY_REVIEWED_SCREEN:"show_frx_already_reviewed_screen",SHOW_REPEAT_REPORTER_REPORT_CONFIRMATION_SCREEN:"show_repeat_reporter_report_confirmation_screen"})}),null);
__d("NFXStoryLocation",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({REJECT_FRIEND_REQUEST:"reject_friend_request",FEED:"feed",VIDEO_LIST_CHANNEL:"video_list_channel",VIDEO_PLAYLIST_CHANNEL:"video_playlist_channel",WATCHED_VIDEOS_CHANNEL:"watched_videos_channel",EXPLORE_FEED:"explore_feed",PROFILE_SELF:"profile_self",PROFILE_SOMEONE_ELSE:"profile_someone_else",FNRP_AUTOMATED_SCRIPT:"fnrp_automated_script",PAGE:"page",PAGE_INBOX:"page_inbox",PAGE_SHOP:"page_shop",PERMALINK:"permalink",PHOTO_VIEWER:"photo_viewer",PAGE_REVIEW:"page_review",POPULAR_AT:"popular_at",CURATED_SECTION:"curated_section",GROUP:"group",SUGGESTED_GROUP:"suggested_group",EVENT:"event",SEARCH:"search",UNKNOWN:"unknown",PROFILE_REPORTING_FLOW:"profile_reporting_flow",HEAD_PUBLISHER_APP_MENTIONS_FEED:"head_publisher_app_mentions_feed",MESSENGER:"messenger",MESSENGER_MONTAGE_VIEWER:"messenger_montage_viewer",FUNDRAISER_PAGE_FEED:"fundraiser_page_feed",FUNDRAISER_PERSON_TO_CHARITY:"fundraiser_person_to_charity",FUNDRAISER_PERSON_FOR_PERSON:"fundraiser_person_for_person",CRISIS_FEED:"crisis_feed",CIVIC_PROPOSAL:"civic_proposal",SETTINGS:"settings",LIVE_MAP:"live_map",LIVING_ROOM:"living_room",JOB_APPLICATION:"job_application",JOB_BROWSER:"job_browser",JOB_DETAIL_VIEW:"job_detail_view",JOB_RECOMMENDATION_UNIT:"job_recommendation_unit",CONTENT_OVERLAY:"content_overlay",CHEVRON:"chevron",CHEVRON_GLYPH:"glyph",VIDEO_INLINE_PIVOT:"video_inline_pivot",OBJECTIONABLE_CONTENT_FILTER:"objectionable_content_filter",VIEW_PAGE_ADS:"view_page_ads",POLITICAL_ARCHIVE_ADS:"political_archive_ads",FEEDBACK_COMMENT:"feedback_comment",IG_FEED:"ig_feed",IG_DISCOVER:"ig_discover",IG_POST:"ig_post",IG_PROFILE:"ig_profile",IG_STORY:"ig_story",IG_COMMENTS:"ig_comments",IG_DIRECT_MESSAGES:"ig_direct_messages",LIGHTWEIGHT_NEGATIVE_FEEDBACK:"lightweight_negative_feedback",LIGHTWEIGHT_POSITIVE_FEEDBACK:"lightweight_positive_feedback",MESSENGER_THREAD_ACTION_PANEL:"messenger_thread_action_panel",MESSENGER_CONTACT_DETAILS:"messenger_contact_details",MESSENGER_DIRECT_THREAD_DETAILS:"messenger_direct_thread_details",MESSENGER_GROUP_THREAD_DETAILS:"messenger_group_thread_details",MESSENGER_DIRECT_THREAD_MESSAGE_REQUEST:"messenger_direct_thread_message_request",MESSENGER_GROUP_THREAD_MESSAGE_REQUEST:"messenger_group_thread_message_request",MESSENGER_DIRECT_THREAD_FILTERED_REQUEST:"messenger_direct_thread_filtered_request",MESSENGER_GROUP_THREAD_FILTERED_REQUEST:"messenger_group_thread_filtered_request",MESSENGER_P2B_DIRECT_THREAD_DETAILS:"messenger_p2b_direct_thread_details",TICKER:"ticker",FULLSCREEN_VIDEO_PLAYER:"fullscreen_video_player",ACTIVITY_LOG_FACE_ALERTS:"face_alerts",HELP_COMMUNITY:"help_community",SUPPORT_INBOX:"support_inbox",APP_INVITES_FEED:"app_invites_feed",CHAINING_FEED:"chaining_feed",SOCIAL_REPORTING_REDIRECT:"social_reporting_redirect",WWW_CHAT_HEAD:"www_chat_head",THROWBACK:"throwback",POST_TO_PAGE:"post_to_page",ACTIVITY_LOG:"activity_log",VIDEO_CHANNEL:"video_channel",VIDEO_CHANNELS:"video_channels",VIDEO_HOME:"video_home",REVIEWS_FEED:"reviews_feed",BACKSTAGE:"backstage",MESSENGER_ENCRYPTED_THREAD:"messenger_encrypted_thread",LOCAL_NEWS:"local_news",PLANNED_VIEWING_CURATED:"planned_viewing_curated",UI_EXPLORER_EXAMPLE:"ui_explorer_example",SERP_CONSOLE:"serp_console",MARKETPLACE_ADS:"marketplace_ads",MARKETPLACE_BSG_PROFILE:"marketplace_bsg_profile",MARKETPLACE_BUY_SELL_GROUP_HOME:"marketplace_buy_sell_group_home",MARKETPLACE_PDP:"marketplace_pdp",MARKETPLACE_PDP_SELLER:"marketplace_pdp_seller",MARKETPLACE_PDP_QUESTION_AND_ANSWER:"marketplace_pdp_question_and_answer",MARKETPLACE_PROFILE:"marketplace_profile",MARKETPLACE_PROFILE_BUYER:"marketplace_profile_buyer",MARKETPLACE_PROFILE_SELLER:"marketplace_profile_seller",MARKETPLACE_RATING_CONFIRMATION:"marketplace_rating_confirmation",MARKETPLACE_RATING_CONFIRMATION_BUYER:"marketplace_rating_confirmation_buyer",MARKETPLACE_RATING_CONFIRMATION_SELLER:"marketplace_rating_confirmation_seller",MARKETPLACE_RATING_FLOW:"marketplace_rating_flow",MARKETPLACE_RATING_FLOW_BUYER:"marketplace_rating_flow_buyer",MARKETPLACE_RATING_FLOW_SELLER:"marketplace_rating_flow_seller",MARKETPLACE_RATE_BUYER:"marketplace_rate_buyer",MARKETPLACE_RATE_SELLER:"marketplace_rate_seller",MARKETPLACE_B2C_REVIEW:"marketplace_b2c_review",MARKETPLACE_THREAD:"marketplace_thread",MARKETPLACE_THREAD_BUYER:"marketplace_thread_buyer",MARKETPLACE_THREAD_SELLER:"marketplace_thread_seller",MARKETPLACE_MESSENGER_REPORT_BUYER:"marketplace_messenger_report_buyer",MARKETPLACE_MESSENGER_REPORT_SELLER:"marketplace_messenger_report_seller",MARKETPLACE_SHOP_PDP:"marketplace_shop_pdp",MARKETPLACE_SHOP_PDP_SELLER:"marketplace_shop_pdp_seller",NON_INTERACTIVE_ITEM_PDP:"non_interactive_item_pdp",MENTORSHIP_APPLICATION_TAB:"mentorship_application_tab",MENTORSHIP_ADMIN_ASSISTED_GALLERY:"mentorship_admin_assisted_gallery",MENTORSHIP_PEER_TO_PEER_GALLERY:"mentorship_peer_to_peer_gallery",POLITICAL_ISSUE_MODULE:"political_issue_module",ELECTION_HUB:"election_hub",DIRECT_MESSAGING:"direct_messaging",CAMERA_MEDIA_EFFECT:"camera_media_effect",PROFILE_DEPRECATED:"profile",TIMELINE_DEPRECATED:"timeline",BREAKUP_FLOW:"breakup_flow",ASYNC_TASK_DO_NOT_USE:"async",INSTANT_ARTICLES:"instant_articles",INSTANT_ARTICLE_WEBVIEW_AD:"instant_article_webview_ad",INSTANT_ARTICLE_NATIVE_AD:"instant_article_native_ad",IN_APP_BROWSER:"in_app_browser",INSTREAM_VIDEO:"instream_video",TOPIC_PAGE:"topic_page",GAMES_FEED:"games_feed",TAG_QUARANTINE:"tag_qurantine",STONEHENGE_CONSUMPTION:"stonehenge_consumption",ARTICLE_CONTEXT:"article_context",INTEGRITY_CONTEXT:"integrity_context",PROFILE_FRAME_DISCOVERY:"profile_frame_discovery",QUICK_PROMOTION:"quick_promotion",WOODHENGE_EXCLUSIVE_FEED:"woodhenge_exclusive_feed",AUDIENCE_INSIGHTS:"audience_insights",PROJECT_NEO:"project_neo",COMPASSION_RESOURCES:"compassion_resources",FOX_FEED:"fox_feed",FOX_CHEVRON:"fox_chevron",HIGHLIGHTS_UNIT:"highlights_unit",PAGE_SURFACE_RECOMMENDATIONS:"page_surface_recommendations",SOCIAL_LEARNING_GROUP_UNITS_LIST:"social_learning_group_units_list",PREVIEW_DIALOG:"preview_dialog",STORY:"story",CREATOR_APP_INSPIRATION_FEED:"creator_app_inspiration_feed",SCHOOL_COMMUNITY:"school_community",AGORA:"agora",AGORA_EVENTS:"agora_events",DITTO_HASHTAG_FEED:"ditto_hashtag_feed",PINNED_CONVERSATION:"pinned_conversation",GEMSTONE_PROFILE:"gemstone_profile",VR_PERSONA_PROFILE:"vr_persona_profile",KOTOTORO_FEED:"kototoro_feed",BALLOT:"ballot",CANDIDATE_VIDEOS:"candidate_videos",INSTANT_GAMES_SPOTLIGHT:"instant_games_spotlight",INSTANT_GAMES_HUB:"instant_games_hub",INSTANT_GAMES_MESSENGER:"instant_games_messenger",APP_CENTER:"app_center",APP_PERMISSIONS_DIALOG:"app_permissions_dialog",MOBILE_APP_PERMISSIONS:"mobile_app_permissions",PAGE_LOGS:"page_logs",REMOVED_APP_DIALOG:"removed_app_dialog",GAME_DETAIL:"game_detail",GAME_PAGE:"game_page",GROUP_INSTALLED_APPS:"group_installed_apps",IN_GAME:"in_game",DEVELOPER_COMMUNITY_POST:"developer_community_post",PYML:"pyml"})}),null);
__d("SelfRemediationActionsDialogLoggingEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BACK:"back",CLOSE:"close",DONE:"done",OPEN:"open"})}),null);
__d("SRXDialogHelper",["Event","QE2Logger","SelfRemediationActionsDialogLoggingEvents","SelfRemediationActionsDialogTypedLogger"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";a={onClickDone:function(a,b){g.listen(a,"click",function(){new j().setEvent(i.DONE).setActionNames(b).log();return!0})},onClickBack:function(){new j().setEvent(i.DONE).log()},logClickEvent:function(a){g.listen(a,"click",function(){h.logExposureForUser("self_remediation_experiments_on_frx")})}};e.exports=a}),null);
__d("MCommentActionsFlyout",["Bootloader","CSS","DOM","FRXEntryPoint","FRXFunnelEvent","MActionBubbleHelper","MFRXWebFunnelLogger","MLegacyDataStore","MModalDialog","MParent","MRequest","NFXStoryLocation","SRXDialogHelper","Stratcom","URI","cx"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){__p&&__p();var w="ban_user_from_page_comment_sigil",x="editCommentSigil",y="editHistoryCommentSigil",z="deleteCommentSigil",A="deleteCommentAndBlockAuthorSigil",B="deleteCommentAndRemoveAuthorSigil",C="hideCommentSigil",D="muteMemberSigil",E="reportCommentSigil",F="moreOptionsCommentSigil",G="commentFlyoutSigil",H=!1;function I(a,b,c){a=i.find(a,"*",b);l.toggleActionBubbleItem(a,c,"MCommentActionsFlyout",b)}function J(a,b,c){var d=i.find(a,"*",b),e=!!c.groupMuteCommenterInfo;l.toggleActionBubbleItem(d,e,"MCommentActionsFlyout",b);if(e&&b===D){d=i.scry(a,"*",b)[0];h.conditionClass(d,"_4ob2",!c.groupMuteCommenterInfo.is_commenter_muted)}}function K(a){a=p.bySigil(a,"comment-metadata");return a}function L(a,b){b=n.get(b);a.addQueryData("_ft_",b.linkdata)}function M(a,b){L(b,a);a=new q(b);a.send()}function N(a,b,c){o.open(b,c)}function O(){__p&&__p();var a=K(this.getCausalElement()),b=this.getRoot();a=n.get(a);I(b,x,!!a.editCommentURI);I(b,y,!!a.editHistoryCommentURI);I(b,z,!!a.deleteCommentURI);I(b,A,!!a.deleteCommentAndBlockAuthorURI);I(b,B,!!a.deleteCommentAndRemoveAuthorURI);I(b,C,!!a.hideCommentURI);J(b,D,a);I(b,E,!!a.reportCommentURI);I(b,F,!!a.moreOptionsCommentURI);I(b,w,!!a.banUserFromPageURIParams&&!H)}function P(a){__p&&__p();var b=n.get(a.getNode(G)),c=K(b.layer.getCausalElement()),d=n.get(c);if(a.getNode(x))M(c,new u(d.editCommentURI));else if(a.getNode(y))M(c,new u(d.editHistoryCommentURI));else if(a.getNode(z))M(c,new u(d.deleteCommentURI));else if(a.getNode(A))M(c,new u(d.deleteCommentAndBlockAuthorURI));else if(a.getNode(B))M(c,new u(d.deleteCommentAndRemoveAuthorURI));else if(a.getNode(C))M(c,new u(d.hideCommentURI));else if(a.getNode(D))M(c,new u(d.groupMuteCommenterInfo.URI));else if(a.getNode(F))N(c,new u(d.moreOptionsCommentURI),function(){s.onClickBack()});else if(a.getNode(E)){var e=new u(d.reportCommentURI);d.commentID!=null&&m.get(k.BEGIN_FRX_FLOW,d.commentID).setFunnelTags(m.createFunnelTagList(j.COMMENT,d.commentID,r.PERMALINK)).log();d.reportIsModalDialog?N(c,e):M(c,e)}else a.getNode(w)&&(d.banUserFromPageURIParams&&g.loadModules(["MPagesBanUserUtils"],function(a){a.banUserFromPage(d.banUserFromPageURIParams.pageID,d.banUserFromPageURIParams.userID,d.banUserFromPageURIParams.userName,function(){H=!0})},"MCommentActionsFlyout"));b.layer.hide();a.kill()}var Q,R;a=function(a){if(Q)return;Q=a;var b=a.getRoot();t.addSigil(b,G);R=[t.listen("m:page:unload",null,function(){while(R.length>0)R.pop().remove();Q=null}),a.addListener("beforeshow",O,a),i.listen(b,"click",null,P)]};e.exports={registerFlyout:a}}),null);
__d("XLiveCommentRenderController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/mobile/live_comment/render/",{})}),null);
__d("MUFILiveComments",["Bootloader","DOM","MLiveData","MParent","MRequest","Stratcom","SubscriptionsHandler","XLiveCommentRenderController","cx"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){"use strict";__p&&__p();var p="feed-ufi-comments",q="m-ufi";function a(a,b){this.rootElement=a,this.activityElement=h.create("div",{className:"_623b"}),this.rootElement.parentNode&&this.rootElement.parentNode.insertBefore(this.activityElement,this.rootElement.nextSibling),this.fetchedComments={},this.feedbackTargetID=b,this.feedbackTarget=i.get(this.feedbackTargetID),this.liveTypingData=null,this.handler=new m(),this.handler.addSubscriptions(l.listen("m:ufi:live-comments:new-comment",null,this.onNewComment.bind(this)),l.listen("m:page:unload",null,this.onUnload.bind(this))),this.getIsCommentFlyout()||this.initTypingIndicatorSubscription()}a.prototype.initTypingIndicatorSubscription=function(){g.loadModules(["MUFICommentTypingSubscriptionController"],function(a){a=new a(this.feedbackTargetID,function(a){this.liveTypingData=a,this.updateActivityUI()}.bind(this));a.didSubscribe()&&this.handler.addSubscriptions(a)}.bind(this),"MUFILiveComments")};a.prototype.onNewComment=function(event){__p&&__p();var a=event.getData(),b=a.feedbackTargetID,c=a.commentToken;if(b!==this.feedbackTargetID)return;var d=this.feedbackTarget.getData();if(!this.fetchedComments[c]){a=n.getURIBuilder().getURI();a=new k(a);a.setData({comment_token:c,dom_append_id:this.rootElement.id});a.listen("postprocess",function(){var a=d.comments||[];a.push(c);i.update(b,{comments:a});this.updateActivityUI(d.logging_interaction_key)}.bind(this));a.send();this.fetchedComments[c]=!0}};a.prototype.getIsCommentFlyout=function(){return!!j.bySigil(this.rootElement,p)};a.prototype.getCommentElement=function(a){a=a&&a.split("_")[1];return a?document.getElementById(a):null};a.prototype.updateActivityUI=function(a){g.loadModules(["MReactComponentRenderer","MUFILiveCommentActivity.react"],function(b,c){var d=this.liveTypingData||{},e=d.friendCount;d=d.otherCount;var f=this.feedbackTarget.getData();b(c,this.activityElement,{comments:f.comments||[],feedbackTargetID:this.feedbackTargetID,isAnyLiveTyping:Math.max(d,e)>0,disablePill:this.getIsCommentFlyout(),isFriendLiveTyping:e>0});b=f.logging_interaction_key;c=b?[b]:[];a&&a!==b&&c.push(a);l.invoke("m:ufi:live-comments:render",null,{ufi:j.bySigil(this.rootElement,q),logKeys:c})}.bind(this),"MUFILiveComments")};a.prototype.onUnload=function(){this.handler.release(),this.liveTypingData=null};e.exports=a}),null);
__d("MActionBubbleLayout",["CSS","cx"],(function(a,b,c,d,e,f,g,h){__p&&__p();function a(a){"use strict";this.$1=null,this.$2=a}a.prototype.enable=function(){"use strict";this.$1=this.$2.addListener("adjustDimensions",this.$3.bind(this)),this.$2.isShown()&&this.$2.updatePosition()};a.prototype.disable=function(){"use strict";this.$1.remove(),this.$1=null,this.$2.isShown()&&this.$2.updatePosition()};a.prototype.$3=function(){"use strict";var a=this.$2;this.$4(!0);var b=this.$2.getContentRoot();b.clientWidth>=a.getMaxWidth()&&this.$4(!1)};a.prototype.$4=function(a){"use strict";var b=this.$2;b.setWidth(a?"auto":"wide");b.applyWidth();g.conditionClass(b.getRoot(),"_55i0",a)};e.exports=a}),null);