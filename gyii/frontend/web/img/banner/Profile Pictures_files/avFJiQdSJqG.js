if (self.CavalryLogger) { CavalryLogger.start_js(["ADQcr"]); }

__d("MSlideshowNux",["CSS","DOM","MRequest"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();function a(a,b){"use strict";this.$1=a,this.$2=b,this.$3=!1}a.prototype.show=function(){"use strict";g.show(this.$1),new i(this.$2.view_uri).send(),this.$3=!0};a.prototype.showIfNotShown=function(){"use strict";this.$3||this.show()};a.prototype.hasShown=function(){"use strict";return this.$3};a.prototype.dismiss=function(){"use strict";h.remove(this.$1),new i(this.$2.dismiss_uri).send()};e.exports=a}),null);
__d("MStructuredComposerPostTypeInput",["DOM","MComposerNavigationMixin","MSubscriptionsHandlerMixin","Stratcom","UnpublishedContentTypeJSConstants","invariant","mixin"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m){__p&&__p();var n;b=babelHelpers.inherits(a,m(h,i));n=b&&b.prototype;function a(a){"use strict";__p&&__p();n.constructor.call(this),this.$MStructuredComposerPostTypeInput1=a,this.$MStructuredComposerPostTypeInput2=g.find(this.$MStructuredComposerPostTypeInput1,"button","structured-composer-post-type-selector-done"),this.$MStructuredComposerPostTypeInput3=g.find(this.$MStructuredComposerPostTypeInput1,"button","structured-composer-post-type-selector-cancel"),this.$MStructuredComposerPostTypeInput4=g.find(this.$MStructuredComposerPostTypeInput1,"*","content_type_draft"),this.$MStructuredComposerPostTypeInput5=g.find(this.$MStructuredComposerPostTypeInput1,"*","content_type_published"),this.$MStructuredComposerPostTypeInput6=g.find(this.$MStructuredComposerPostTypeInput1,"*","content_type_scheduled"),this.$MStructuredComposerPostTypeInput7=g.find(this.$MStructuredComposerPostTypeInput1,"*","content_type_backdated"),this.$MStructuredComposerPostTypeInput8=g.find(this.$MStructuredComposerPostTypeInput1,"*","schedule_post_time_selector"),this.$MStructuredComposerPostTypeInput9=g.find(this.$MStructuredComposerPostTypeInput1,"*","backdate_post_time_selector"),this.$MStructuredComposerPostTypeInput10=null,this.$MStructuredComposerPostTypeInput11=!1,this.addSubscriptions(j.listen("click","post-type-button",function(){return this.$MStructuredComposerPostTypeInput12()}.bind(this)),j.listen("MStructuredComposerPostTypeInput::setPublishNow",null,function(){return this.$MStructuredComposerPostTypeInput13()}.bind(this)),g.listen(this.$MStructuredComposerPostTypeInput2,"click",null,function(){return this.$MStructuredComposerPostTypeInput14()}.bind(this)),g.listen(this.$MStructuredComposerPostTypeInput3,"click",null,function(){return this.$MStructuredComposerPostTypeInput15()}.bind(this)),g.listen(this.$MStructuredComposerPostTypeInput4,"click",null,function(){this.$MStructuredComposerPostTypeInput16(),this.$MStructuredComposerPostTypeInput10=k.DRAFT}.bind(this)),g.listen(this.$MStructuredComposerPostTypeInput5,"click",null,function(){this.$MStructuredComposerPostTypeInput16(),this.$MStructuredComposerPostTypeInput10=k.PUBLISHED}.bind(this)),g.listen(this.$MStructuredComposerPostTypeInput6,"click",null,function(){this.$MStructuredComposerPostTypeInput16(),this.$MStructuredComposerPostTypeInput10=k.SCHEDULED,g.show(this.$MStructuredComposerPostTypeInput8)}.bind(this)),g.listen(this.$MStructuredComposerPostTypeInput7,"click",null,function(){this.$MStructuredComposerPostTypeInput16(),this.$MStructuredComposerPostTypeInput10=k.PUBLISHED,this.$MStructuredComposerPostTypeInput11=!0,g.show(this.$MStructuredComposerPostTypeInput9)}.bind(this)))}a.prototype.$MStructuredComposerPostTypeInput13=function(){"use strict";this.$MStructuredComposerPostTypeInput5.click()};a.prototype.$MStructuredComposerPostTypeInput16=function(){"use strict";this.$MStructuredComposerPostTypeInput10=null,this.$MStructuredComposerPostTypeInput11=!1,g.hide(this.$MStructuredComposerPostTypeInput9),g.hide(this.$MStructuredComposerPostTypeInput8)};a.prototype.$MStructuredComposerPostTypeInput17=function(a){"use strict";return g.find(this.$MStructuredComposerPostTypeInput1,"select",a)};a.prototype.$MStructuredComposerPostTypeInput18=function(a){"use strict";a=g.scry(this.$MStructuredComposerPostTypeInput1,"select",a);return a.length===0?null:a[0]};a.prototype.$MStructuredComposerPostTypeInput19=function(a){"use strict";return a.options[a.selectedIndex].value};a.prototype.$MStructuredComposerPostTypeInput12=function(){"use strict";this.newNavigationPolicy().addOnOpen(function(){return g.show(this.$MStructuredComposerPostTypeInput1)}.bind(this)).addOnClose(function(){return g.hide(this.$MStructuredComposerPostTypeInput1)}.bind(this)).open()};a.prototype.$MStructuredComposerPostTypeInput15=function(){"use strict";this.currentNavigationPolicy().close()};a.prototype.$MStructuredComposerPostTypeInput14=function(){"use strict";this.$MStructuredComposerPostTypeInput10!=null&&(j.invoke("MComposer:post:draft",null,{type:this.$MStructuredComposerPostTypeInput10,isBackdated:this.$MStructuredComposerPostTypeInput11}),this.$MStructuredComposerPostTypeInput11?(this.$MStructuredComposerPostTypeInput10===k.PUBLISHED||l(0,217,k.PUBLISHED,String(this.$MStructuredComposerPostTypeInput10)),j.invoke("MComposer:post:backdate",null,{value:!0}),j.invoke("MComposer:post:backdated:time",null,this.$MStructuredComposerPostTypeInput20())):j.invoke("MComposer:post:backdate",null,{value:!1}),this.$MStructuredComposerPostTypeInput10===k.SCHEDULED&&j.invoke("MComposer:post:scheduled:time",null,this.$MStructuredComposerPostTypeInput21())),this.$MStructuredComposerPostTypeInput15()};a.prototype.$MStructuredComposerPostTypeInput20=function(){"use strict";var a=this.$MStructuredComposerPostTypeInput17("backdate_time_selector_date_month"),b=this.$MStructuredComposerPostTypeInput17("backdate_time_selector_date_day"),c=this.$MStructuredComposerPostTypeInput17("backdate_time_selector_date_year");return{month:this.$MStructuredComposerPostTypeInput19(a),day:this.$MStructuredComposerPostTypeInput19(b),year:this.$MStructuredComposerPostTypeInput19(c)}};a.prototype.$MStructuredComposerPostTypeInput21=function(){"use strict";var a=this.$MStructuredComposerPostTypeInput17("schedule_time_selector_date_month"),b=this.$MStructuredComposerPostTypeInput17("schedule_time_selector_date_day"),c=this.$MStructuredComposerPostTypeInput17("schedule_time_selector_date_year"),d=this.$MStructuredComposerPostTypeInput17("schedule_time_selector_time_hours"),e=this.$MStructuredComposerPostTypeInput17("schedule_time_selector_time_minutes"),f=this.$MStructuredComposerPostTypeInput18("schedule_time_selector_time_am_pm");d=this.$MStructuredComposerPostTypeInput19(d);var g=null;f?(d=d==12?0:d,g=this.$MStructuredComposerPostTypeInput19(f)):(g=d<12?"AM":"PM",d%=12);return{month:this.$MStructuredComposerPostTypeInput19(a),day:this.$MStructuredComposerPostTypeInput19(b),year:this.$MStructuredComposerPostTypeInput19(c),hour:d,minute:this.$MStructuredComposerPostTypeInput19(e),ampm:g}};e.exports=a}),null);
__d("MPagesFinchToggleActions",["CSS","DOM","MLegacyDataStore","Stratcom","$","csx","MRequest","MURI","PagesEventType"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){__p&&__p();var p="two-state-action",q="/a/subscriptions/add",r="/a/subscriptions/remove",s="m:page:add-fan",t="m:page:remove-fan",u=function(a,b,c){__p&&__p();h.find(a,"*","m-profile-action-button-label");g.removeClass(a,"following");g.removeClass(a,"seefirst");g.removeClass(a,"follow");if(b=="follow"){a=new m(new n(q)).setData({subject_id:c,forceredirect:!1,location:141});a.send()}else if(b=="following"){a=new m(new n(r)).setData({subject_id:c,forceredirect:!1,location:141});a.send()}},v=function(a,b){a=document.querySelector(a);a!=null&&(document.querySelector(".follow")!=null?u(a,"follow",b):document.querySelector(".following")!=null&&u(a,"following",b))};a=function(a,b){j.listen("click",p,function(a){a=a.getNode(p);var c=k(i.get(a).current_button_id),d=k(i.get(a).sibling_button_id);a=i.get(a).event_name;a=="tapped_like_page"?(v(".follow",b),j.invoke(s,null,{page_id:b})):a=="tapped_unlike_page"?(v(".following",b),j.invoke(t,null,{page_id:b})):a==o.TAPPED_SAVE_BUTTON?j.invoke(o.TAPPED_SAVE_BUTTON,null,null):a==o.TAPPED_UNSAVE_BUTTON&&j.invoke(o.TAPPED_UNSAVE_BUTTON,null,null);g.hide(c);g.show(d)})};b=function(a,b,c){__p&&__p();j.listen(s,null,function(event){if(event.getData().page_id!=c)return;var d=k(a),e=k(b);g.hide(d);g.show(e);v(".follow",c)}),j.listen(t,null,function(event){if(event.getData().page_id!=c)return;var d=k(a),e=k(b);g.show(d);g.hide(e);v(".following",c)})};e.exports={setUpListeners:a,setUpListenersForLikeSyncing:b}}),null);
__d("MPagesFinchUtilities",[],(function(a,b,c,d,e,f){__p&&__p();var g=function(a){a=document.defaultView.getComputedStyle(a,null).getPropertyValue("line-height");if(!/px$/.test(a))return null;a=parseInt(a,10);return a};a={calculateNumberOfLinesShown:function(a){var b=a.offsetHeight;a=g(a);if(a)return b/a;else return null},calculateNumberOfLinesWithoutTruncation:function(a){var b=a.scrollHeight;a=g(a);if(a)return b/a;else return null},calculateHeightForNumberOfLines:function(a,b){a=g(a);if(a)return a*b;else return null}};e.exports=a}),null);
__d("MPagesNameLengthDetector",["CSS","MPagesFinchUtilities","cx"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j={adjustSizeWhenNeeded:function(a,b,c){j.isTextTruncated(a)&&g.addClass(a,c?"_4dm_":"_3vpv"),j.isTextTruncated(a)&&g.addClass(b,"_26ls")},isTextTruncated:function(a){var b=Math.round(h.calculateNumberOfLinesWithoutTruncation(a));a=Math.round(h.calculateNumberOfLinesShown(a));return b>a}};e.exports=j}),null);
__d("MCoverPhotoConsts",[],(function(a,b,c,d,e,f){a={COVER_WIDTH_PORTRAIT:320,COVER_HEIGHT_PORTRAIT:118,COVER_WIDTH_LANDSCAPE:480,COVER_HEIGHT_LANDSCAPE:177,LARGER_COVER_HEIGHT_PORTRAIT:262,WWW_COVER_WIDTH:851,WWW_COVER_HEIGHT:315};e.exports=a}),null);
__d("MProfileCoverPhoto",["ActorURI","CSS","DOM","LoadingIndicator","MCoverPhotoConsts","MLegacyDataStore","MPageController","MRequest","MRequestTypes","MURI","MViewport","$","FWLoader"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){__p&&__p();var s=b("FWLoader").FW,t={IOS_CAMERA_CONTROLS_HEIGHT:54,SUB_PROFILE_PIC_OVERLAY_ID:"sub_profile_pic_overlay",userID:null,coverPhotoEventListener:function(a){a.action&&t[a.action](a)},setCoverPhotoTransparent:function(a){h.conditionClass(r("profile_cover_photo_container"),"notTransparent",!a);var b=r("profile_cover_photo");for(var c=0;c<b.childNodes.length;c++)b.childNodes[c].style.visibility=a?"hidden":"visible";h.conditionClass(document.body,"tlBody",!a)},getCameraImageHeight:function(){return screen.height-t.IOS_CAMERA_CONTROLS_HEIGHT},setSubProfilePicOverlayVisible:function(a){__p&&__p();var b=document.getElementById(t.SUB_PROFILE_PIC_OVERLAY_ID),c=r("sub_profile_pic_content"),d=r("structured_composer_async_container");if(a){h.conditionClass(d,"decelerateChildren",!0);a=Math.max(window.outerHeight,window.outerWidth)+"px";if(!b){c.style.position="relative";a=i.create("div",{id:t.SUB_PROFILE_PIC_OVERLAY_ID,style:{top:"0",height:a}});i.appendContent(c,a)}}else b&&(i.remove(b),c.style.position="",h.conditionClass(d,"decelerateChildren",!1))},_getDimensions:function(){var a=r("profile_cover_photo");a=l.get(a);var b=a.portraitHeight||k.LARGER_COVER_HEIGHT_PORTRAIT;t.pageID&&(b=a.portraitHeight||k.COVER_HEIGHT_PORTRAIT);var c=a.portraitWidth||k.COVER_WIDTH_PORTRAIT;return{landscapeHeight:a.landscapeHeight||k.COVER_HEIGHT_LANDSCAPE,portraitHeight:b,portraitWidth:c}},captureCoverPhoto:function(a){if(!window.FW_ENABLED)return;var b=t._getDimensions(),c=t.pageID?t.pageID:t.userID;s.captureCoverPhoto(c,!0,a,b.portraitHeight,b.landscapeHeight,"require('MProfileCoverPhoto').coverPhotoEventListener")},overlayedOnCamera:function(){t.setCoverPhotoTransparent(!0),t.setSubProfilePicOverlayVisible(!0),q.scrollToHeader()},stoppedOverlayingOnCamera:function(){t.setCoverPhotoTransparent(!1),t.setSubProfilePicOverlayVisible(!1)},setCoverPhoto:function(a){if(a.photoSrc){var b=new p("/a/profile.php").toString();t.pageID&&(b=g.create(new p("/a/profile.php"),t.pageID));var c=new n(b).setType(o.DEPENDENT),d=i.scry(r("profile_cover_photo"),"i","cover-photo")[0];t.getImageDimensions(a,function(a){d?(d.style.backgroundImage=null,h.conditionClass(d,"coverEditorImg",!0),t.replaceCoverPhoto(a,d)):(j.show(),c.listen("finally",m.reload)),a.imageOffset=t.getWWWYOffset(a),t.sendCoverPhotoData(c,a)})}},replaceCoverPhoto:function(a,b){__p&&__p();var c=i.create("img"),d=t._getDimensions(),e=a.width/a.height;d=d.portraitWidth/d.portraitHeight;var f=Math.min(window.innerWidth,window.innerHeight);f=f/d;var g="img",h=0;f=a.imageOffset/f*100;e>d?(g+=" wide",f=0,h=(e-d)/d*100/2):g+=" tall";c.style.left="-"+h+"%";c.style.top=f+"%";c.className=g;c.src=a.photoSrc;i.setContent(b,c);if(a.photoUrl){e=i.scry(r("profile_cover_photo"),"a","cover-photo-link")[0];e&&(e.href=a.photoUrl)}},sendCoverPhotoData:function(a,b){var c=t.pageID?t.pageID:t.userID;a.setData({id:c,cpfbid:b.fbid,cpy:b.imageOffset||0});a.send()},getWWWYOffset:function(a){__p&&__p();var b=a.imageOffset,c=t._getDimensions();a=a.width/a.height;c=c.portraitWidth/c.portraitHeight;var d=k.WWW_COVER_WIDTH/k.WWW_COVER_HEIGHT,e=k.COVER_WIDTH_PORTRAIT/k.LARGER_COVER_HEIGHT_PORTRAIT;t.pageID&&(e=d);var f=Math.min(window.innerWidth,window.innerHeight);e=f/e;f=f/d;a<c?b-=(e-f)/2:b=0;return b},getImageDimensions:function(a,b){var c=new Image();c.onload=function(){a.width=c.width,a.height=c.height,b(a)};c.src=a.photoSrc}};e.exports=t}),null);
__d("InitMProfileCoverPhoto",["MModalDialog","MProfileCoverPhoto","Stratcom","fbt","FWLoader"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k=b("FWLoader").FW;a=function(a){__p&&__p();var b="edit-cover-photo";h.userID=a.userID;h.pageID=a.pageID;function c(b){window.FW_ENABLED?(d(),b.prevent()):a.selectionURI&&g.open(a.selectionURI)}function d(){var b=[];a.selectionURI&&b.push({title:j._("Choose From Photos"),callback:"require('MModalDialog').open('"+(a.selectionURI?a.selectionURI:"")+"');"});a.showCoverPhotoTaker&&b.unshift({title:j._("Take Photo"),callback:"require('MProfileCoverPhoto').captureCoverPhoto(FW.PHOTO_UPLOAD_SOURCE_CAMERA);"});a.showCoverPhotoUploader&&b.push({title:j._("Upload Photo"),callback:"require('MProfileCoverPhoto').captureCoverPhoto(FW.PHOTO_UPLOAD_SOURCE_LIBRARY);"});k.showActionSheet(b,null,!1,j._("Change Cover Photo"))}var e=i.listen("click",b,c);i.listen("m:page:unload",null,function(){e.remove()})};f.main=a}),null);
__d("MCoverPhotoDraggable",["DOM","$"],(function(a,b,c,d,e,f,g,h){__p&&__p();function a(a){"use strict";this._target=h(a.target),this._listeners=[],this._posTop=a.posTop,this._minTop=a.minTop}a.prototype.dispose=function(){"use strict";this._clearListeners()};a.prototype.onTouchStart=function(event){"use strict";this._clearListeners(),this._moveContext={moved:!1,startTouchY:event.getTouch().pageY,startPosTop:this._posTop},this._listeners.push(g.listen(this._target,"click",null,this._onClick.bind(this)),g.listen(this._target,"touchmove",null,this._onTouchMove.bind(this)),g.listen(this._target,"touchend",null,this._onTouchEnd.bind(this)))};a.prototype.getPosTop=function(){"use strict";return this._getPosTop()};a.prototype._onClick=function(event){"use strict";this._moveContext.moved&&event.prevent()};a.prototype._onTouchMove=function(event){"use strict";var a=this._moveContext;a.moved=!0;var b=a.startTouchY-event.getTouch().pageY;this._setPosTop(a.startPosTop-b);event.prevent()};a.prototype._onTouchEnd=function(event){"use strict";this._moveContext.moved&&event.prevent(),this._clearListeners(),this._moveContext={}};a.prototype._setPosTop=function(a){"use strict";a=Math.max(Math.min(a,0),this._minTop),this._posTop=a,this._target.style.top=a+"px"};a.prototype._getPosTop=function(){"use strict";var a=this._target.style.top;return parseInt(a,10)};a.prototype._clearListeners=function(){"use strict";this._listeners.forEach(function(a){a.remove()})};Object.assign(a.prototype,{_target:null,_listeners:null,_moveContext:null,_posTop:0,_minTop:0});e.exports=a}),null);
__d("MCoverPhotoEditor",["ActorURI","CancelableEventListener","CSS","DOM","MCoverPhotoConsts","MCoverPhotoDraggable","MLegacyDataStore","MModalDialog","MRequest","MURI","MViewport","Stratcom","Vector","$","cx","FWLoader"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){__p&&__p();var v=b("FWLoader").FW;a=function(a){__p&&__p();var b="cover-photo-draggable",c=t(a.id),d=j.find(c,"div",b),e=new l(m.get(d));d=function(a){e&&e.onTouchStart(a),a.prevent()};window.FW_ENABLED&&v.disablePullToRefresh();var f=function(){var a=j.find(c,"div","timeline-cover"),b=q.getUseableHeight()-s.getPos(a).y;a.style.overflow="hidden";a.style.maxHeight=b+"px";a=j.scry(c,"div","cover-info-section")[0];a||(a=j.find(c,"div","cover-edit-veil"));b=document.getElementById("sub_profile_pic_overlay");b||(b=j.create("div",{id:"sub_profile_pic_overlay"}),j.appendContent(a,b),a.style.position="relative");i.addClass(c,"_3jv");i.addClass(b,"_3jw")},u=function(b){__p&&__p();n.setSpinnerVisibility(!0);n.setHeaderButtonsEnabledState(!1);b=e?e.getPosTop():0;var c=Math.min(window.innerWidth,window.innerHeight),d=k.WWW_COVER_WIDTH/k.WWW_COVER_HEIGHT,f=a.aspectRatio;d=c/d;c=(c/f-d)/2;b-=c;f=g.create(new p("/a/profile.php"),a.userID).toString();d=new o(f);d.setData({id:a.userID,cpfbid:a.photoID,cpy:b,irv:!0,redirect_uri:a.redirectURI});d.setFullPage(!window.FW_ENABLED);d.send()};f();var w=function(){e&&(e.dispose(),e=null),x&&(x.forEach(function(a){a.remove()}),x=null)},x=[];x.push(r.listen("m:viewport:orientation-change",null,f),r.listen("click","cover-editor-use",u),r.listen([n.STEP_CHANGE_EVENT,"m:page:unload"],null,w),h.listen(c,"touchstart",b,d))};f.main=a}),null);