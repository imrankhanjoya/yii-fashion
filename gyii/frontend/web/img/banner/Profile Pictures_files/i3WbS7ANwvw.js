if (self.CavalryLogger) { CavalryLogger.start_js(["6\/xKE"]); }

__d("PrivacyConst",[],(function(a,b,c,d,e,f){e.exports={BaseValue:{FRIEND_LIST:129,FRIENDS_PLUS_GAMER_FRIENDS:128,FRIENDS_MINUS_ACQUAINTANCES:127,FACEBOOK_EMPLOYEES:112,CUSTOM:111,EVERYONE:80,NETWORKS_FRIENDS_OF_FRIENDS:60,NETWORKS_FRIENDS:55,FRIENDS_OF_FRIENDS:50,ALL_FRIENDS:40,SELF:10,NOBODY:0},CustomPrivacyTokens:{FRIENDS:247124075410460,FRIENDS_OF_FRIENDS:498125493540100},FriendsValue:{EVERYONE:80,NETWORKS_FRIENDS:55,FRIENDS_OF_FRIENDS:50,ALL_FRIENDS:40,SOME_FRIENDS:30,SELF:10,NO_FRIENDS:0},PostParam:{EVERYONE:300645083384735,NETWORKS_FRIENDS:123780391104836,FRIENDS_OF_FRIENDS:275425949243301,FRIENDS:291667064279714,FRIENDS_MINUS_ACQUAINTANCES:284920934947802,ONLY_ME:286958161406148,FB_ONLY:411331705596297,EVENT_PUBLIC:1493271774218406,EVENT_INVITE_ONLY:599950423437029},PrivacyField:{CURRENT_COMPOSER:8787670733,DEFAULT_COMPOSER:875106179167765,TIMELINE_TAGGED_CONTENT_VISIBILITY:8787530733,WALL_POSTS:8787370733,TAG_EXPANDED_CONTENT:8787795733,SEARCH_BY_PHONE:8787815733,SEARCH_BY_EMAIL:8787820733,CAN_FRIEND:8787540733,DEPRECATED_APP_DEFAULT:8787700733,SEARCH_BY_NAME:8787755733,SEARCH_BY_CONTACT_INFO:8787760733,SCREENNAME:8787335733,CURRENT_ADDRESS:8787355733,FRIENDS:8787365733,WEBSITE:8787375733,STATUS_UPDATES:8787395733,BIRTHDAY:8787510733,BIRTHYEAR:8787805733,CAN_COMMENT:8787535733,RELATIONSHIPS:8787550733,PROFILE_PICTURE_ALBUM:8787565733,DASHBOARD_ACTIVITY:8787575733,FAMILY:8787585733,INTERESTED_IN_LOOKING_FOR:8787590733,PLACES:8787620733,NAME_DAY:8787810733,LANGUAGES:8787625733,QUOTATIONS:8787630733,ABOUT_ME:8787635733,POLITICAL:8787640733,RELIGIOUS:8787645733,CURRENT_CITY:8787650733,HOMETOWN:8787655733,PROFILE_LIKES_AND_INTERESTS:8787660733,BLURB:8787665733,OTHER_LIKES_AND_INTERESTS:8787680733,SUBSCRIBERS:8787690733,SUBSCRIBED_TO:8787695733,PERSONAL_CONTACT_DEFAULT:8787765733,PAGE_CONTACT_DEFAULT:8787770733,AUTO_GENERATED_FB_EMAIL:8787775733,SKILLS:8787780733,CUSTOM_GENDERS:237760973066217,LOCATION_DO_NOT_WRITE_DIRECTLY:8787785733,SOCIAL_ADS:7719929599,PLATFORM_ADS:126540474531,BASS_ADS:183468681673909,ACTIVITIES:144331422306930,INTERESTS:113693108715766,MUSIC:172372399483077,BOOKS:100725463352700,GAMES:199298603444535,MOVIES:201146206594049,TV_SHOWS:129665560441221,SPORTS_PLAYED:129991670408857,FAVORITE_TEAMS:225288534151802,FAVORITE_ATHLETES:203380763033334,PEOPLE_I_ADMIRE:210380795648667,FAVORITE_FOODS:585935528106425,FAVORITE_RESTAURANTS:172588449584647,FAVORITE_WEBSITES:180412195459106,CLOTHING_BRANDS:397391233714082,LAST_POST_PRIVACY:314763985364212,SECOND_TO_LAST_POST_PRIVACY:321179124722698,PREVIOUS_SECONDARY_COMPOSER:864562253561430,RECENT_COMPOSER:358304524327898,COMPOSER_CUSTOM_INCLUSION:1067668039947624,COMPOSER_CUSTOM_EXCLUSION:1082068668536535,CAN_LIKE_AND_COMMENT_PUBLIC_PROFILE_MEDIA:1269423589794183,CAN_TAG_PUBLIC_PROFILE_MEDIA:260920744319731,CAN_DOWNLOAD_PUBLIC_PROFILE_MEDIA:410249702663051,CAN_SHARE_PUBLIC_PROFILE_MEDIA:1648969422065270,NOW_COMPOSER:421290164697736,BACKSTAGE_PRIVACY:809506612451171,FACEREC_ENROLLMENT:1709697052669794,DEVICE_PHOTO_PROCESSING:1798505450455620,SPACES_VR_OFFLINE_VISIT_PRIVACY:351913698615451,RESHARES_ON_TIMELINE_VISIBILITY:230094651068076,CAN_POST_TRIBUTES:298481070877996,CAN_SEE_TRIBUTE_POSTS:1909416226028186,RESHARE_TO_STORIES:282421212606762},TagExpansion:{NONE:0,TAGGEES:1,FRIENDS_OF_TAGGEES:2,FRIENDS_TAGGED:6},ExpansionType:{NONE:0,TAGS_ONLY:1}}}),null);
__d("MTouchableArea.react",["MJSEnvironment","React","cx","joinClasses"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();a=h.PropTypes;var k=g.IS_ANDROID&&g.OS_VERSION<4.1,l=3;b=h.createClass({displayName:"MTouchableArea",propTypes:{onTouchEnd:a.func,onTouchMove:a.func,onTouchStart:a.func},getInitialState:function(){return{touchStartX:0,touchStartY:0,isTouched:!1}},handleTouchEnd:function(event){this.setState(this.getInitialState()),this.props.onTouchEnd&&this.props.onTouchEnd(event)},handleTouchMove:function(event){var a=event.nativeEvent.touches[0].screenX-this.state.touchStartX,b=event.nativeEvent.touches[0].screenY-this.state.touchStartY;(a>l||b>l)&&this.setState(this.getInitialState());this.props.onTouchMove&&this.props.onTouchMove(event)},handleTouchStart:function(event){k?this.setState({isTouched:!0,touchStartX:event.nativeEvent.touches[0].screenX,touchStartY:event.nativeEvent.touches[0].screenY}):this.setState({isTouched:!0}),this.props.onTouchStart&&this.props.onTouchStart(event)},render:function(){var a=h.Children.only(this.props.children);return h.cloneElement(a,{className:j(a.props.className,this.state.isTouched?"touched":""),onTouchEnd:this.handleTouchEnd,onTouchMove:k?this.handleTouchMove:this.props.onTouchMove,onTouchStart:this.handleTouchStart})}});e.exports=b}),null);
__d("MCompositionUserActions",["MComposition","MCompositionConfigFields","MCompositionDispatcher","MCompositionShareFields","MCompositionStoreID","MCompositionConstants"],(function(a,b,c,d,e,f,g,h,i,j,k){__p&&__p();var l=b("MCompositionConstants").ActionTypes;function m(a,b){i.handleUpdateFromUserAction({actionType:a,data:b})}a={configDisablePhotosUpdate:function(a){var b={};b[k.CONFIG]={};b[k.CONFIG][h.DISABLE_PHOTOS]=a;m(l.DISABLE_PHOTOS,b)},finalize:function(){m(l.COMPOSITION_FINALIZE,{})},initialize:function(a){m(l.COMPOSITION_INITIALIZE,a||{})},shareLinkUpdate:function(a){var b={};b[k.SHARE]={};b[k.SHARE][j.SHARE_URI]=a;m(l.SHARE_LINK_UPDATE,b)},shareRemoveLinkPreview:function(a){var b={};b[a]=!0;a={};a[k.SHARE]={};a[k.SHARE][j.DISABLED_LINKS]=b;m(l.SHARE_REMOVE_PREVIEW,a)},minutiaeRemove:function(){m(l.MINUTIAE_REMOVE,{})},minutiaeSet:function(a){var b={};b[k.MINUTIAE]=a;m(l.MINUTIAE_SET,b)},photoUpdate:function(a){var b={};b[k.PHOTO]=a;m(l.PHOTO_CHANGE,b)},audioUpdate:function(a){var b={};b[k.AUDIO]=a;m(l.AUDIO_CHANGE,b)},placeRemove:function(){m(l.PLACE_REMOVE,{})},placeSet:function(a){m(l.PLACE_SET,new g().setStoreData(k.PLACE,a).serialize())},statusUpdate:function(a){m(l.STATUS_CHANGE,new g().setStoreData(k.STATUS,a).serialize())},withUpdate:function(a){var b={};b[k.WITH_TAGS]=a;m(l.WITH_CHANGE,b)},groupSellUpdate:function(a){m(l.GROUP_SELL_UPDATE,new g().setStoreData(k.GROUP_SELL,a).serialize())},privacyUpdate:function(a){var b={};b[k.PRIVACY]=a;m(l.PRIVACY_CHANGE,b)},formatUpdate:function(a){var b;m(l.FORMAT_CHANGE,(b={},b[k.FORMAT]=a,b))}};e.exports=a}),null);
__d("MCompositionAudioFields",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AUDIO_POST:"audio_post"})}),null);
__d("MCompositionAudioStore",["MCompositionAudioFields","MCompositionStore","MCompositionStoreID","emptyFunction","MCompositionConstants"],(function(a,b,c,d,e,f,g,h,i,j){a=b("MCompositionConstants").ActionTypes;c=new h(i.AUDIO,g).setMutable(!0).setHandlerFor(a.COMPOSITION_FINALIZE,j.thatReturnsNull).setHandlerFor(a.COMPOSITION_INITIALIZE,j.thatReturnsArgument).setHandlerFor(a.AUDIO_CHANGE,j.thatReturnsArgument).register();e.exports=c}),null);
__d("MCompositionMinutiaeFields",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ACTION_TYPE_ID:"action_type",CUSTOM_ICON_ID:"custom_icon",FBT_PHRASE:"fbt_phrase",ICON:"icon_src",ICON_LEGACY:"icon",OBJECT_ID:"object",OBJECT_NAME:"object_str",SHOW_ATTACHMENT:"show_attachment",SUGGESTION_MECHANISM:"suggestion_mechanism",TRIGGERS_EVENT_TAG_EXPANSION:"triggers_event_tag_expansion",USE_DEFAULT_ICON:"use_default_icon"})}),null);
__d("MCompositionMinutiaeStore",["MCompositionMinutiaeFields","MCompositionStore","MCompositionStoreID","emptyFunction","MCompositionConstants"],(function(a,b,c,d,e,f,g,h,i,j){a=b("MCompositionConstants").ActionTypes;c=new h(i.MINUTIAE,g).setRequiredFields(g.ACTION_TYPE_ID,g.ICON,g.ICON_LEGACY,g.OBJECT_ID,g.OBJECT_NAME).setHandlerFor(a.COMPOSITION_FINALIZE,j.thatReturnsNull).setHandlerFor(a.COMPOSITION_INITIALIZE,j.thatReturnsArgument).setHandlerFor(a.MINUTIAE_REMOVE,j.thatReturnsNull).setHandlerFor(a.MINUTIAE_SET,j.thatReturnsArgument).register();e.exports=c}),null);
__d("MCompositionPhotoFields",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PHOTO_INFO_LIST:"photo_info_list"})}),null);
__d("MCompositionPhotoStore",["MCompositionPhotoFields","MCompositionStore","MCompositionStoreID","emptyFunction","MCompositionConstants"],(function(a,b,c,d,e,f,g,h,i,j){a=b("MCompositionConstants").ActionTypes;c=new h(i.PHOTO,g).setMutable(!0).setHandlerFor(a.COMPOSITION_FINALIZE,j.thatReturnsNull).setHandlerFor(a.COMPOSITION_INITIALIZE,j.thatReturnsArgument).setHandlerFor(a.PHOTO_CHANGE,j.thatReturnsArgument).register();e.exports=c}),null);
__d("MCompositionPlaceFields",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADDRESS:"address",FREEFORM_NAME:"FREEFORM_NAME",ID:"id",IS_CURRENT:"is_current",IS_EVENT:"isEventResult",IS_NEW:"new_place",IS_NON_SPECIFIC:"isNonSpecific",JSON_LOCATION:"JSON_LOCATION",LATITUDE:"latitude",LONGITUDE:"longitude",NAME:"name",PHONE:"phone",SUGGESTION_MECHANISM:"suggestion_mechanism",SUGGESTED_OG_ACTION_TYPE_ID:"og_action_type_id",TOPIC_TOKENS:"topic_tokens",WEBSITE:"website",ZIP:"zip"})}),null);
__d("MCompositionPlaceStore",["FBJSON","MCompositionConfigStore","MCompositionDispatcher","MCompositionPlaceFields","MCompositionStore","MCompositionStoreID","MPlaces","emptyFunction","MCompositionConstants"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){a=b("MCompositionConstants").ActionTypes;c=new k(l.PLACE,j).setRequiredFields(j.NAME).setHandlerFor(a.COMPOSITION_INITIALIZE,function(a){i.waitFor([h.toUpdate()]);return a}).setHandlerFor(a.PLACE_REMOVE,n.thatReturnsNull).setHandlerFor(a.PLACE_SET,function(a){var b=a[j.LATITUDE],c=a[j.LONGITUDE];b&&c?a[j.JSON_LOCATION]=g.stringify({latitude:b,longitude:c}):a[j.JSON_LOCATION]=m.getCurrentJSONLocation();return a}).register();e.exports=c}),null);
__d("MCompositionPrivacyFields",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PRIVACY_FBID:"PRIVACY_FBID",CLOSE_DIALOG:"CLOSE_DIALOG",ALREADY_SAVED_STICKY:"ALREADY_SAVED_STICKY",NEVER_SAVE_STICKY:"NEVER_SAVE_STICKY",CUSTOM_LABEL:"CUSTOM_LABEL",CUSTOM_OPTION:"CUSTOM_OPTION"})}),null);
__d("MCompositionPrivacyStore",["MCompositionPrivacyFields","MCompositionStore","MCompositionStoreID","emptyFunction","MCompositionConstants"],(function(a,b,c,d,e,f,g,h,i,j){a=b("MCompositionConstants").ActionTypes;c=new h(i.PRIVACY,g).setRequiredFields(g.PRIVACY_FBID).setHandlerFor(a.COMPOSITION_FINALIZE,j.thatReturnsNull).setHandlerFor(a.COMPOSITION_INITIALIZE,j.thatReturnsArgument).setHandlerFor(a.PRIVACY_CHANGE,j.thatReturnsArgument).register();e.exports=c}),null);
__d("MCompositionStatusFields",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({TEXT:"TEXT",LONGEST_LENGTH:"LONGEST_LENGTH"})}),null);
__d("MCompositionStatusStore",["MCompositionStatusFields","MCompositionStore","MCompositionStoreID","emptyFunction","MCompositionConstants"],(function(a,b,c,d,e,f,g,h,i,j){c=b("MCompositionConstants").ActionTypes;function a(a){a=a||{};Object.prototype.hasOwnProperty.call(a,g.TEXT)||(a[g.TEXT]="");a[g.LONGEST_LENGTH]=Math.max(k.get(g.LONGEST_LENGTH,0),a[g.TEXT].length);return a}var k=new h(i.STATUS,g).setRequiredFields(g.LONGEST_LENGTH,g.TEXT).setHandlerFor(c.COMPOSITION_FINALIZE,j.thatReturnsNull).setHandlerFor(c.COMPOSITION_INITIALIZE,a).setHandlerFor(c.STATUS_CHANGE,a).register();e.exports=k}),null);
__d("MCompositionWithFields",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({TOKENS:"TOKENS"})}),null);
__d("MCompositionWithStore",["MCompositionStore","MCompositionStoreID","MCompositionWithFields","emptyFunction","MCompositionConstants"],(function(a,b,c,d,e,f,g,h,i,j){a=b("MCompositionConstants").ActionTypes;c=new g(h.WITH_TAGS,i).setMutable(!0).setHandlerFor(a.COMPOSITION_FINALIZE,j.thatReturnsNull).setHandlerFor(a.COMPOSITION_INITIALIZE,j.thatReturnsArgument).setHandlerFor(a.WITH_CHANGE,j.thatReturnsArgument).register();e.exports=c}),null);
__d("MTaggableActivityPreviewTemplate",["invariant"],(function(a,b,c,d,e,f,g){__p&&__p();function a(a,b){"use strict";this.$1=a,this.$2=b}a.prototype.getTemplateArray=function(){"use strict";var a=0,b=this.$2.length,c,d=[];for(var e=0;e<=this.$2.length;e++)c=e!==b?this.$2[e].position:this.$1.length,d.push(this.$1.slice(a,c)),a=c;return d};a.prototype.getTokens=function(){"use strict";return this.$2};a.prototype.renderArray=function(a){"use strict";this.$2.length===a.length||g(0,4693,this.$2.length,a.length);var b=this.getTemplateArray().concat();for(var c=a.length;c>0;c--)b.splice(c,0,a[c-1]);return b};e.exports=a}),null);
__d("XTaggableActivityPreviewTemplateQueryController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/composer/intl/preview_template/",{action_type_id:{type:"Int",required:!0}})}),null);
__d("MTaggableActivityPreviewTemplateQuery",["Promise","ErrorUtils","MCache","MRequest","MTaggableActivityPreviewTemplate","MTaggableActivityPreviewTemplateConstants","XTaggableActivityPreviewTemplateQueryController","invariant"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){__p&&__p();var o=l.TOKEN_TYPES,p=12096e5,q="__created_at";function r(a){return h.applyWithGuard(a,null,null,null,"MTaggableActivityPreviewTemplate")}function a(a){"use strict";this.$1=a,this.$2={has_place_type:"",has_users_type:""}}a.prototype.$3=function(a){"use strict";a[q]=Date.now();r(function(){return i.setItem(this.getCacheKey(),a)}.bind(this));return this.$4(a)};a.prototype.$4=function(a){"use strict";a=a[this.$5()];a||n(0,2619,this.$5());return new k(a.string,a.tokens)};a.prototype.getCacheKey=function(){"use strict";return[l.CACHE_PREFIX,l.VERSION,this.$1,l.LOCALE,l.GENDER].join("_")};a.prototype.$6=function(){"use strict";__p&&__p();var a=this.getCacheKey(),b=r(function(){return i.getItem(a)});if(!b)return null;if(Date.now()-b[q]>p){r(function(){return i.removeItem(a)});return null}return this.$4(b)};a.prototype.$5=function(){"use strict";return l.KEY_PREFIX+"_"+Object.keys(this.$2).sort().map(function(a){return this.$2[a]}.bind(this)).join("_")};a.prototype.getURI=function(){"use strict";return m.getURIBuilder().setInt("action_type_id",this.$1).getURI()};a.prototype.fetch=function(){"use strict";var a=this.$6();return a?g.resolve(a):this.$7()};a.prototype.$7=function(){"use strict";return new g(function(a){var b=new j(this.getURI()).setMethod("GET");b.listen("done",function(b){a(this.$3(b.payload.templates))}.bind(this));b.send()}.bind(this))};a.prototype.setHasPeople=function(){"use strict";this.$2.has_users_type=o.PEOPLE.MULTIPLE;return this};a.prototype.setHasPerson=function(){"use strict";this.$2.has_users_type=o.PEOPLE.SINGLE;return this};a.prototype.setHasPlace=function(){"use strict";this.$2.has_place_type=o.PLACE.SPECIFIC;return this};e.exports=a}),null);
__d("MComposerEligibility",["MCompositionAudioFields","MCompositionAudioStore","MCompositionMinutiaeFields","MCompositionMinutiaeStore","MCompositionPhotoFields","MCompositionPhotoStore","MCompositionPlaceFields","MCompositionPlaceStore","MCompositionShareFields","MCompositionShareStore","MCompositionStatusFields","MCompositionStatusStore","MCompositionWithFields","MCompositionWithStore","gkx"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){__p&&__p();a={isTextEligible:function(a){return a===null||a===""?!1:a.length<=150},isComposerEmpty:function(){__p&&__p();var a=l.get(k.PHOTO_INFO_LIST,null);a=a!==null&&a.length>0;var b=h.get(g.AUDIO_POST,null);b=b!==null;var c=r.get(q.TEXT,"");c=c.trim();c=c.replace(/\n{3,}/,"\n\n");c=c.replace(/\t+/," ");c=c!=="";var d=t.get(s.TOKENS);d=d!==null&&d.length>0;var e=n.get(m.ID)!==null,f=j.get(i.ACTION_TYPE_ID),u=j.get(i.OBJECT_ID);f=f!==null||u!==null;u=p.get(o.SHARE_URI)!==null;return!a&&!b&&!c&&!d&&!e&&!f&&!u?!0:!1},isStoryPostEligible:function(a){__p&&__p();var b=l.get(k.PHOTO_INFO_LIST,null),c=r.get(q.TEXT,"");c=c.trim();c=c.replace(/\n{3,}/,"\n\n");c=c.replace(/\t+/," ");var d=t.get(s.TOKENS),e=n.get(m.ID),f=j.get(i.ACTION_TYPE_ID),g=j.get(i.OBJECT_ID);d=d!==null&&d.length>0||e!==null||f!==null||g!==null;e=b!==null&&b.length>0&&(!d||d&&b[0].type==="photo");f=p.get(o.SHARE_URI)!==null;g=u("676786")&&f&&a&&!d;if(d&&c===""&&!e&&!f)return!1;return c!==""&&this.isTextEligible(c)&&!f||c===""&&e&&!f||c!==""&&this.isTextEligible(c)&&!e&&g||c===""&&!e&&g?!0:!1}};e.exports=a}),null);
__d("MFriendsTaggerReact",["DOM","MLegacyDataStore","$","createDeprecatedProperties","eventsMixinDeprecated","getActiveElement","invariant"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m){__p&&__p();function n(a){"use strict";this.setRoot(a),g.listen(this.getRoot(),"click",null,this.$1.bind(this))}n.prototype.hide=function(){"use strict";var a=l();a&&a.blur();g.hide(this.getRoot())};n.prototype.show=function(){"use strict";g.show(this.getRoot()),this.getTokenizer().component.init(),this.onShow&&this.onShow()};n.prototype.clear=function(){"use strict";var a=g.find(this.getRoot(),"div","tokenizer");a=h.get(a);a.tokenizer&&(this.setEntries([]),this.onClear&&this.onClear())};n.prototype.hasTokens=function(){"use strict";return this.getEntries().length>0};n.prototype.getTokens=function(){"use strict";return this.getEntries().reduce(function(a,b){a[b.id]=b;return a},{})};n.prototype.removeToken=function(a){"use strict";this.getTokenizer().component.onRemoveFromCollection(a)};n.prototype.getEntries=function(){"use strict";return this.getTokenizer().component.getEntries()};n.prototype.setEntries=function(a){"use strict";this.getTokenizer().component.setEntries(a)};n.prototype.$1=function(event){"use strict";event.getNode("cancel_with_tagger")?this.$2():event.getNode("submit_with_tagger")&&this.$3()};n.prototype.$2=function(){"use strict";this.hide(),this.invoke("cancel",{})};n.prototype.$3=function(){"use strict";var a=this.getEntries();this.hide();this.invoke("submit",{tokens:a})};n.prototype.getTokenizer=function(){"use strict";var a=g.find(this.getRoot(),"div","tokenizer");a=h.get(a);a||m(0,1304);a.tokenizer||m(0,1305,Object.keys(a).join(" "));return a.tokenizer};n.prototype.setOnShow=function(a){"use strict";this.onShow=a};n.prototype.setOnClear=function(a){"use strict";this.onClear=a};n.fromID=function(a){"use strict";a=i(a);var b=h.get(a);b.$4||(b.$4=new n(a));return b.$4};n.getFriendIds=function(event){"use strict";return event.friend_ids?event.friend_ids:event.tokens.map(function(a){return a.id})};j(n,{root:null});k(n,["submit","cancel"]);e.exports=n}),null);
__d("MStructuredComposerFriendsInputReact",["BanzaiODS","CSS","DOM","MComposerLogger","MComposerNavigationMixin","MComposerWaterfallEvent","MCompositionUserActions","MCompositionWithFields","MCompositionWithStore","MSubscriptionsHandlerMixin","MTokenCollection.react","MTokenRenderer.react","MUnifiedTaggerConstants","React","ReactDOM","Stratcom","TokenCollection","mixin","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){__p&&__p();var z,A="mtouch_composer_facerec_suggestions",B=s.SHOW_UNIFIED_TAGGER;b=babelHelpers.inherits(a,x(k,p));z=b&&b.prototype;function a(a,b,c){"use strict";__p&&__p();z.constructor.call(this),this.$MStructuredComposerFriendsInputReact1=a,this.$MStructuredComposerFriendsInputReact2=b,this.$MStructuredComposerFriendsInputReact3=new w(),this.$MStructuredComposerFriendsInputReact4=u.render(t.createElement(q,{onClick:this.$MStructuredComposerFriendsInputReact5.bind(this),onRemove:this.$MStructuredComposerFriendsInputReact6.bind(this),renderer:r,collection:this.$MStructuredComposerFriendsInputReact3,collectionKey:"users_with"}),i.find(b,"ul","friend-tokens")),this.$MStructuredComposerFriendsInputReact7=c,this.$MStructuredComposerFriendsInputReact8=c.style.display,this.$MStructuredComposerFriendsInputReact9={},B&&this.addSubscriptions(v.listen("MComposer:tagger:click",s.TOKEN_TYPES.PEOPLE,function(){return this.$MStructuredComposerFriendsInputReact5()}.bind(this))),this.addSubscriptions(v.listen("click","inline-with-button",function(){y(function(){this.$MStructuredComposerFriendsInputReact5()}.bind(this),10)}.bind(this)),v.listen("MComposer:tagger:open",null,function(){return this.$MStructuredComposerFriendsInputReact5()}.bind(this))),this.addSubscriptions(i.listen(this.$MStructuredComposerFriendsInputReact7,"click",null,function(){return this.$MStructuredComposerFriendsInputReact5()}.bind(this)),this.$MStructuredComposerFriendsInputReact1.listen("cancel",function(){this.currentNavigationPolicy().addOnClose(function(){return this.$MStructuredComposerFriendsInputReact10()}.bind(this)).close()}.bind(this)),this.$MStructuredComposerFriendsInputReact1.listen("submit",function(event){this.currentNavigationPolicy().addOnClose(function(){var a={};a[n.TOKENS]=event.tokens;m.withUpdate(a);j.log(l.FRIEND_TAG_ADD,{num_tags:event.tokens.length});this.$MStructuredComposerFriendsInputReact11(event.tokens.length)}.bind(this)).close()}.bind(this)),o.addChangeListener(function(){return this.$MStructuredComposerFriendsInputReact12()}.bind(this)))}a.prototype.$MStructuredComposerFriendsInputReact12=function(){"use strict";var a=o.get(n.TOKENS,[]);a!==this.$MStructuredComposerFriendsInputReact3.entries&&(this.$MStructuredComposerFriendsInputReact3.entries=a,this.$MStructuredComposerFriendsInputReact13(),this.$MStructuredComposerFriendsInputReact4.forceUpdate(),this.$MStructuredComposerFriendsInputReact14(),this.$MStructuredComposerFriendsInputReact11(),this.$MStructuredComposerFriendsInputReact15())};a.prototype.$MStructuredComposerFriendsInputReact15=function(){"use strict";this.$MStructuredComposerFriendsInputReact16&&this.$MStructuredComposerFriendsInputReact16(this.$MStructuredComposerFriendsInputReact3.entries.slice())};a.prototype.$MStructuredComposerFriendsInputReact13=function(){"use strict";B&&v.invoke("MComposer:tagger:update",null,{people:this.$MStructuredComposerFriendsInputReact3.entries})};a.prototype.$MStructuredComposerFriendsInputReact17=function(a){"use strict";var b=!this.$MStructuredComposerFriendsInputReact3.hasEntry(a);b&&(this.$MStructuredComposerFriendsInputReact3.addEntry(a),this.$MStructuredComposerFriendsInputReact13(),this.$MStructuredComposerFriendsInputReact14(),this.$MStructuredComposerFriendsInputReact4.forceUpdate());return b};a.prototype.addManualXYTag=function(a){"use strict";this.$MStructuredComposerFriendsInputReact17(a)&&this.$MStructuredComposerFriendsInputReact18(),this.$MStructuredComposerFriendsInputReact15()};a.prototype.addAutoToken=function(a){"use strict";this.$MStructuredComposerFriendsInputReact9[a.id]||this.$MStructuredComposerFriendsInputReact17(a)&&(this.$MStructuredComposerFriendsInputReact19(),g.bumpEntityKey(A,"add_auto_tag"))};a.prototype.onRemove=function(a){"use strict";this.$MStructuredComposerFriendsInputReact3.removeEntry(a),this.$MStructuredComposerFriendsInputReact14(),this.$MStructuredComposerFriendsInputReact13(),this.$MStructuredComposerFriendsInputReact4.forceUpdate(),this.$MStructuredComposerFriendsInputReact15()};a.prototype.$MStructuredComposerFriendsInputReact6=function(a){"use strict";this.$MStructuredComposerFriendsInputReact9[a.id]=!0,this.onRemove(a),a.autoTag&&g.bumpEntityKey(A,"remove_auto_tag"),this.$MStructuredComposerFriendsInputReact20()};a.prototype.$MStructuredComposerFriendsInputReact14=function(){"use strict";var a=this.$MStructuredComposerFriendsInputReact3.entries.length>0;B||h.conditionShow(this.$MStructuredComposerFriendsInputReact2,a);h.conditionClass(this.$MStructuredComposerFriendsInputReact7,"active",a)};a.prototype.$MStructuredComposerFriendsInputReact5=function(){"use strict";this.newNavigationPolicy().addOnOpen(function(){j.log(l.FRIEND_TAG_INTENT),this.$MStructuredComposerFriendsInputReact1.setEntries(this.$MStructuredComposerFriendsInputReact3.entries.slice()),setTimeout(this.$MStructuredComposerFriendsInputReact1.show.bind(this.$MStructuredComposerFriendsInputReact1))}.bind(this)).addOnCloseByBrowser(function(){this.$MStructuredComposerFriendsInputReact1.hide(),this.$MStructuredComposerFriendsInputReact10()}.bind(this)).open()};a.prototype.$MStructuredComposerFriendsInputReact11=function(a){"use strict";v.invoke("MStructuredComposerFriendsInput-done",null,{num_tags:a})};a.prototype.$MStructuredComposerFriendsInputReact19=function(){"use strict";v.invoke("MStructuredComposerFriendsInput-addedAutoTags",null,{})};a.prototype.$MStructuredComposerFriendsInputReact18=function(){"use strict";v.invoke("MStructuredComposerFriendsInput-addedManualXYTags",null,{})};a.prototype.$MStructuredComposerFriendsInputReact20=function(){"use strict";v.invoke("MStructuredComposerFriendsInput-removedManualTags",null,{})};a.prototype.$MStructuredComposerFriendsInputReact10=function(){"use strict";var a=this.getTokenCount();v.invoke("MStructuredComposerFriendsInput-done",null,{cancel:!0,num_tags:a});j.log(l.FRIEND_TAG_CANCEL,{num_tags:a})};a.prototype.reset=function(){"use strict";this.$MStructuredComposerFriendsInputReact4.entries=[],B||i.hide(this.$MStructuredComposerFriendsInputReact2),this.$MStructuredComposerFriendsInputReact3.entries=[],this.$MStructuredComposerFriendsInputReact9={},this.$MStructuredComposerFriendsInputReact1.clear(),this.$MStructuredComposerFriendsInputReact4.forceUpdate(),h.conditionClass(this.$MStructuredComposerFriendsInputReact7,"active",!1),this.$MStructuredComposerFriendsInputReact1.hide()};a.prototype.getTokenCount=function(){"use strict";return this.$MStructuredComposerFriendsInputReact3.entries.length};a.prototype.hasTokens=function(){"use strict";return this.getTokenCount()>0};a.prototype.setVisible=function(a){"use strict";h.conditionShow(this.$MStructuredComposerFriendsInputReact7,a)};a.prototype.setOnEntriesChangedHandler=function(a){"use strict";this.$MStructuredComposerFriendsInputReact16=a};a.prototype.getEntries=function(){"use strict";return this.$MStructuredComposerFriendsInputReact3.entries};e.exports=a}),null);
__d("MTokenizerParagraphRoot.react",["React","cx"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;b=g.PropTypes;i=babelHelpers.inherits(a,g.Component);i&&i.prototype;a.prototype.render=function(){"use strict";return g.createElement("div",{className:"_5hd3"},"\u2014",this.props.showSpace?" ":"",this.props.children)};function a(){"use strict";i.apply(this,arguments)}a.propTypes={showSpace:b.bool};a.defaultProps={showSpace:!0};e.exports=a}),null);
__d("MTokenizerParagraphToken.react",["MTouchableArea.react","React","cx","joinClasses"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k;b=h.PropTypes;var l={use:{token:"mToken _4tk2",noborder:"mToken _4tk2 _3a7k"}};c=babelHelpers.inherits(a,h.Component);k=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=k.constructor).call.apply(a,[this].concat(d)),this.getClassListForAttribute=function(a){return l[a][this.props[a]]}.bind(this),b}a.prototype.render=function(){"use strict";return h.createElement(g,null,h.createElement("span",babelHelpers["extends"]({},this.props,{className:j(this.props.className,this.getClassListForAttribute("use"))}),h.createElement("span",{className:"_4tk0"},this.props.children)))};a.propTypes={use:b.oneOf(["token","noborder"])};a.defaultProps={use:"token"};e.exports=a}),null);
__d("MTokenizerParagraphAtPlace.react",["MTokenizerParagraphRoot.react","MTokenizerParagraphToken.react","React","fbt","MUnifiedTaggerConstants"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k,l=b("MUnifiedTaggerConstants").TOKEN_TYPES;c=i.PropTypes;d=babelHelpers.inherits(a,i.Component);k=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=k.constructor).call.apply(a,[this].concat(d)),this.renderNonSpecificPlace=function(){return i.createElement(g,null,j._("in {city-name}.",[j._param("city-name",this.renderPlaceToken())]))}.bind(this),this.renderPlaceToken=function(){return i.createElement(h,{onClick:this.props.onTokenClick.bind(null,l.PLACE)},this.props.place.name)}.bind(this),this.renderSpecificPlace=function(){return i.createElement(g,null,j._("at {place-name}.",[j._param("place-name",this.renderPlaceToken())]))}.bind(this),b}a.prototype.render=function(){"use strict";return this.props.place.isNonSpecific?this.renderNonSpecificPlace():this.renderSpecificPlace()};a.propTypes={onTokenClick:c.func.isRequired,place:c.object.isRequired};e.exports=a}),null);
__d("intlList",["React","fbt","invariant"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j={AND:"AND",NONE:"NONE",OR:"OR"},k={COMMA:"COMMA",SEMICOLON:"SEMICOLON"};a=function(a,b,c){__p&&__p();b=b||j.AND;c=c||k.COMMA;var d=a.length;if(d===0)return"";else if(d===1)return a[0];var e=a[d-1],f=a[0];for(var g=1;g<d-1;++g)switch(c){case k.SEMICOLON:f=h._("{previous items}; {following items}",[h._param("previous items",f),h._param("following items",a[g])]);break;default:f=h._("{previous items}, {following items}",[h._param("previous items",f),h._param("following items",a[g])])}return l(f,e,b,c)};function l(a,b,c,d){switch(c){case j.AND:return h._("{list of items} and {last item}",[h._param("list of items",a),h._param("last item",b)]);case j.OR:return h._("{list of items} or {last item}",[h._param("list of items",a),h._param("last item",b)]);case j.NONE:switch(d){case k.SEMICOLON:return h._("{previous items}; {last item}",[h._param("previous items",a),h._param("last item",b)]);default:return h._("{list of items}, {last item}",[h._param("list of items",a),h._param("last item",b)])}default:i(0,568,c)}}a.DELIMITERS=k;a.CONJUNCTIONS=j;e.exports=a}),null);
__d("MTokenizerParagraphTokenList.react",["MTokenizerParagraphToken.react","React","fbt","intlList","invariant"],(function(a,b,c,d,e,f,g,h,i,j,k){__p&&__p();var l;b=h.PropTypes;l=babelHelpers.inherits(a,h.Component);l&&l.prototype;a.prototype.render=function(){"use strict";var a=this.props.names.length;a=a===2?this.props.names[1]:i._("{count} others",[i._param("count",a-1)]);a=[h.createElement(g,null,this.props.names[0]),h.createElement(g,null,a)];return h.createElement("span",{onClick:this.props.onClick,role:"presentation"},j(a,j.CONJUNCTIONS.AND))};function a(){"use strict";l.apply(this,arguments)}a.propTypes={onClick:b.func,names:function(a,b,c){var d=Array.isArray(a[b]);d&&a[b].length>1||k(0,5066,b,d?"array":typeof a[b],a[b]?a[b].length:a[b],c)}};e.exports=a}),null);
__d("MTokenizerParagraphWithMultiplePeople.react",["MTokenizerParagraphRoot.react","MTokenizerParagraphTokenList.react","React","fbt","MUnifiedTaggerConstants"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k,l=b("MUnifiedTaggerConstants").TOKEN_TYPES;c=i.PropTypes;k=babelHelpers.inherits(a,i.Component);k&&k.prototype;a.prototype.render=function(){"use strict";return i.createElement(g,null,j._("with {list-of-people}.",[j._param("list-of-people",i.createElement(h,{onClick:this.props.onTokenClick.bind(null,l.PEOPLE),names:this.props.people.map(function(a){return a.name})}))]))};function a(){"use strict";k.apply(this,arguments)}a.propTypes={onTokenClick:c.func.isRequired,people:c.array.isRequired};e.exports=a}),null);
__d("MTokenizerParagraphWithMultiplePeopleAtPlace.react",["MTokenizerParagraphRoot.react","MTokenizerParagraphToken.react","MTokenizerParagraphTokenList.react","React","fbt","MUnifiedTaggerConstants"],(function(a,b,c,d,e,f,g,h,i,j,k){__p&&__p();var l,m=b("MUnifiedTaggerConstants").TOKEN_TYPES;c=j.PropTypes;d=babelHelpers.inherits(a,j.Component);l=d&&d.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=l.constructor).call.apply(a,[this].concat(d)),this.getPeopleNames=function(){return this.props.people.map(function(a){return a.name})}.bind(this),this.renderNonSpecificPlace=function(){return j.createElement(g,null,k._("with {list-of-people} in {non-specific-place-name}.",[k._param("list-of-people",this.renderPeopleToken()),k._param("non-specific-place-name",this.renderPlaceToken())]))}.bind(this),this.renderPeopleToken=function(){return j.createElement(i,{onClick:this.props.onTokenClick.bind(null,m.PEOPLE),names:this.getPeopleNames()})}.bind(this),this.renderPlaceToken=function(){return j.createElement(h,{onClick:this.props.onTokenClick.bind(null,m.PLACE)},this.props.place.name)}.bind(this),this.renderSpecificPlace=function(){return j.createElement(g,null,k._("with {list-of-people} at {place-name}.",[k._param("list-of-people",this.renderPeopleToken()),k._param("place-name",this.renderPlaceToken())]))}.bind(this),b}a.prototype.render=function(){"use strict";return this.props.place.isNonSpecific?this.renderNonSpecificPlace():this.renderSpecificPlace()};a.propTypes={onTokenClick:c.func.isRequired,place:c.object.isRequired,people:c.array.isRequired};e.exports=a}),null);
__d("MTokenizerParagraphIcon.react",["Image.react","MTokenizerParagraphToken.react","React","cx"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k;b=i.PropTypes;k=babelHelpers.inherits(a,i.Component);k&&k.prototype;a.prototype.render=function(){"use strict";return i.createElement(h,this.props,i.createElement(g,{className:"_2r5v",src:this.props.src}))};function a(){"use strict";k.apply(this,arguments)}a.propTypes={use:b.oneOf(["token","noborder"])};a.defaultProps={use:"noborder"};e.exports=a}),null);
__d("MTokenizerParagraphWithOGActivity.react",["MTaggableActivityPreviewTemplateQuery","MTokenizerParagraphIcon.react","MTokenizerParagraphRoot.react","MTokenizerParagraphToken.react","MTokenizerParagraphTokenList.react","React","cx","ix","MUnifiedTaggerConstants"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){__p&&__p();var o,p=b("MUnifiedTaggerConstants").TOKEN_TYPES;c=l.PropTypes;d=babelHelpers.inherits(a,l.Component);o=d&&d.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=o.constructor).call.apply(a,[this].concat(d)),this.state={template:null},this.getTemplateQuery=function(a){var b=new g(a.ogactivity.id);a.people.length===1?b.setHasPerson():a.people.length>1&&b.setHasPeople();a.place&&b.setHasPlace();return b},this.shouldRenderLoader=function(){return!(this.state.template&&this.props.ogactivity.icon)}.bind(this),this.renderLoading=function(){return l.createElement(h,{className:"_12zh",src:n("85428")})},this.renderTemplate=function(a){return this.state.template.renderArray(this.state.template.getTokens().map(this.renderToken))}.bind(this),this.renderToken=function(a){a=a.token;var b=this.props.onTokenClick.bind(null,a===p.PERSON?p.PEOPLE:a);switch(a){case p.ICON:return[l.createElement(h,{onClick:b,src:this.props.ogactivity.icon,use:"token"})," "];case p.OBJECT:return l.createElement(j,{onClick:b,key:a},this.props.ogactivity.object);case p.PEOPLE:return l.createElement(k,{onClick:b,names:this.props.people.map(function(a){return a.name}),key:a});case p.PERSON:return l.createElement(j,{onClick:b,key:a},this.props.people[0].name);case p.PLACE:return l.createElement(j,{onClick:b,key:a},this.props.place.name)}}.bind(this),b}a.prototype.componentDidMount=function(){"use strict";this.$1=!0,this.startTemplateQuery(this.props)};a.prototype.componentWillUnnount=function(){"use strict";this.$1=!1};a.prototype.UNSAFE_componentWillReceiveProps=function(a){"use strict";this.setState({template:null}),this.startTemplateQuery(a)};a.prototype.startTemplateQuery=function(a){"use strict";this.getTemplateQuery(a).fetch().done(function(a){this.$1&&this.setState({template:a})}.bind(this))};a.prototype.render=function(){"use strict";var a=this.shouldRenderLoader()?this.renderLoading():this.renderTemplate();return l.createElement(i,null,a)};a.propTypes={ogactivity:c.object.isRequired,onTokenClick:c.func.isRequired,people:c.array,place:c.object};e.exports=a}),null);
__d("MTokenizerParagraphWithPerson.react",["MTokenizerParagraphRoot.react","MTokenizerParagraphToken.react","React","fbt","MUnifiedTaggerConstants"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k,l=b("MUnifiedTaggerConstants").TOKEN_TYPES;c=i.PropTypes;k=babelHelpers.inherits(a,i.Component);k&&k.prototype;a.prototype.render=function(){"use strict";return i.createElement(g,null,j._("with {name1}.",[j._param("name1",i.createElement(h,{onClick:this.props.onTokenClick.bind(null,l.PEOPLE)},this.props.person.name))]))};function a(){"use strict";k.apply(this,arguments)}a.propTypes={onTokenClick:c.func.isRequired,person:c.object.isRequired};e.exports=a}),null);
__d("MTokenizerParagraphWithPersonAtPlace.react",["MTokenizerParagraphRoot.react","MTokenizerParagraphToken.react","React","fbt","MUnifiedTaggerConstants"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k,l=b("MUnifiedTaggerConstants").TOKEN_TYPES;c=i.PropTypes;d=babelHelpers.inherits(a,i.Component);k=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=k.constructor).call.apply(a,[this].concat(d)),this.renderNonSpecificPlace=function(){return i.createElement(g,null,j._("with {name1} in {city-name}.",[j._param("name1",this.renderPersonToken()),j._param("city-name",this.renderPlaceToken())]))}.bind(this),this.renderPersonToken=function(){return i.createElement(h,{onClick:this.props.onTokenClick.bind(null,l.PEOPLE)},this.props.person.name)}.bind(this),this.renderPlaceToken=function(){return i.createElement(h,{onClick:this.props.onTokenClick.bind(null,l.PLACE)},this.props.place.name)}.bind(this),this.renderSpecificPlace=function(){return i.createElement(g,null,j._("with {name1} at {place-name}.",[j._param("name1",this.renderPersonToken()),j._param("place-name",this.renderPlaceToken())]))}.bind(this),b}a.prototype.render=function(){"use strict";return this.props.place.isNonSpecific?this.renderNonSpecificPlace():this.renderSpecificPlace()};a.propTypes={onTokenClick:c.func.isRequired,place:c.object.isRequired,person:c.object.isRequired};e.exports=a}),null);
__d("MTokenizerParagraph.react",["MTokenizerParagraphAtPlace.react","MTokenizerParagraphWithMultiplePeople.react","MTokenizerParagraphWithMultiplePeopleAtPlace.react","MTokenizerParagraphWithOGActivity.react","MTokenizerParagraphWithPerson.react","MTokenizerParagraphWithPersonAtPlace.react","React"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m){__p&&__p();var n;b=m.PropTypes;c=babelHelpers.inherits(a,m.Component);n=c&&c.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=n.constructor).call.apply(a,[this].concat(d)),this.renderTokens=function(){__p&&__p();var a=this.props.ogactivity,b=this.props.people||[],c=this.props.place;if(a)return m.createElement(j,babelHelpers["extends"]({},this.props,{ogactivity:a,people:b,place:c}));if(b.length>1&&c)return m.createElement(i,babelHelpers["extends"]({},this.props,{place:c,people:b}));if(b.length===1&&c)return m.createElement(l,babelHelpers["extends"]({},this.props,{place:c,person:b[0]}));if(c)return m.createElement(g,babelHelpers["extends"]({},this.props,{place:c}));if(b.length>1)return m.createElement(h,babelHelpers["extends"]({},this.props,{people:b}));return b.length===1?m.createElement(k,babelHelpers["extends"]({},this.props,{person:b[0]})):m.createElement("div",this.props)}.bind(this),b}a.prototype.render=function(){"use strict";return this.renderTokens()};a.propTypes={ogactivity:b.object,onTokenClick:b.func,people:b.array,place:b.object};a.defaultProps={ogactivity:null,people:[],place:null};e.exports=a}),null);
__d("MStructuredComposerUnifiedTagger",["MCompositionPlaceFields","MCompositionPlaceStore","MSubscriptionsHandlerMixin","MTokenizerParagraph.react","React","ReactDOM","Stratcom","mixin"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){__p&&__p();var o;b=babelHelpers.inherits(a,n(i));o=b&&b.prototype;function a(a){"use strict";o.constructor.call(this),this.$MStructuredComposerUnifiedTagger1={ogActivity:null,people:null,place:null},this.$MStructuredComposerUnifiedTagger2=a,this.addSubscriptions(h.addListener("change",function(){h.isEmpty()?this.setAttachments({place:null}):this.setAttachments({place:{name:h.get(g.NAME),isNonSpecific:h.get(g.IS_NON_SPECIFIC,!1)}})}.bind(this)),m.listen("MComposer:tagger:update",null,function(event){return this.setAttachments(event.getData())}.bind(this)),m.listen("MComposer:tagger:update:og-icon",null,function(event){return this.setOGIcon(event.getData().icon)}.bind(this)),m.listen("MComposer:tagger:clear",null,function(){return this.clear()}.bind(this))),this.$MStructuredComposerUnifiedTagger3()}a.prototype.clear=function(){"use strict";this.$MStructuredComposerUnifiedTagger1.ogActivity=null;this.$MStructuredComposerUnifiedTagger1.people=null;this.$MStructuredComposerUnifiedTagger1.place=null;return this.$MStructuredComposerUnifiedTagger3()};a.prototype.$MStructuredComposerUnifiedTagger4=function(a){"use strict";m.invoke("MComposer:tagger:click",a)};a.prototype.$MStructuredComposerUnifiedTagger5=function(){"use strict";return!!(this.$MStructuredComposerUnifiedTagger1.ogActivity||this.$MStructuredComposerUnifiedTagger1.people&&this.$MStructuredComposerUnifiedTagger1.people.length||this.$MStructuredComposerUnifiedTagger1.place)};a.prototype.$MStructuredComposerUnifiedTagger3=function(){"use strict";this.$MStructuredComposerUnifiedTagger5()?l.render(k.createElement(j,{ogactivity:this.$MStructuredComposerUnifiedTagger1.ogActivity,onTokenClick:function(a){return this.$MStructuredComposerUnifiedTagger4(a)}.bind(this),people:this.$MStructuredComposerUnifiedTagger1.people,place:this.$MStructuredComposerUnifiedTagger1.place}),this.$MStructuredComposerUnifiedTagger2):l.unmountComponentAtNode(this.$MStructuredComposerUnifiedTagger2);return this};a.prototype.setAttachments=function(a){"use strict";Object.assign(this.$MStructuredComposerUnifiedTagger1,a);return this.$MStructuredComposerUnifiedTagger3()};a.prototype.setOGIcon=function(a){"use strict";this.$MStructuredComposerUnifiedTagger1.ogActivity&&(this.$MStructuredComposerUnifiedTagger1.ogActivity.icon=a);return this.$MStructuredComposerUnifiedTagger3()};e.exports=a}),null);
__d("XMStoriesAsyncTrayController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/stories/tray/",{})}),null);
__d("MStoriesTrayUtils",["MPageCache","MPageControllerPath","MRequestTypes","MResponseData","MURI","XAsyncRequest","XMStoriesAsyncTrayController"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m){"use strict";__p&&__p();a={refreshTray:function(a,b){__p&&__p();var c=m.getURIBuilder().getURI();c=new l(new k(c).toString());c.setType(i.DEPENDENT);c.setAutoProcess(!1);c.setResponseHandler(function(b){b=new j(b);b.process();var c=h.getRequestPath();g.addCachedIUIResponse(c,b);a&&a()});c.setErrorHandler(function(){b&&b()});c.send()}};e.exports=a}),null);
__d("MStoriesProductionTrayAsync",["Bootloader","CSS","MFBStoriesGatingConfig","MFBStoriesTrayType","MStoriesID","MStoriesProductionInfo","MStoriesProductionTrayUtils","MStoriesStratcomEvents","MStoriesToast","MStoriesTrayUtils","MStoriesUIConstants","MStoriesUploadStatus","Stratcom","cx"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){"use strict";__p&&__p();a={handleFailedAddToStoryPogSelected:function(){__p&&__p();if(l.getUploadStatus()!==r.FAILED)return!1;var a=document.getElementById(k.PRODUCTION_INPUT);if(a){a.click();l.setUploadStatus(r.IDLE);m.updateProductionPog();return!0}return!1},uploadCB:function(a){__p&&__p();var b=m.getAnimationPog();if(a)l.setUploadStatus(r.IDLE),i.trayType!==j.CIRCULAR||b&&b.id===k.PRODUCTION_ADD_ITEM_POG?p.refreshTray(function(){this._cleanupUploading(),o.showDefaultToast(q.UPLOAD_SUCCESSFUL)}.bind(this),function(){this._cleanupUploading()}.bind(this)):(this._cleanupUploading(),o.showDefaultToast(q.UPLOAD_SUCCESSFUL)),b&&h.addClass(b,"_26w9"),s.invoke(n.UPLOAD_SUCCESS,null,null);else{l.setUploadStatus(r.FAILED);if(b&&b.id===k.PRODUCTION_ADD_ITEM_POG){var c=document.getElementById(k.PRODUCTION_ADD_ITEM_DIV);c&&h.addClass(c,"no-after");b&&h.removeClass(b,"hide-border")}this._cleanupUploading();s.invoke(n.UPLOAD_FAILED,null,null)}g.loadModules(["FBStoriesLoggingConstants","MStoriesTypedLogger"],function(b,c){b=a?b.ACTION_SEND_STORY_SUCCEEDED:b.ACTION_SEND_STORY_FAILED;c=new c().setName(b);c.log()},"MStoriesProductionTrayAsync")},_cleanupUploading:function(){var a=document.getElementById(k.PRODUCTION_ADD_ITEM_POG),b=document.getElementById(k.PRODUCTION_OWNER_ITEM_POG);a&&h.removeClass(a,m.getUploadingClass());b&&h.removeClass(b,m.getUploadingClass());a=document.getElementById(k.PRODUCTION_ADD_ITEM_DIV);a&&h.removeClass(a,"disable");m.updateProductionPog()}};e.exports=a}),null);
__d("MPlatformDialogTagger",["DOM","Stratcom","SubscriptionsHandler","$","mapObject","mixInEventEmitter"],(function(a,b,c,d,e,f,g,h,i,j,k,l){__p&&__p();a.prototype.init=function(a,b,c){"use strict";this.$1=!1,this.$2=new i(),this.$3=null,this.$4=a,this.$5=b,h.addSigil(this.$4.getRoot(),c),this.$2.addSubscriptions(h.listen("click",c,this.$6.bind(this)),this.$5.listen("cancel",this.$7.bind(this)),this.$5.listen("submit",this.$7.bind(this)),h.listen("m:history:change",null,function(a){if(!this.$1)return;this.$7();a.prevent()}.bind(this)),h.listen("m:page:unload",null,this.$8.bind(this)))};a.prototype.createInputs=function(a,b,c){"use strict";__p&&__p();c=c||"";this.reset();var d={};b?b.forEach(function(b){a[b]&&(d[b]=a[b])}):d=a;if(Object.keys(d).length===0){this.$3&&g.remove(this.$3);this.$4.setSelected(!1);return}this.$3=g.create("div");k(d,function(a,b){g.appendContent(this.$3,g.create("input",{type:"hidden",name:c+b,value:a}))}.bind(this));g.appendContent(this.$4.getRoot(),this.$3);Object.keys(d).some(function(a){return Array.isArray(d[a])?d[a].length>0:d[a]})&&this.$4.setSelected(!0)};a.prototype.reset=function(){"use strict";this.$3&&g.remove(this.$3),this.$3=null,this.$4.setSelected(!1)};a.prototype.destroy=function(){"use strict";this.$8()};a.prototype.$6=function(event){"use strict";if(event.getNode("remove"))return;this.$1=!0;g.hide(j("viewport"));this.$5.show()};a.prototype.$7=function(){"use strict";this.$1=!1,g.show(j("viewport")),this.$5.hide()};a.prototype.$8=function(){"use strict";this.clearInputs(),this.$2.release(),this.$2=null,this.$5&&this.$5.getRoot()&&g.remove(this.$5.getRoot())};function a(){"use strict"}l(a,{cleared:!0,populated:!0});e.exports=a;e.exports.EVENT_CLEARED="cleared";e.exports.EVENT_POPULATED="populated"}),null);
__d("MPlatformDialogPeopleTagger",["DOM","MFriendsTaggerReact","MPlatformDialogTagger","Stratcom","SubscriptionsHandler"],(function(a,b,c,d,e,f,g,h,i,j,k){__p&&__p();var l,m="fb:og:people:",n=m+"tagger";b=babelHelpers.inherits(a,i);l=b&&b.prototype;function a(a,b,c){"use strict";l.constructor.call(this);this.$MPlatformDialogPeopleTagger1=new k();this.$MPlatformDialogPeopleTagger2=new h(b);this.$MPlatformDialogPeopleTagger3=a;this.init(this.$MPlatformDialogPeopleTagger3,this.$MPlatformDialogPeopleTagger2,n);this.$MPlatformDialogPeopleTagger1.addSubscriptions(this.$MPlatformDialogPeopleTagger2.listen("submit",this.$MPlatformDialogPeopleTagger4.bind(this)),j.listen("click",n,this.$MPlatformDialogPeopleTagger5.bind(this)),j.listen("m:page:unload",null,this.$MPlatformDialogPeopleTagger6.bind(this)));b=c&&c.length?{friend_ids:c}:{};this.createInputs(b,null,m)}a.prototype.$MPlatformDialogPeopleTagger4=function(a){"use strict";!this.$MPlatformDialogPeopleTagger2.hasTokens()?j.invoke(i.EVENT_CLEARED,n):j.invoke(i.EVENT_POPULATED,n,a.tokens),this.$MPlatformDialogPeopleTagger7()};a.prototype.$MPlatformDialogPeopleTagger5=function(event){"use strict";event.getNode("remove")&&(this.$MPlatformDialogPeopleTagger2.removeToken(event.getNode("token")),this.$MPlatformDialogPeopleTagger7())};a.prototype.$MPlatformDialogPeopleTagger7=function(){"use strict";var a={};this.$MPlatformDialogPeopleTagger2.hasTokens()?a={friend_ids:Object.keys(this.$MPlatformDialogPeopleTagger2.getTokens())}:this.$MPlatformDialogPeopleTagger3.setSelected(!1);this.createInputs(a,null,m)};a.prototype.$MPlatformDialogPeopleTagger6=function(){"use strict";this.$MPlatformDialogPeopleTagger1.release(),this.$MPlatformDialogPeopleTagger1=null,this.$MPlatformDialogPeopleTagger2&&this.$MPlatformDialogPeopleTagger2.getRoot()&&g.remove(this.$MPlatformDialogPeopleTagger2.getRoot())};a.SIGIL=n;e.exports=a}),null);
__d("XPrivacyCustomEditController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/privacy/custom/edit/",{post_id:{type:"String"},privacy_id:{type:"String"}})}),null);
__d("MPrivacyComposerMenu",["CSS","DOM","MComposerLogger","MComposerWaterfallEvent","MCompositionConfigFields","MCompositionConfigStore","MCompositionPrivacyFields","MCompositionPrivacyStore","MCompositionUserActions","MLegacyDataStore","MModalDialog","MRequest","MViewport","PrivacyConst","Stratcom","SubscriptionsHandler","XPrivacyCustomEditController","$","cx","fbt"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){__p&&__p();function A(a,b,c,d){"use strict";__p&&__p();this._root=x(a),this._hiddenInput=h.find(this._root,"input"),this._selectedOption=h.scry(this._root,"tr","checked")[0],this._stickyURI=b,this._stickyOption=this._selectedOption,this._enableCustomMenu=d,this._dontSaveSticky=!1,this._customLabel=c,this._listeners=new v(),this._listeners.addSubscriptions(n.addChangeListener(function(){return this._handlePrivacyUpdate()}.bind(this))),this._listeners.addSubscriptions(h.listen(this._root,"click","privacy-option",function(a){__p&&__p();a=a.getNode("privacy-option");if(!this._enableCustomMenu||a!=this.getCustomOption()){this._selectOption(a);return}var b=u.listen("m:viewport:orientation-change",null,this._addHeightConstraint.bind(this));this._addHeightConstraint();a=n.get(m.PRIVACY_FBID,null);var c=l.get(k.POST_ID,null);a=w.getURIBuilder().setString("privacy_id",a).setString("post_id",c).getURI();q.open(a.toString(),function(a){__p&&__p();u.invoke("MPrivacyComposerMenu::custom",null,{visible:!1,instance:this,selector:this._root});s.scrollToHeader();b.remove();this._removeHeightConstraint();if(!a.canceled){var c=a.payload.payload.value,d=h.scry(this._root,"tr","privacy-option"),e=!1;for(var f=0;f<d.length;f++)if(p.get(d[f]).value==c){this._selectOption(d[f],!0);e=!0;break}if(!e){this._updateCustomSelectedOption(a.payload.payload.description,c);f=this._getCustomSelectedOption();f&&this._selectOption(f,!0)}}}.bind(this));u.invoke("MPrivacyComposerMenu::custom",null,{visible:!0,instance:this,selector:this._root})}.bind(this))),this._listeners.addSubscriptions(u.listen("MStructuredComposer:reset",null,function(a){this._stickyCustomValue&&this._stickyCustomLabel&&this._updateCustomSelectedOption(this._stickyCustomLabel,this._stickyCustomValue)}.bind(this))),this._listeners.addSubscriptions(u.listen("MPrivacyDeferredSelector-loaded",null,function(a){a=a.getData();var b=h.find(this._root,"table","privacy-table");b.id==a.id&&(this._selectedOption=h.scry(this._root,"tr","checked")[0]);this._handlePrivacyUpdate()}.bind(this))),this._listeners.addSubscriptions(u.listen("MPrivacyComposerMenu:updatePrivacy",null,function(a){a=a.getData();this._selectOption(a.row,!1,a.log)}.bind(this))),p.set(this._root,{instance:this})}A.prototype.setShowTagExpansion=function(a){"use strict";var b=this._root;b&&(g.conditionClass(b,"_1oxi",a),g.conditionClass(b,"_3kaj",a))};A.prototype.getCustomOption=function(){"use strict";return h.find(this._root,"tr","privacy-custom-option")};A.prototype._getCustomSelectedOption=function(){"use strict";return h.scry(this._root,"tr","privacy-custom-selected-option")[0]};A.prototype.getSelectedValue=function(){"use strict";return p.get(this._selectedOption).value};A.prototype._getCustomLabel=function(){"use strict";var a=this._getCustomSelectedOption();if(!a)return null;a=h.scry(a,"span","option-desc")[0];return a?a.textContent:null};A.prototype._getCustomValue=function(){"use strict";var a=this._getCustomSelectedOption();return!a?null:p.get(a).value};A.prototype._selectOption=function(a,b,c){"use strict";__p&&__p();c=c!==void 0?c:!0;var d=n.get(m.NEVER_SAVE_STICKY,!1);a=p.get(a).value;var e=this._getCustomLabel(),f=this._getCustomValue(),g={};g[m.PRIVACY_FBID]=a;g[m.ALREADY_SAVED_STICKY]=b;g[m.NEVER_SAVE_STICKY]=d;g[m.CLOSE_DIALOG]=!0;g[m.CUSTOM_LABEL]=e;g[m.CUSTOM_OPTION]=f;o.privacyUpdate(g);c&&i.log(j.PRIVACY_ADD,{privacy_setting:a})};A.prototype._updateCustomSelectedOption=function(a,b){"use strict";var c=h.find(this._getCustomSelectedOption(),"span","option-desc");h.setContent(c,a);p.set(this._getCustomSelectedOption(),{value:b});if(b){h.show(this._getCustomSelectedOption());c=h.find(this._getCustomSelectedOption(),"span","plus-label");h.setContent(c,this._getTagExpansionLabel(b))}};A.prototype._getTagExpansionLabel=function(a){"use strict";try{var b;a=JSON.parse(a);b=(((b=a)!=null?b.allow:b)||[]).indexOf(t.CustomPrivacyTokens.FRIENDS)>=0;a=((a=a)!=null?(a=a.settings)!=null?a.no_tag_expansion:a:a)||0;return b&&a===0?z._("(+ Friends of Tagged)"):z._("(+ Tagged)")}catch(a){}return null};A.prototype._addHeightConstraint=function(){"use strict";this._removeHeightConstraint();var a=s.getUseableHeight();this._heightConstraint=s.addHeightConstraint(a)};A.prototype._removeHeightConstraint=function(){"use strict";this._heightConstraint&&(this._heightConstraint.release(),this._heightConstraint=null)};A.prototype._handlePrivacyUpdate=function(){"use strict";__p&&__p();!this._stickyCustomValue&&this._getCustomSelectedOption()&&(this._stickyCustomValue=this._getCustomValue(),this._stickyCustomLabel=this._getCustomLabel());var a=n.get(m.PRIVACY_FBID,null),b=n.get(m.ALREADY_SAVED_STICKY,!1),c=n.get(m.NEVER_SAVE_STICKY,!1),d=n.get(m.CLOSE_DIALOG,!1),e=n.get(m.CUSTOM_LABEL),f=n.get(m.CUSTOM_OPTION);b!==void 0&&(this._dontSaveSticky=b);b=h.scry(this._root,"tr","privacy-option");a===null&&(a=p.get(this._stickyOption).value);var i=this._hiddenInput&&this._hiddenInput.value;d=d||i!=a;i=h.scry(document.body,"button","privacy-button")[0];if(a!==null&&d){d=null;for(var j=0;j<b.length;j++)p.get(b[j]).value==a&&(d=b[j]);this._getCustomSelectedOption()&&f!==null&&e!==null&&this._updateCustomSelectedOption(e,f);d||(d=this._getCustomSelectedOption());if(!d){i&&g.conditionShow(i,!1);return}this._hiddenInput&&(this._hiddenInput.value=a);this._selectedOption&&g.conditionClass(this._selectedOption,"checked",!1);this._selectedOption=d;g.conditionClass(d,"checked",!0);j=!!h.scry(d,"span","plus-label").length;b=h.scry(d,"i","small-icon");b.length==0?b=h.find(d,"i","icon"):b=b[0];e=b.outerHTML;f=h.find(d,"span","option-desc");a=this._hiddenInput&&this._hiddenInput.value;u.invoke("MPrivacyComposerMenu::change",null,{value:a,showPlus:j,iconHTML:e,optionLabel:f,instance:this});c||(this._stickyOption=this._selectedOption,this._stickyCustomValue=this._getCustomValue(),this._stickyCustomLabel=this._getCustomLabel(),!this._dontSaveSticky&&this._stickyURI&&new r(this._stickyURI).setData({privacyx:a}).send())}b=l.get(k.DISABLE_PRIVACY,!1);i&&!b&&g.conditionShow(i,!0)};A.init=function(a,b,c,d){"use strict";return new A(a,b,c,d)};A.getInstance=function(a){"use strict";return p.get(a).instance};e.exports=A}),null);
__d("MPrivacyComposerSelector",["Banzai","BanzaiLogger","CSS","DOM","HTML","MComposerLogger","MComposerWaterfallEvent","MLegacyDataStore","MPlatformDialogPeopleTagger","MPlatformDialogTagger","MPrivacyComposerMenu","MViewport","Stratcom","Vector","$","cx","ge","isEmpty"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){__p&&__p();function y(a,b){"use strict";__p&&__p();this._root=u(a);this._button=j.scry(this._root,"button","privacy-button")[0];this._button||(this._button=j.find(this._root,"div","privacy-button"));this._buttonIcon=j.find(this._root,"div","privacy-button-icon");this._menu=j.find(this._root,"div","privacy-composer-menu");this._config=b;j.listen(this._root,"click","privacy-button",function(event){this.isOpen()?(this.hideMenu(),l.log(m.PRIVACY_CANCEL)):(this.showMenu(),h.log("MPrivacySelectorConsistencyLoggerConfig",{event:"render",logging_source:"mobile_composer_timeline"}),l.log(m.PRIVACY_INTENT)),document&&document.activeElement&&document.activeElement.blur()}.bind(this));s.listen("MPrivacyComposerMenu::change",null,function(a){__p&&__p();a=a.getData();if(a.instance!=q.getInstance(this._menu))return;!Object.prototype.hasOwnProperty.call(a,"optionLabel")||!Object.prototype.hasOwnProperty.call(a,"showPlus")||!Object.prototype.hasOwnProperty.call(a,"iconHTML");if(this._config.updatebuttontext){var b=j.find(this._button,"span","button-text");j.setContent(b,a.optionLabel.cloneNode(!0))}b=j.find(this._button,"span","plus-label");a.showPlus?j.show(b):j.hide(b);a.iconHTML&&j.setContent(this._buttonIcon,new k(a.iconHTML));this.hideMenu()}.bind(this));var c=s.listen(p.EVENT_POPULATED,o.SIGIL,function(a){return this._updateTagExpansion(a)}.bind(this)),d=s.listen(p.EVENT_CLEARED,o.SIGIL,function(a){return this._updateTagExpansion(a)}.bind(this));s.listen("m:page:unload",null,function(){c.remove(),d.remove(),s.removeCurrentListener()});n.set(this._root,{instance:this})}y.prototype._updateTagExpansion=function(a){"use strict";a=a&&!x(a.getData());this.setShowTagExpansion(!!a)};y.prototype.setShowTagExpansion=function(a){"use strict";this._root&&i.conditionClass(this._root,"_27-k",a);var b=q.getInstance(this._menu);b&&b.setShowTagExpansion(a)};y.prototype.getSelectedValue=function(){"use strict";var a=q.getInstance(this._menu);if(a)return a.getSelectedValue();else{a=w(y.getSavedCustomInputName(),this._root);return a&&a.value}};y.prototype.showMenu=function(){"use strict";j.show(this._menu),s.invoke("MPrivacyComposerMenu::show",null,{selector:this._root}),this._heightConstraint=r.addMinHeightConstraint(t.getDim(this._menu).y+t.getPos(this._menu).y),g.post("privacy_selector_interaction",{event:"open_selector"})};y.prototype.hideMenu=function(){"use strict";this.isOpen()&&(j.hide(this._menu),s.invoke("MPrivacyComposerMenu::hide",null,{selector:this._root}),this._heightConstraint&&this._heightConstraint.release(),g.post("privacy_selector_interaction",{event:"close_selector"}))};y.prototype.isOpen=function(){"use strict";var a=this._menu&&this._menu.style;return a!=null&&a.display!="none"};y.init=function(a,b){"use strict";return new y(a,b)};y.getInstance=function(a){"use strict";return n.get(a).instance};y.getSavedCustomInputName=function(){"use strict";return"m_composer_privacy_selector_input"};e.exports=y}),null);
__d("MImageFetchNotifier",["invariant","prefetchImage","setImmediateAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j={},k={},l={},m={};function n(a,b){if(!j[a])return;b=j[a].indexOf(b);j[a].splice(b,1);j[a].length===0&&(l[a].cancel(),delete j[a],delete l[a])}function o(a){k[a]=!0,j[a].forEach(function(a){return a()}),delete j[a],delete l[a]}function p(a){l[a]=h(a,function(){o(a)})}var q={associateImageURLWithDOMID:function(a,b){m[a]=b},notifyWhenFetched:function(a,b){__p&&__p();if(k[a]===!0){var c=!0;i(function(){c&&b()});return{remove:function(){c=!1}}}j[a]=j[a]||[];j[a].push(b);l[a]||p(a);return{remove:function(){n(a,b)}}},notifyWhenFetchedForDOMID:function(a,b){var c=m[a];c!==null||g(0,1595,a);return q.notifyWhenFetched(c,b)}};e.exports=q}),null);
__d("XInlineComposerAudienceEducationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/privacy/audience_education/",{new_post_param:{type:"String"},update_icon:{type:"Bool",defaultValue:!1}})}),null);